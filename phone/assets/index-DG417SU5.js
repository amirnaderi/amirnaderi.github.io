var Eg=Object.defineProperty;var wg=(e,t,l)=>t in e?Eg(e,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):e[t]=l;var Tr=(e,t,l)=>wg(e,typeof t!="symbol"?t+"":t,l);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const u of s)if(u.type==="childList")for(const n of u.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&i(n)}).observe(document,{childList:!0,subtree:!0});function l(s){const u={};return s.integrity&&(u.integrity=s.integrity),s.referrerPolicy&&(u.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?u.credentials="include":s.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function i(s){if(s.ep)return;s.ep=!0;const u=l(s);fetch(s.href,u)}})();function l_(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var i_={exports:{}},vo={},s_={exports:{}},se={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oi=Symbol.for("react.element"),Rg=Symbol.for("react.portal"),Ag=Symbol.for("react.fragment"),Ig=Symbol.for("react.strict_mode"),kg=Symbol.for("react.profiler"),xg=Symbol.for("react.provider"),Og=Symbol.for("react.context"),Ng=Symbol.for("react.forward_ref"),bg=Symbol.for("react.suspense"),Pg=Symbol.for("react.memo"),Dg=Symbol.for("react.lazy"),nh=Symbol.iterator;function Ug(e){return e===null||typeof e!="object"?null:(e=nh&&e[nh]||e["@@iterator"],typeof e=="function"?e:null)}var o_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},u_=Object.assign,a_={};function Zr(e,t,l){this.props=e,this.context=t,this.refs=a_,this.updater=l||o_}Zr.prototype.isReactComponent={};Zr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Zr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function c_(){}c_.prototype=Zr.prototype;function cc(e,t,l){this.props=e,this.context=t,this.refs=a_,this.updater=l||o_}var fc=cc.prototype=new c_;fc.constructor=cc;u_(fc,Zr.prototype);fc.isPureReactComponent=!0;var rh=Array.isArray,f_=Object.prototype.hasOwnProperty,dc={current:null},d_={key:!0,ref:!0,__self:!0,__source:!0};function h_(e,t,l){var i,s={},u=null,n=null;if(t!=null)for(i in t.ref!==void 0&&(n=t.ref),t.key!==void 0&&(u=""+t.key),t)f_.call(t,i)&&!d_.hasOwnProperty(i)&&(s[i]=t[i]);var d=arguments.length-2;if(d===1)s.children=l;else if(1<d){for(var h=Array(d),c=0;c<d;c++)h[c]=arguments[c+2];s.children=h}if(e&&e.defaultProps)for(i in d=e.defaultProps,d)s[i]===void 0&&(s[i]=d[i]);return{$$typeof:oi,type:e,key:u,ref:n,props:s,_owner:dc.current}}function Lg(e,t){return{$$typeof:oi,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function hc(e){return typeof e=="object"&&e!==null&&e.$$typeof===oi}function Mg(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(l){return t[l]})}var lh=/\/+/g;function uu(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Mg(""+e.key):t.toString(36)}function cs(e,t,l,i,s){var u=typeof e;(u==="undefined"||u==="boolean")&&(e=null);var n=!1;if(e===null)n=!0;else switch(u){case"string":case"number":n=!0;break;case"object":switch(e.$$typeof){case oi:case Rg:n=!0}}if(n)return n=e,s=s(n),e=i===""?"."+uu(n,0):i,rh(s)?(l="",e!=null&&(l=e.replace(lh,"$&/")+"/"),cs(s,t,l,"",function(c){return c})):s!=null&&(hc(s)&&(s=Lg(s,l+(!s.key||n&&n.key===s.key?"":(""+s.key).replace(lh,"$&/")+"/")+e)),t.push(s)),1;if(n=0,i=i===""?".":i+":",rh(e))for(var d=0;d<e.length;d++){u=e[d];var h=i+uu(u,d);n+=cs(u,t,l,h,s)}else if(h=Ug(e),typeof h=="function")for(e=h.call(e),d=0;!(u=e.next()).done;)u=u.value,h=i+uu(u,d++),n+=cs(u,t,l,h,s);else if(u==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return n}function Li(e,t,l){if(e==null)return e;var i=[],s=0;return cs(e,i,"","",function(u){return t.call(l,u,s++)}),i}function Fg(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(l){(e._status===0||e._status===-1)&&(e._status=1,e._result=l)},function(l){(e._status===0||e._status===-1)&&(e._status=2,e._result=l)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ct={current:null},fs={transition:null},Hg={ReactCurrentDispatcher:ct,ReactCurrentBatchConfig:fs,ReactCurrentOwner:dc};function p_(){throw Error("act(...) is not supported in production builds of React.")}se.Children={map:Li,forEach:function(e,t,l){Li(e,function(){t.apply(this,arguments)},l)},count:function(e){var t=0;return Li(e,function(){t++}),t},toArray:function(e){return Li(e,function(t){return t})||[]},only:function(e){if(!hc(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};se.Component=Zr;se.Fragment=Ag;se.Profiler=kg;se.PureComponent=cc;se.StrictMode=Ig;se.Suspense=bg;se.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Hg;se.act=p_;se.cloneElement=function(e,t,l){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=u_({},e.props),s=e.key,u=e.ref,n=e._owner;if(t!=null){if(t.ref!==void 0&&(u=t.ref,n=dc.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var d=e.type.defaultProps;for(h in t)f_.call(t,h)&&!d_.hasOwnProperty(h)&&(i[h]=t[h]===void 0&&d!==void 0?d[h]:t[h])}var h=arguments.length-2;if(h===1)i.children=l;else if(1<h){d=Array(h);for(var c=0;c<h;c++)d[c]=arguments[c+2];i.children=d}return{$$typeof:oi,type:e.type,key:s,ref:u,props:i,_owner:n}};se.createContext=function(e){return e={$$typeof:Og,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:xg,_context:e},e.Consumer=e};se.createElement=h_;se.createFactory=function(e){var t=h_.bind(null,e);return t.type=e,t};se.createRef=function(){return{current:null}};se.forwardRef=function(e){return{$$typeof:Ng,render:e}};se.isValidElement=hc;se.lazy=function(e){return{$$typeof:Dg,_payload:{_status:-1,_result:e},_init:Fg}};se.memo=function(e,t){return{$$typeof:Pg,type:e,compare:t===void 0?null:t}};se.startTransition=function(e){var t=fs.transition;fs.transition={};try{e()}finally{fs.transition=t}};se.unstable_act=p_;se.useCallback=function(e,t){return ct.current.useCallback(e,t)};se.useContext=function(e){return ct.current.useContext(e)};se.useDebugValue=function(){};se.useDeferredValue=function(e){return ct.current.useDeferredValue(e)};se.useEffect=function(e,t){return ct.current.useEffect(e,t)};se.useId=function(){return ct.current.useId()};se.useImperativeHandle=function(e,t,l){return ct.current.useImperativeHandle(e,t,l)};se.useInsertionEffect=function(e,t){return ct.current.useInsertionEffect(e,t)};se.useLayoutEffect=function(e,t){return ct.current.useLayoutEffect(e,t)};se.useMemo=function(e,t){return ct.current.useMemo(e,t)};se.useReducer=function(e,t,l){return ct.current.useReducer(e,t,l)};se.useRef=function(e){return ct.current.useRef(e)};se.useState=function(e){return ct.current.useState(e)};se.useSyncExternalStore=function(e,t,l){return ct.current.useSyncExternalStore(e,t,l)};se.useTransition=function(){return ct.current.useTransition()};se.version="18.3.1";s_.exports=se;var de=s_.exports;const $g=l_(de);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jg=de,zg=Symbol.for("react.element"),Bg=Symbol.for("react.fragment"),qg=Object.prototype.hasOwnProperty,Vg=jg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Wg={key:!0,ref:!0,__self:!0,__source:!0};function __(e,t,l){var i,s={},u=null,n=null;l!==void 0&&(u=""+l),t.key!==void 0&&(u=""+t.key),t.ref!==void 0&&(n=t.ref);for(i in t)qg.call(t,i)&&!Wg.hasOwnProperty(i)&&(s[i]=t[i]);if(e&&e.defaultProps)for(i in t=e.defaultProps,t)s[i]===void 0&&(s[i]=t[i]);return{$$typeof:zg,type:e,key:u,ref:n,props:s,_owner:Vg.current}}vo.Fragment=Bg;vo.jsx=__;vo.jsxs=__;i_.exports=vo;var U=i_.exports,ra={},v_={exports:{}},Rt={},m_={exports:{}},g_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(G,Z){var ne=G.length;G.push(Z);e:for(;0<ne;){var fe=ne-1>>>1,ee=G[fe];if(0<s(ee,Z))G[fe]=Z,G[ne]=ee,ne=fe;else break e}}function l(G){return G.length===0?null:G[0]}function i(G){if(G.length===0)return null;var Z=G[0],ne=G.pop();if(ne!==Z){G[0]=ne;e:for(var fe=0,ee=G.length,It=ee>>>1;fe<It;){var it=2*(fe+1)-1,kt=G[it],Je=it+1,ae=G[Je];if(0>s(kt,ne))Je<ee&&0>s(ae,kt)?(G[fe]=ae,G[Je]=ne,fe=Je):(G[fe]=kt,G[it]=ne,fe=it);else if(Je<ee&&0>s(ae,ne))G[fe]=ae,G[Je]=ne,fe=Je;else break e}}return Z}function s(G,Z){var ne=G.sortIndex-Z.sortIndex;return ne!==0?ne:G.id-Z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;e.unstable_now=function(){return u.now()}}else{var n=Date,d=n.now();e.unstable_now=function(){return n.now()-d}}var h=[],c=[],_=1,v=null,g=3,S=!1,E=!1,R=!1,F=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(G){for(var Z=l(c);Z!==null;){if(Z.callback===null)i(c);else if(Z.startTime<=G)i(c),Z.sortIndex=Z.expirationTime,t(h,Z);else break;Z=l(c)}}function I(G){if(R=!1,w(G),!E)if(l(h)!==null)E=!0,O(L);else{var Z=l(c);Z!==null&&$(I,Z.startTime-G)}}function L(G,Z){E=!1,R&&(R=!1,C(k),k=-1),S=!0;var ne=g;try{for(w(Z),v=l(h);v!==null&&(!(v.expirationTime>Z)||G&&!Ie());){var fe=v.callback;if(typeof fe=="function"){v.callback=null,g=v.priorityLevel;var ee=fe(v.expirationTime<=Z);Z=e.unstable_now(),typeof ee=="function"?v.callback=ee:v===l(h)&&i(h),w(Z)}else i(h);v=l(h)}if(v!==null)var It=!0;else{var it=l(c);it!==null&&$(I,it.startTime-Z),It=!1}return It}finally{v=null,g=ne,S=!1}}var q=!1,B=null,k=-1,b=5,X=-1;function Ie(){return!(e.unstable_now()-X<b)}function $e(){if(B!==null){var G=e.unstable_now();X=G;var Z=!0;try{Z=B(!0,G)}finally{Z?ie():(q=!1,B=null)}}else q=!1}var ie;if(typeof T=="function")ie=function(){T($e)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,z=H.port2;H.port1.onmessage=$e,ie=function(){z.postMessage(null)}}else ie=function(){F($e,0)};function O(G){B=G,q||(q=!0,ie())}function $(G,Z){k=F(function(){G(e.unstable_now())},Z)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(G){G.callback=null},e.unstable_continueExecution=function(){E||S||(E=!0,O(L))},e.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<G?Math.floor(1e3/G):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return l(h)},e.unstable_next=function(G){switch(g){case 1:case 2:case 3:var Z=3;break;default:Z=g}var ne=g;g=Z;try{return G()}finally{g=ne}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(G,Z){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ne=g;g=G;try{return Z()}finally{g=ne}},e.unstable_scheduleCallback=function(G,Z,ne){var fe=e.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?fe+ne:fe):ne=fe,G){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=ne+ee,G={id:_++,callback:Z,priorityLevel:G,startTime:ne,expirationTime:ee,sortIndex:-1},ne>fe?(G.sortIndex=ne,t(c,G),l(h)===null&&G===l(c)&&(R?(C(k),k=-1):R=!0,$(I,ne-fe))):(G.sortIndex=ee,t(h,G),E||S||(E=!0,O(L))),G},e.unstable_shouldYield=Ie,e.unstable_wrapCallback=function(G){var Z=g;return function(){var ne=g;g=Z;try{return G.apply(this,arguments)}finally{g=ne}}}})(g_);m_.exports=g_;var Gg=m_.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kg=de,wt=Gg;function j(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,l=1;l<arguments.length;l++)t+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var y_=new Set,jl={};function vr(e,t){Vr(e,t),Vr(e+"Capture",t)}function Vr(e,t){for(jl[e]=t,e=0;e<t.length;e++)y_.add(t[e])}var dn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),la=Object.prototype.hasOwnProperty,Qg=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ih={},sh={};function Yg(e){return la.call(sh,e)?!0:la.call(ih,e)?!1:Qg.test(e)?sh[e]=!0:(ih[e]=!0,!1)}function Xg(e,t,l,i){if(l!==null&&l.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return i?!1:l!==null?!l.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Jg(e,t,l,i){if(t===null||typeof t>"u"||Xg(e,t,l,i))return!0;if(i)return!1;if(l!==null)switch(l.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ft(e,t,l,i,s,u,n){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=i,this.attributeNamespace=s,this.mustUseProperty=l,this.propertyName=e,this.type=t,this.sanitizeURL=u,this.removeEmptyString=n}var Xe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Xe[e]=new ft(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Xe[t]=new ft(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Xe[e]=new ft(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Xe[e]=new ft(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Xe[e]=new ft(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Xe[e]=new ft(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Xe[e]=new ft(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Xe[e]=new ft(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Xe[e]=new ft(e,5,!1,e.toLowerCase(),null,!1,!1)});var pc=/[\-:]([a-z])/g;function _c(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(pc,_c);Xe[t]=new ft(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(pc,_c);Xe[t]=new ft(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(pc,_c);Xe[t]=new ft(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Xe[e]=new ft(e,1,!1,e.toLowerCase(),null,!1,!1)});Xe.xlinkHref=new ft("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Xe[e]=new ft(e,1,!1,e.toLowerCase(),null,!0,!0)});function vc(e,t,l,i){var s=Xe.hasOwnProperty(t)?Xe[t]:null;(s!==null?s.type!==0:i||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Jg(t,l,s,i)&&(l=null),i||s===null?Yg(t)&&(l===null?e.removeAttribute(t):e.setAttribute(t,""+l)):s.mustUseProperty?e[s.propertyName]=l===null?s.type===3?!1:"":l:(t=s.attributeName,i=s.attributeNamespace,l===null?e.removeAttribute(t):(s=s.type,l=s===3||s===4&&l===!0?"":""+l,i?e.setAttributeNS(i,t,l):e.setAttribute(t,l))))}var vn=Kg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Mi=Symbol.for("react.element"),Rr=Symbol.for("react.portal"),Ar=Symbol.for("react.fragment"),mc=Symbol.for("react.strict_mode"),ia=Symbol.for("react.profiler"),S_=Symbol.for("react.provider"),T_=Symbol.for("react.context"),gc=Symbol.for("react.forward_ref"),sa=Symbol.for("react.suspense"),oa=Symbol.for("react.suspense_list"),yc=Symbol.for("react.memo"),Rn=Symbol.for("react.lazy"),C_=Symbol.for("react.offscreen"),oh=Symbol.iterator;function fl(e){return e===null||typeof e!="object"?null:(e=oh&&e[oh]||e["@@iterator"],typeof e=="function"?e:null)}var Ae=Object.assign,au;function Il(e){if(au===void 0)try{throw Error()}catch(l){var t=l.stack.trim().match(/\n( *(at )?)/);au=t&&t[1]||""}return`
`+au+e}var cu=!1;function fu(e,t){if(!e||cu)return"";cu=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var i=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){i=c}e.call(t.prototype)}else{try{throw Error()}catch(c){i=c}e()}}catch(c){if(c&&i&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),u=i.stack.split(`
`),n=s.length-1,d=u.length-1;1<=n&&0<=d&&s[n]!==u[d];)d--;for(;1<=n&&0<=d;n--,d--)if(s[n]!==u[d]){if(n!==1||d!==1)do if(n--,d--,0>d||s[n]!==u[d]){var h=`
`+s[n].replace(" at new "," at ");return e.displayName&&h.includes("<anonymous>")&&(h=h.replace("<anonymous>",e.displayName)),h}while(1<=n&&0<=d);break}}}finally{cu=!1,Error.prepareStackTrace=l}return(e=e?e.displayName||e.name:"")?Il(e):""}function Zg(e){switch(e.tag){case 5:return Il(e.type);case 16:return Il("Lazy");case 13:return Il("Suspense");case 19:return Il("SuspenseList");case 0:case 2:case 15:return e=fu(e.type,!1),e;case 11:return e=fu(e.type.render,!1),e;case 1:return e=fu(e.type,!0),e;default:return""}}function ua(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ar:return"Fragment";case Rr:return"Portal";case ia:return"Profiler";case mc:return"StrictMode";case sa:return"Suspense";case oa:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case T_:return(e.displayName||"Context")+".Consumer";case S_:return(e._context.displayName||"Context")+".Provider";case gc:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case yc:return t=e.displayName||null,t!==null?t:ua(e.type)||"Memo";case Rn:t=e._payload,e=e._init;try{return ua(e(t))}catch{}}return null}function ey(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ua(t);case 8:return t===mc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Hn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function E_(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function ty(e){var t=E_(e)?"checked":"value",l=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var s=l.get,u=l.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(n){i=""+n,u.call(this,n)}}),Object.defineProperty(e,t,{enumerable:l.enumerable}),{getValue:function(){return i},setValue:function(n){i=""+n},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Fi(e){e._valueTracker||(e._valueTracker=ty(e))}function w_(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var l=t.getValue(),i="";return e&&(i=E_(e)?e.checked?"true":"false":e.value),e=i,e!==l?(t.setValue(e),!0):!1}function Us(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function aa(e,t){var l=t.checked;return Ae({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??e._wrapperState.initialChecked})}function uh(e,t){var l=t.defaultValue==null?"":t.defaultValue,i=t.checked!=null?t.checked:t.defaultChecked;l=Hn(t.value!=null?t.value:l),e._wrapperState={initialChecked:i,initialValue:l,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function R_(e,t){t=t.checked,t!=null&&vc(e,"checked",t,!1)}function ca(e,t){R_(e,t);var l=Hn(t.value),i=t.type;if(l!=null)i==="number"?(l===0&&e.value===""||e.value!=l)&&(e.value=""+l):e.value!==""+l&&(e.value=""+l);else if(i==="submit"||i==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?fa(e,t.type,l):t.hasOwnProperty("defaultValue")&&fa(e,t.type,Hn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function ah(e,t,l){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!(i!=="submit"&&i!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,l||t===e.value||(e.value=t),e.defaultValue=t}l=e.name,l!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,l!==""&&(e.name=l)}function fa(e,t,l){(t!=="number"||Us(e.ownerDocument)!==e)&&(l==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+l&&(e.defaultValue=""+l))}var kl=Array.isArray;function Fr(e,t,l,i){if(e=e.options,t){t={};for(var s=0;s<l.length;s++)t["$"+l[s]]=!0;for(l=0;l<e.length;l++)s=t.hasOwnProperty("$"+e[l].value),e[l].selected!==s&&(e[l].selected=s),s&&i&&(e[l].defaultSelected=!0)}else{for(l=""+Hn(l),t=null,s=0;s<e.length;s++){if(e[s].value===l){e[s].selected=!0,i&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function da(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(j(91));return Ae({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ch(e,t){var l=t.value;if(l==null){if(l=t.children,t=t.defaultValue,l!=null){if(t!=null)throw Error(j(92));if(kl(l)){if(1<l.length)throw Error(j(93));l=l[0]}t=l}t==null&&(t=""),l=t}e._wrapperState={initialValue:Hn(l)}}function A_(e,t){var l=Hn(t.value),i=Hn(t.defaultValue);l!=null&&(l=""+l,l!==e.value&&(e.value=l),t.defaultValue==null&&e.defaultValue!==l&&(e.defaultValue=l)),i!=null&&(e.defaultValue=""+i)}function fh(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function I_(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ha(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?I_(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Hi,k_=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,l,i,s){MSApp.execUnsafeLocalFunction(function(){return e(t,l,i,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Hi=Hi||document.createElement("div"),Hi.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Hi.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function zl(e,t){if(t){var l=e.firstChild;if(l&&l===e.lastChild&&l.nodeType===3){l.nodeValue=t;return}}e.textContent=t}var Nl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ny=["Webkit","ms","Moz","O"];Object.keys(Nl).forEach(function(e){ny.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Nl[t]=Nl[e]})});function x_(e,t,l){return t==null||typeof t=="boolean"||t===""?"":l||typeof t!="number"||t===0||Nl.hasOwnProperty(e)&&Nl[e]?(""+t).trim():t+"px"}function O_(e,t){e=e.style;for(var l in t)if(t.hasOwnProperty(l)){var i=l.indexOf("--")===0,s=x_(l,t[l],i);l==="float"&&(l="cssFloat"),i?e.setProperty(l,s):e[l]=s}}var ry=Ae({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function pa(e,t){if(t){if(ry[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(j(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(j(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(j(61))}if(t.style!=null&&typeof t.style!="object")throw Error(j(62))}}function _a(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var va=null;function Sc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ma=null,Hr=null,$r=null;function dh(e){if(e=ci(e)){if(typeof ma!="function")throw Error(j(280));var t=e.stateNode;t&&(t=To(t),ma(e.stateNode,e.type,t))}}function N_(e){Hr?$r?$r.push(e):$r=[e]:Hr=e}function b_(){if(Hr){var e=Hr,t=$r;if($r=Hr=null,dh(e),t)for(e=0;e<t.length;e++)dh(t[e])}}function P_(e,t){return e(t)}function D_(){}var du=!1;function U_(e,t,l){if(du)return e(t,l);du=!0;try{return P_(e,t,l)}finally{du=!1,(Hr!==null||$r!==null)&&(D_(),b_())}}function Bl(e,t){var l=e.stateNode;if(l===null)return null;var i=To(l);if(i===null)return null;l=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(l&&typeof l!="function")throw Error(j(231,t,typeof l));return l}var ga=!1;if(dn)try{var dl={};Object.defineProperty(dl,"passive",{get:function(){ga=!0}}),window.addEventListener("test",dl,dl),window.removeEventListener("test",dl,dl)}catch{ga=!1}function ly(e,t,l,i,s,u,n,d,h){var c=Array.prototype.slice.call(arguments,3);try{t.apply(l,c)}catch(_){this.onError(_)}}var bl=!1,Ls=null,Ms=!1,ya=null,iy={onError:function(e){bl=!0,Ls=e}};function sy(e,t,l,i,s,u,n,d,h){bl=!1,Ls=null,ly.apply(iy,arguments)}function oy(e,t,l,i,s,u,n,d,h){if(sy.apply(this,arguments),bl){if(bl){var c=Ls;bl=!1,Ls=null}else throw Error(j(198));Ms||(Ms=!0,ya=c)}}function mr(e){var t=e,l=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(l=t.return),e=t.return;while(e)}return t.tag===3?l:null}function L_(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function hh(e){if(mr(e)!==e)throw Error(j(188))}function uy(e){var t=e.alternate;if(!t){if(t=mr(e),t===null)throw Error(j(188));return t!==e?null:e}for(var l=e,i=t;;){var s=l.return;if(s===null)break;var u=s.alternate;if(u===null){if(i=s.return,i!==null){l=i;continue}break}if(s.child===u.child){for(u=s.child;u;){if(u===l)return hh(s),e;if(u===i)return hh(s),t;u=u.sibling}throw Error(j(188))}if(l.return!==i.return)l=s,i=u;else{for(var n=!1,d=s.child;d;){if(d===l){n=!0,l=s,i=u;break}if(d===i){n=!0,i=s,l=u;break}d=d.sibling}if(!n){for(d=u.child;d;){if(d===l){n=!0,l=u,i=s;break}if(d===i){n=!0,i=u,l=s;break}d=d.sibling}if(!n)throw Error(j(189))}}if(l.alternate!==i)throw Error(j(190))}if(l.tag!==3)throw Error(j(188));return l.stateNode.current===l?e:t}function M_(e){return e=uy(e),e!==null?F_(e):null}function F_(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=F_(e);if(t!==null)return t;e=e.sibling}return null}var H_=wt.unstable_scheduleCallback,ph=wt.unstable_cancelCallback,ay=wt.unstable_shouldYield,cy=wt.unstable_requestPaint,be=wt.unstable_now,fy=wt.unstable_getCurrentPriorityLevel,Tc=wt.unstable_ImmediatePriority,$_=wt.unstable_UserBlockingPriority,Fs=wt.unstable_NormalPriority,dy=wt.unstable_LowPriority,j_=wt.unstable_IdlePriority,mo=null,Jt=null;function hy(e){if(Jt&&typeof Jt.onCommitFiberRoot=="function")try{Jt.onCommitFiberRoot(mo,e,void 0,(e.current.flags&128)===128)}catch{}}var Bt=Math.clz32?Math.clz32:vy,py=Math.log,_y=Math.LN2;function vy(e){return e>>>=0,e===0?32:31-(py(e)/_y|0)|0}var $i=64,ji=4194304;function xl(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Hs(e,t){var l=e.pendingLanes;if(l===0)return 0;var i=0,s=e.suspendedLanes,u=e.pingedLanes,n=l&268435455;if(n!==0){var d=n&~s;d!==0?i=xl(d):(u&=n,u!==0&&(i=xl(u)))}else n=l&~s,n!==0?i=xl(n):u!==0&&(i=xl(u));if(i===0)return 0;if(t!==0&&t!==i&&!(t&s)&&(s=i&-i,u=t&-t,s>=u||s===16&&(u&4194240)!==0))return t;if(i&4&&(i|=l&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=i;0<t;)l=31-Bt(t),s=1<<l,i|=e[l],t&=~s;return i}function my(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gy(e,t){for(var l=e.suspendedLanes,i=e.pingedLanes,s=e.expirationTimes,u=e.pendingLanes;0<u;){var n=31-Bt(u),d=1<<n,h=s[n];h===-1?(!(d&l)||d&i)&&(s[n]=my(d,t)):h<=t&&(e.expiredLanes|=d),u&=~d}}function Sa(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function z_(){var e=$i;return $i<<=1,!($i&4194240)&&($i=64),e}function hu(e){for(var t=[],l=0;31>l;l++)t.push(e);return t}function ui(e,t,l){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Bt(t),e[t]=l}function yy(e,t){var l=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var i=e.eventTimes;for(e=e.expirationTimes;0<l;){var s=31-Bt(l),u=1<<s;t[s]=0,i[s]=-1,e[s]=-1,l&=~u}}function Cc(e,t){var l=e.entangledLanes|=t;for(e=e.entanglements;l;){var i=31-Bt(l),s=1<<i;s&t|e[i]&t&&(e[i]|=t),l&=~s}}var he=0;function B_(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var q_,Ec,V_,W_,G_,Ta=!1,zi=[],Nn=null,bn=null,Pn=null,ql=new Map,Vl=new Map,In=[],Sy="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function _h(e,t){switch(e){case"focusin":case"focusout":Nn=null;break;case"dragenter":case"dragleave":bn=null;break;case"mouseover":case"mouseout":Pn=null;break;case"pointerover":case"pointerout":ql.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vl.delete(t.pointerId)}}function hl(e,t,l,i,s,u){return e===null||e.nativeEvent!==u?(e={blockedOn:t,domEventName:l,eventSystemFlags:i,nativeEvent:u,targetContainers:[s]},t!==null&&(t=ci(t),t!==null&&Ec(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Ty(e,t,l,i,s){switch(t){case"focusin":return Nn=hl(Nn,e,t,l,i,s),!0;case"dragenter":return bn=hl(bn,e,t,l,i,s),!0;case"mouseover":return Pn=hl(Pn,e,t,l,i,s),!0;case"pointerover":var u=s.pointerId;return ql.set(u,hl(ql.get(u)||null,e,t,l,i,s)),!0;case"gotpointercapture":return u=s.pointerId,Vl.set(u,hl(Vl.get(u)||null,e,t,l,i,s)),!0}return!1}function K_(e){var t=ir(e.target);if(t!==null){var l=mr(t);if(l!==null){if(t=l.tag,t===13){if(t=L_(l),t!==null){e.blockedOn=t,G_(e.priority,function(){V_(l)});return}}else if(t===3&&l.stateNode.current.memoizedState.isDehydrated){e.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ds(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var l=Ca(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(l===null){l=e.nativeEvent;var i=new l.constructor(l.type,l);va=i,l.target.dispatchEvent(i),va=null}else return t=ci(l),t!==null&&Ec(t),e.blockedOn=l,!1;t.shift()}return!0}function vh(e,t,l){ds(e)&&l.delete(t)}function Cy(){Ta=!1,Nn!==null&&ds(Nn)&&(Nn=null),bn!==null&&ds(bn)&&(bn=null),Pn!==null&&ds(Pn)&&(Pn=null),ql.forEach(vh),Vl.forEach(vh)}function pl(e,t){e.blockedOn===t&&(e.blockedOn=null,Ta||(Ta=!0,wt.unstable_scheduleCallback(wt.unstable_NormalPriority,Cy)))}function Wl(e){function t(s){return pl(s,e)}if(0<zi.length){pl(zi[0],e);for(var l=1;l<zi.length;l++){var i=zi[l];i.blockedOn===e&&(i.blockedOn=null)}}for(Nn!==null&&pl(Nn,e),bn!==null&&pl(bn,e),Pn!==null&&pl(Pn,e),ql.forEach(t),Vl.forEach(t),l=0;l<In.length;l++)i=In[l],i.blockedOn===e&&(i.blockedOn=null);for(;0<In.length&&(l=In[0],l.blockedOn===null);)K_(l),l.blockedOn===null&&In.shift()}var jr=vn.ReactCurrentBatchConfig,$s=!0;function Ey(e,t,l,i){var s=he,u=jr.transition;jr.transition=null;try{he=1,wc(e,t,l,i)}finally{he=s,jr.transition=u}}function wy(e,t,l,i){var s=he,u=jr.transition;jr.transition=null;try{he=4,wc(e,t,l,i)}finally{he=s,jr.transition=u}}function wc(e,t,l,i){if($s){var s=Ca(e,t,l,i);if(s===null)Eu(e,t,i,js,l),_h(e,i);else if(Ty(s,e,t,l,i))i.stopPropagation();else if(_h(e,i),t&4&&-1<Sy.indexOf(e)){for(;s!==null;){var u=ci(s);if(u!==null&&q_(u),u=Ca(e,t,l,i),u===null&&Eu(e,t,i,js,l),u===s)break;s=u}s!==null&&i.stopPropagation()}else Eu(e,t,i,null,l)}}var js=null;function Ca(e,t,l,i){if(js=null,e=Sc(i),e=ir(e),e!==null)if(t=mr(e),t===null)e=null;else if(l=t.tag,l===13){if(e=L_(t),e!==null)return e;e=null}else if(l===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return js=e,null}function Q_(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(fy()){case Tc:return 1;case $_:return 4;case Fs:case dy:return 16;case j_:return 536870912;default:return 16}default:return 16}}var xn=null,Rc=null,hs=null;function Y_(){if(hs)return hs;var e,t=Rc,l=t.length,i,s="value"in xn?xn.value:xn.textContent,u=s.length;for(e=0;e<l&&t[e]===s[e];e++);var n=l-e;for(i=1;i<=n&&t[l-i]===s[u-i];i++);return hs=s.slice(e,1<i?1-i:void 0)}function ps(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Bi(){return!0}function mh(){return!1}function At(e){function t(l,i,s,u,n){this._reactName=l,this._targetInst=s,this.type=i,this.nativeEvent=u,this.target=n,this.currentTarget=null;for(var d in e)e.hasOwnProperty(d)&&(l=e[d],this[d]=l?l(u):u[d]);return this.isDefaultPrevented=(u.defaultPrevented!=null?u.defaultPrevented:u.returnValue===!1)?Bi:mh,this.isPropagationStopped=mh,this}return Ae(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Bi)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Bi)},persist:function(){},isPersistent:Bi}),t}var el={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ac=At(el),ai=Ae({},el,{view:0,detail:0}),Ry=At(ai),pu,_u,_l,go=Ae({},ai,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ic,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==_l&&(_l&&e.type==="mousemove"?(pu=e.screenX-_l.screenX,_u=e.screenY-_l.screenY):_u=pu=0,_l=e),pu)},movementY:function(e){return"movementY"in e?e.movementY:_u}}),gh=At(go),Ay=Ae({},go,{dataTransfer:0}),Iy=At(Ay),ky=Ae({},ai,{relatedTarget:0}),vu=At(ky),xy=Ae({},el,{animationName:0,elapsedTime:0,pseudoElement:0}),Oy=At(xy),Ny=Ae({},el,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),by=At(Ny),Py=Ae({},el,{data:0}),yh=At(Py),Dy={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Uy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ly={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function My(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Ly[e])?!!t[e]:!1}function Ic(){return My}var Fy=Ae({},ai,{key:function(e){if(e.key){var t=Dy[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ps(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Uy[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ic,charCode:function(e){return e.type==="keypress"?ps(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ps(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Hy=At(Fy),$y=Ae({},go,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Sh=At($y),jy=Ae({},ai,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ic}),zy=At(jy),By=Ae({},el,{propertyName:0,elapsedTime:0,pseudoElement:0}),qy=At(By),Vy=Ae({},go,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Wy=At(Vy),Gy=[9,13,27,32],kc=dn&&"CompositionEvent"in window,Pl=null;dn&&"documentMode"in document&&(Pl=document.documentMode);var Ky=dn&&"TextEvent"in window&&!Pl,X_=dn&&(!kc||Pl&&8<Pl&&11>=Pl),Th=" ",Ch=!1;function J_(e,t){switch(e){case"keyup":return Gy.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Z_(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ir=!1;function Qy(e,t){switch(e){case"compositionend":return Z_(t);case"keypress":return t.which!==32?null:(Ch=!0,Th);case"textInput":return e=t.data,e===Th&&Ch?null:e;default:return null}}function Yy(e,t){if(Ir)return e==="compositionend"||!kc&&J_(e,t)?(e=Y_(),hs=Rc=xn=null,Ir=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return X_&&t.locale!=="ko"?null:t.data;default:return null}}var Xy={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Eh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Xy[e.type]:t==="textarea"}function ev(e,t,l,i){N_(i),t=zs(t,"onChange"),0<t.length&&(l=new Ac("onChange","change",null,l,i),e.push({event:l,listeners:t}))}var Dl=null,Gl=null;function Jy(e){fv(e,0)}function yo(e){var t=Or(e);if(w_(t))return e}function Zy(e,t){if(e==="change")return t}var tv=!1;if(dn){var mu;if(dn){var gu="oninput"in document;if(!gu){var wh=document.createElement("div");wh.setAttribute("oninput","return;"),gu=typeof wh.oninput=="function"}mu=gu}else mu=!1;tv=mu&&(!document.documentMode||9<document.documentMode)}function Rh(){Dl&&(Dl.detachEvent("onpropertychange",nv),Gl=Dl=null)}function nv(e){if(e.propertyName==="value"&&yo(Gl)){var t=[];ev(t,Gl,e,Sc(e)),U_(Jy,t)}}function e0(e,t,l){e==="focusin"?(Rh(),Dl=t,Gl=l,Dl.attachEvent("onpropertychange",nv)):e==="focusout"&&Rh()}function t0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return yo(Gl)}function n0(e,t){if(e==="click")return yo(t)}function r0(e,t){if(e==="input"||e==="change")return yo(t)}function l0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Vt=typeof Object.is=="function"?Object.is:l0;function Kl(e,t){if(Vt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var l=Object.keys(e),i=Object.keys(t);if(l.length!==i.length)return!1;for(i=0;i<l.length;i++){var s=l[i];if(!la.call(t,s)||!Vt(e[s],t[s]))return!1}return!0}function Ah(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ih(e,t){var l=Ah(e);e=0;for(var i;l;){if(l.nodeType===3){if(i=e+l.textContent.length,e<=t&&i>=t)return{node:l,offset:t-e};e=i}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Ah(l)}}function rv(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?rv(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function lv(){for(var e=window,t=Us();t instanceof e.HTMLIFrameElement;){try{var l=typeof t.contentWindow.location.href=="string"}catch{l=!1}if(l)e=t.contentWindow;else break;t=Us(e.document)}return t}function xc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function i0(e){var t=lv(),l=e.focusedElem,i=e.selectionRange;if(t!==l&&l&&l.ownerDocument&&rv(l.ownerDocument.documentElement,l)){if(i!==null&&xc(l)){if(t=i.start,e=i.end,e===void 0&&(e=t),"selectionStart"in l)l.selectionStart=t,l.selectionEnd=Math.min(e,l.value.length);else if(e=(t=l.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=l.textContent.length,u=Math.min(i.start,s);i=i.end===void 0?u:Math.min(i.end,s),!e.extend&&u>i&&(s=i,i=u,u=s),s=Ih(l,u);var n=Ih(l,i);s&&n&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==n.node||e.focusOffset!==n.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),u>i?(e.addRange(t),e.extend(n.node,n.offset)):(t.setEnd(n.node,n.offset),e.addRange(t)))}}for(t=[],e=l;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<t.length;l++)e=t[l],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var s0=dn&&"documentMode"in document&&11>=document.documentMode,kr=null,Ea=null,Ul=null,wa=!1;function kh(e,t,l){var i=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;wa||kr==null||kr!==Us(i)||(i=kr,"selectionStart"in i&&xc(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Ul&&Kl(Ul,i)||(Ul=i,i=zs(Ea,"onSelect"),0<i.length&&(t=new Ac("onSelect","select",null,t,l),e.push({event:t,listeners:i}),t.target=kr)))}function qi(e,t){var l={};return l[e.toLowerCase()]=t.toLowerCase(),l["Webkit"+e]="webkit"+t,l["Moz"+e]="moz"+t,l}var xr={animationend:qi("Animation","AnimationEnd"),animationiteration:qi("Animation","AnimationIteration"),animationstart:qi("Animation","AnimationStart"),transitionend:qi("Transition","TransitionEnd")},yu={},iv={};dn&&(iv=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);function So(e){if(yu[e])return yu[e];if(!xr[e])return e;var t=xr[e],l;for(l in t)if(t.hasOwnProperty(l)&&l in iv)return yu[e]=t[l];return e}var sv=So("animationend"),ov=So("animationiteration"),uv=So("animationstart"),av=So("transitionend"),cv=new Map,xh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function zn(e,t){cv.set(e,t),vr(t,[e])}for(var Su=0;Su<xh.length;Su++){var Tu=xh[Su],o0=Tu.toLowerCase(),u0=Tu[0].toUpperCase()+Tu.slice(1);zn(o0,"on"+u0)}zn(sv,"onAnimationEnd");zn(ov,"onAnimationIteration");zn(uv,"onAnimationStart");zn("dblclick","onDoubleClick");zn("focusin","onFocus");zn("focusout","onBlur");zn(av,"onTransitionEnd");Vr("onMouseEnter",["mouseout","mouseover"]);Vr("onMouseLeave",["mouseout","mouseover"]);Vr("onPointerEnter",["pointerout","pointerover"]);Vr("onPointerLeave",["pointerout","pointerover"]);vr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));vr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));vr("onBeforeInput",["compositionend","keypress","textInput","paste"]);vr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));vr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));vr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ol="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),a0=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ol));function Oh(e,t,l){var i=e.type||"unknown-event";e.currentTarget=l,oy(i,t,void 0,e),e.currentTarget=null}function fv(e,t){t=(t&4)!==0;for(var l=0;l<e.length;l++){var i=e[l],s=i.event;i=i.listeners;e:{var u=void 0;if(t)for(var n=i.length-1;0<=n;n--){var d=i[n],h=d.instance,c=d.currentTarget;if(d=d.listener,h!==u&&s.isPropagationStopped())break e;Oh(s,d,c),u=h}else for(n=0;n<i.length;n++){if(d=i[n],h=d.instance,c=d.currentTarget,d=d.listener,h!==u&&s.isPropagationStopped())break e;Oh(s,d,c),u=h}}}if(Ms)throw e=ya,Ms=!1,ya=null,e}function ye(e,t){var l=t[xa];l===void 0&&(l=t[xa]=new Set);var i=e+"__bubble";l.has(i)||(dv(t,e,2,!1),l.add(i))}function Cu(e,t,l){var i=0;t&&(i|=4),dv(l,e,i,t)}var Vi="_reactListening"+Math.random().toString(36).slice(2);function Ql(e){if(!e[Vi]){e[Vi]=!0,y_.forEach(function(l){l!=="selectionchange"&&(a0.has(l)||Cu(l,!1,e),Cu(l,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Vi]||(t[Vi]=!0,Cu("selectionchange",!1,t))}}function dv(e,t,l,i){switch(Q_(t)){case 1:var s=Ey;break;case 4:s=wy;break;default:s=wc}l=s.bind(null,t,l,e),s=void 0,!ga||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),i?s!==void 0?e.addEventListener(t,l,{capture:!0,passive:s}):e.addEventListener(t,l,!0):s!==void 0?e.addEventListener(t,l,{passive:s}):e.addEventListener(t,l,!1)}function Eu(e,t,l,i,s){var u=i;if(!(t&1)&&!(t&2)&&i!==null)e:for(;;){if(i===null)return;var n=i.tag;if(n===3||n===4){var d=i.stateNode.containerInfo;if(d===s||d.nodeType===8&&d.parentNode===s)break;if(n===4)for(n=i.return;n!==null;){var h=n.tag;if((h===3||h===4)&&(h=n.stateNode.containerInfo,h===s||h.nodeType===8&&h.parentNode===s))return;n=n.return}for(;d!==null;){if(n=ir(d),n===null)return;if(h=n.tag,h===5||h===6){i=u=n;continue e}d=d.parentNode}}i=i.return}U_(function(){var c=u,_=Sc(l),v=[];e:{var g=cv.get(e);if(g!==void 0){var S=Ac,E=e;switch(e){case"keypress":if(ps(l)===0)break e;case"keydown":case"keyup":S=Hy;break;case"focusin":E="focus",S=vu;break;case"focusout":E="blur",S=vu;break;case"beforeblur":case"afterblur":S=vu;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":S=gh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":S=Iy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":S=zy;break;case sv:case ov:case uv:S=Oy;break;case av:S=qy;break;case"scroll":S=Ry;break;case"wheel":S=Wy;break;case"copy":case"cut":case"paste":S=by;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":S=Sh}var R=(t&4)!==0,F=!R&&e==="scroll",C=R?g!==null?g+"Capture":null:g;R=[];for(var T=c,w;T!==null;){w=T;var I=w.stateNode;if(w.tag===5&&I!==null&&(w=I,C!==null&&(I=Bl(T,C),I!=null&&R.push(Yl(T,I,w)))),F)break;T=T.return}0<R.length&&(g=new S(g,E,null,l,_),v.push({event:g,listeners:R}))}}if(!(t&7)){e:{if(g=e==="mouseover"||e==="pointerover",S=e==="mouseout"||e==="pointerout",g&&l!==va&&(E=l.relatedTarget||l.fromElement)&&(ir(E)||E[hn]))break e;if((S||g)&&(g=_.window===_?_:(g=_.ownerDocument)?g.defaultView||g.parentWindow:window,S?(E=l.relatedTarget||l.toElement,S=c,E=E?ir(E):null,E!==null&&(F=mr(E),E!==F||E.tag!==5&&E.tag!==6)&&(E=null)):(S=null,E=c),S!==E)){if(R=gh,I="onMouseLeave",C="onMouseEnter",T="mouse",(e==="pointerout"||e==="pointerover")&&(R=Sh,I="onPointerLeave",C="onPointerEnter",T="pointer"),F=S==null?g:Or(S),w=E==null?g:Or(E),g=new R(I,T+"leave",S,l,_),g.target=F,g.relatedTarget=w,I=null,ir(_)===c&&(R=new R(C,T+"enter",E,l,_),R.target=w,R.relatedTarget=F,I=R),F=I,S&&E)t:{for(R=S,C=E,T=0,w=R;w;w=Cr(w))T++;for(w=0,I=C;I;I=Cr(I))w++;for(;0<T-w;)R=Cr(R),T--;for(;0<w-T;)C=Cr(C),w--;for(;T--;){if(R===C||C!==null&&R===C.alternate)break t;R=Cr(R),C=Cr(C)}R=null}else R=null;S!==null&&Nh(v,g,S,R,!1),E!==null&&F!==null&&Nh(v,F,E,R,!0)}}e:{if(g=c?Or(c):window,S=g.nodeName&&g.nodeName.toLowerCase(),S==="select"||S==="input"&&g.type==="file")var L=Zy;else if(Eh(g))if(tv)L=r0;else{L=t0;var q=e0}else(S=g.nodeName)&&S.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(L=n0);if(L&&(L=L(e,c))){ev(v,L,l,_);break e}q&&q(e,g,c),e==="focusout"&&(q=g._wrapperState)&&q.controlled&&g.type==="number"&&fa(g,"number",g.value)}switch(q=c?Or(c):window,e){case"focusin":(Eh(q)||q.contentEditable==="true")&&(kr=q,Ea=c,Ul=null);break;case"focusout":Ul=Ea=kr=null;break;case"mousedown":wa=!0;break;case"contextmenu":case"mouseup":case"dragend":wa=!1,kh(v,l,_);break;case"selectionchange":if(s0)break;case"keydown":case"keyup":kh(v,l,_)}var B;if(kc)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Ir?J_(e,l)&&(k="onCompositionEnd"):e==="keydown"&&l.keyCode===229&&(k="onCompositionStart");k&&(X_&&l.locale!=="ko"&&(Ir||k!=="onCompositionStart"?k==="onCompositionEnd"&&Ir&&(B=Y_()):(xn=_,Rc="value"in xn?xn.value:xn.textContent,Ir=!0)),q=zs(c,k),0<q.length&&(k=new yh(k,e,null,l,_),v.push({event:k,listeners:q}),B?k.data=B:(B=Z_(l),B!==null&&(k.data=B)))),(B=Ky?Qy(e,l):Yy(e,l))&&(c=zs(c,"onBeforeInput"),0<c.length&&(_=new yh("onBeforeInput","beforeinput",null,l,_),v.push({event:_,listeners:c}),_.data=B))}fv(v,t)})}function Yl(e,t,l){return{instance:e,listener:t,currentTarget:l}}function zs(e,t){for(var l=t+"Capture",i=[];e!==null;){var s=e,u=s.stateNode;s.tag===5&&u!==null&&(s=u,u=Bl(e,l),u!=null&&i.unshift(Yl(e,u,s)),u=Bl(e,t),u!=null&&i.push(Yl(e,u,s))),e=e.return}return i}function Cr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Nh(e,t,l,i,s){for(var u=t._reactName,n=[];l!==null&&l!==i;){var d=l,h=d.alternate,c=d.stateNode;if(h!==null&&h===i)break;d.tag===5&&c!==null&&(d=c,s?(h=Bl(l,u),h!=null&&n.unshift(Yl(l,h,d))):s||(h=Bl(l,u),h!=null&&n.push(Yl(l,h,d)))),l=l.return}n.length!==0&&e.push({event:t,listeners:n})}var c0=/\r\n?/g,f0=/\u0000|\uFFFD/g;function bh(e){return(typeof e=="string"?e:""+e).replace(c0,`
`).replace(f0,"")}function Wi(e,t,l){if(t=bh(t),bh(e)!==t&&l)throw Error(j(425))}function Bs(){}var Ra=null,Aa=null;function Ia(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ka=typeof setTimeout=="function"?setTimeout:void 0,d0=typeof clearTimeout=="function"?clearTimeout:void 0,Ph=typeof Promise=="function"?Promise:void 0,h0=typeof queueMicrotask=="function"?queueMicrotask:typeof Ph<"u"?function(e){return Ph.resolve(null).then(e).catch(p0)}:ka;function p0(e){setTimeout(function(){throw e})}function wu(e,t){var l=t,i=0;do{var s=l.nextSibling;if(e.removeChild(l),s&&s.nodeType===8)if(l=s.data,l==="/$"){if(i===0){e.removeChild(s),Wl(t);return}i--}else l!=="$"&&l!=="$?"&&l!=="$!"||i++;l=s}while(l);Wl(t)}function Dn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Dh(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var l=e.data;if(l==="$"||l==="$!"||l==="$?"){if(t===0)return e;t--}else l==="/$"&&t++}e=e.previousSibling}return null}var tl=Math.random().toString(36).slice(2),Xt="__reactFiber$"+tl,Xl="__reactProps$"+tl,hn="__reactContainer$"+tl,xa="__reactEvents$"+tl,_0="__reactListeners$"+tl,v0="__reactHandles$"+tl;function ir(e){var t=e[Xt];if(t)return t;for(var l=e.parentNode;l;){if(t=l[hn]||l[Xt]){if(l=t.alternate,t.child!==null||l!==null&&l.child!==null)for(e=Dh(e);e!==null;){if(l=e[Xt])return l;e=Dh(e)}return t}e=l,l=e.parentNode}return null}function ci(e){return e=e[Xt]||e[hn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Or(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(j(33))}function To(e){return e[Xl]||null}var Oa=[],Nr=-1;function Bn(e){return{current:e}}function Se(e){0>Nr||(e.current=Oa[Nr],Oa[Nr]=null,Nr--)}function ve(e,t){Nr++,Oa[Nr]=e.current,e.current=t}var $n={},rt=Bn($n),vt=Bn(!1),fr=$n;function Wr(e,t){var l=e.type.contextTypes;if(!l)return $n;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var s={},u;for(u in l)s[u]=t[u];return i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function mt(e){return e=e.childContextTypes,e!=null}function qs(){Se(vt),Se(rt)}function Uh(e,t,l){if(rt.current!==$n)throw Error(j(168));ve(rt,t),ve(vt,l)}function hv(e,t,l){var i=e.stateNode;if(t=t.childContextTypes,typeof i.getChildContext!="function")return l;i=i.getChildContext();for(var s in i)if(!(s in t))throw Error(j(108,ey(e)||"Unknown",s));return Ae({},l,i)}function Vs(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||$n,fr=rt.current,ve(rt,e),ve(vt,vt.current),!0}function Lh(e,t,l){var i=e.stateNode;if(!i)throw Error(j(169));l?(e=hv(e,t,fr),i.__reactInternalMemoizedMergedChildContext=e,Se(vt),Se(rt),ve(rt,e)):Se(vt),ve(vt,l)}var un=null,Co=!1,Ru=!1;function pv(e){un===null?un=[e]:un.push(e)}function m0(e){Co=!0,pv(e)}function qn(){if(!Ru&&un!==null){Ru=!0;var e=0,t=he;try{var l=un;for(he=1;e<l.length;e++){var i=l[e];do i=i(!0);while(i!==null)}un=null,Co=!1}catch(s){throw un!==null&&(un=un.slice(e+1)),H_(Tc,qn),s}finally{he=t,Ru=!1}}return null}var br=[],Pr=0,Ws=null,Gs=0,Nt=[],bt=0,dr=null,an=1,cn="";function nr(e,t){br[Pr++]=Gs,br[Pr++]=Ws,Ws=e,Gs=t}function _v(e,t,l){Nt[bt++]=an,Nt[bt++]=cn,Nt[bt++]=dr,dr=e;var i=an;e=cn;var s=32-Bt(i)-1;i&=~(1<<s),l+=1;var u=32-Bt(t)+s;if(30<u){var n=s-s%5;u=(i&(1<<n)-1).toString(32),i>>=n,s-=n,an=1<<32-Bt(t)+s|l<<s|i,cn=u+e}else an=1<<u|l<<s|i,cn=e}function Oc(e){e.return!==null&&(nr(e,1),_v(e,1,0))}function Nc(e){for(;e===Ws;)Ws=br[--Pr],br[Pr]=null,Gs=br[--Pr],br[Pr]=null;for(;e===dr;)dr=Nt[--bt],Nt[bt]=null,cn=Nt[--bt],Nt[bt]=null,an=Nt[--bt],Nt[bt]=null}var Et=null,Ct=null,Ee=!1,zt=null;function vv(e,t){var l=Dt(5,null,null,0);l.elementType="DELETED",l.stateNode=t,l.return=e,t=e.deletions,t===null?(e.deletions=[l],e.flags|=16):t.push(l)}function Mh(e,t){switch(e.tag){case 5:var l=e.type;return t=t.nodeType!==1||l.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Et=e,Ct=Dn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Et=e,Ct=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(l=dr!==null?{id:an,overflow:cn}:null,e.memoizedState={dehydrated:t,treeContext:l,retryLane:1073741824},l=Dt(18,null,null,0),l.stateNode=t,l.return=e,e.child=l,Et=e,Ct=null,!0):!1;default:return!1}}function Na(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ba(e){if(Ee){var t=Ct;if(t){var l=t;if(!Mh(e,t)){if(Na(e))throw Error(j(418));t=Dn(l.nextSibling);var i=Et;t&&Mh(e,t)?vv(i,l):(e.flags=e.flags&-4097|2,Ee=!1,Et=e)}}else{if(Na(e))throw Error(j(418));e.flags=e.flags&-4097|2,Ee=!1,Et=e}}}function Fh(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Et=e}function Gi(e){if(e!==Et)return!1;if(!Ee)return Fh(e),Ee=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ia(e.type,e.memoizedProps)),t&&(t=Ct)){if(Na(e))throw mv(),Error(j(418));for(;t;)vv(e,t),t=Dn(t.nextSibling)}if(Fh(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(j(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var l=e.data;if(l==="/$"){if(t===0){Ct=Dn(e.nextSibling);break e}t--}else l!=="$"&&l!=="$!"&&l!=="$?"||t++}e=e.nextSibling}Ct=null}}else Ct=Et?Dn(e.stateNode.nextSibling):null;return!0}function mv(){for(var e=Ct;e;)e=Dn(e.nextSibling)}function Gr(){Ct=Et=null,Ee=!1}function bc(e){zt===null?zt=[e]:zt.push(e)}var g0=vn.ReactCurrentBatchConfig;function vl(e,t,l){if(e=l.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(j(309));var i=l.stateNode}if(!i)throw Error(j(147,e));var s=i,u=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===u?t.ref:(t=function(n){var d=s.refs;n===null?delete d[u]:d[u]=n},t._stringRef=u,t)}if(typeof e!="string")throw Error(j(284));if(!l._owner)throw Error(j(290,e))}return e}function Ki(e,t){throw e=Object.prototype.toString.call(t),Error(j(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Hh(e){var t=e._init;return t(e._payload)}function gv(e){function t(C,T){if(e){var w=C.deletions;w===null?(C.deletions=[T],C.flags|=16):w.push(T)}}function l(C,T){if(!e)return null;for(;T!==null;)t(C,T),T=T.sibling;return null}function i(C,T){for(C=new Map;T!==null;)T.key!==null?C.set(T.key,T):C.set(T.index,T),T=T.sibling;return C}function s(C,T){return C=Fn(C,T),C.index=0,C.sibling=null,C}function u(C,T,w){return C.index=w,e?(w=C.alternate,w!==null?(w=w.index,w<T?(C.flags|=2,T):w):(C.flags|=2,T)):(C.flags|=1048576,T)}function n(C){return e&&C.alternate===null&&(C.flags|=2),C}function d(C,T,w,I){return T===null||T.tag!==6?(T=bu(w,C.mode,I),T.return=C,T):(T=s(T,w),T.return=C,T)}function h(C,T,w,I){var L=w.type;return L===Ar?_(C,T,w.props.children,I,w.key):T!==null&&(T.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===Rn&&Hh(L)===T.type)?(I=s(T,w.props),I.ref=vl(C,T,w),I.return=C,I):(I=Ts(w.type,w.key,w.props,null,C.mode,I),I.ref=vl(C,T,w),I.return=C,I)}function c(C,T,w,I){return T===null||T.tag!==4||T.stateNode.containerInfo!==w.containerInfo||T.stateNode.implementation!==w.implementation?(T=Pu(w,C.mode,I),T.return=C,T):(T=s(T,w.children||[]),T.return=C,T)}function _(C,T,w,I,L){return T===null||T.tag!==7?(T=cr(w,C.mode,I,L),T.return=C,T):(T=s(T,w),T.return=C,T)}function v(C,T,w){if(typeof T=="string"&&T!==""||typeof T=="number")return T=bu(""+T,C.mode,w),T.return=C,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Mi:return w=Ts(T.type,T.key,T.props,null,C.mode,w),w.ref=vl(C,null,T),w.return=C,w;case Rr:return T=Pu(T,C.mode,w),T.return=C,T;case Rn:var I=T._init;return v(C,I(T._payload),w)}if(kl(T)||fl(T))return T=cr(T,C.mode,w,null),T.return=C,T;Ki(C,T)}return null}function g(C,T,w,I){var L=T!==null?T.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return L!==null?null:d(C,T,""+w,I);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Mi:return w.key===L?h(C,T,w,I):null;case Rr:return w.key===L?c(C,T,w,I):null;case Rn:return L=w._init,g(C,T,L(w._payload),I)}if(kl(w)||fl(w))return L!==null?null:_(C,T,w,I,null);Ki(C,w)}return null}function S(C,T,w,I,L){if(typeof I=="string"&&I!==""||typeof I=="number")return C=C.get(w)||null,d(T,C,""+I,L);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case Mi:return C=C.get(I.key===null?w:I.key)||null,h(T,C,I,L);case Rr:return C=C.get(I.key===null?w:I.key)||null,c(T,C,I,L);case Rn:var q=I._init;return S(C,T,w,q(I._payload),L)}if(kl(I)||fl(I))return C=C.get(w)||null,_(T,C,I,L,null);Ki(T,I)}return null}function E(C,T,w,I){for(var L=null,q=null,B=T,k=T=0,b=null;B!==null&&k<w.length;k++){B.index>k?(b=B,B=null):b=B.sibling;var X=g(C,B,w[k],I);if(X===null){B===null&&(B=b);break}e&&B&&X.alternate===null&&t(C,B),T=u(X,T,k),q===null?L=X:q.sibling=X,q=X,B=b}if(k===w.length)return l(C,B),Ee&&nr(C,k),L;if(B===null){for(;k<w.length;k++)B=v(C,w[k],I),B!==null&&(T=u(B,T,k),q===null?L=B:q.sibling=B,q=B);return Ee&&nr(C,k),L}for(B=i(C,B);k<w.length;k++)b=S(B,C,k,w[k],I),b!==null&&(e&&b.alternate!==null&&B.delete(b.key===null?k:b.key),T=u(b,T,k),q===null?L=b:q.sibling=b,q=b);return e&&B.forEach(function(Ie){return t(C,Ie)}),Ee&&nr(C,k),L}function R(C,T,w,I){var L=fl(w);if(typeof L!="function")throw Error(j(150));if(w=L.call(w),w==null)throw Error(j(151));for(var q=L=null,B=T,k=T=0,b=null,X=w.next();B!==null&&!X.done;k++,X=w.next()){B.index>k?(b=B,B=null):b=B.sibling;var Ie=g(C,B,X.value,I);if(Ie===null){B===null&&(B=b);break}e&&B&&Ie.alternate===null&&t(C,B),T=u(Ie,T,k),q===null?L=Ie:q.sibling=Ie,q=Ie,B=b}if(X.done)return l(C,B),Ee&&nr(C,k),L;if(B===null){for(;!X.done;k++,X=w.next())X=v(C,X.value,I),X!==null&&(T=u(X,T,k),q===null?L=X:q.sibling=X,q=X);return Ee&&nr(C,k),L}for(B=i(C,B);!X.done;k++,X=w.next())X=S(B,C,k,X.value,I),X!==null&&(e&&X.alternate!==null&&B.delete(X.key===null?k:X.key),T=u(X,T,k),q===null?L=X:q.sibling=X,q=X);return e&&B.forEach(function($e){return t(C,$e)}),Ee&&nr(C,k),L}function F(C,T,w,I){if(typeof w=="object"&&w!==null&&w.type===Ar&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Mi:e:{for(var L=w.key,q=T;q!==null;){if(q.key===L){if(L=w.type,L===Ar){if(q.tag===7){l(C,q.sibling),T=s(q,w.props.children),T.return=C,C=T;break e}}else if(q.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===Rn&&Hh(L)===q.type){l(C,q.sibling),T=s(q,w.props),T.ref=vl(C,q,w),T.return=C,C=T;break e}l(C,q);break}else t(C,q);q=q.sibling}w.type===Ar?(T=cr(w.props.children,C.mode,I,w.key),T.return=C,C=T):(I=Ts(w.type,w.key,w.props,null,C.mode,I),I.ref=vl(C,T,w),I.return=C,C=I)}return n(C);case Rr:e:{for(q=w.key;T!==null;){if(T.key===q)if(T.tag===4&&T.stateNode.containerInfo===w.containerInfo&&T.stateNode.implementation===w.implementation){l(C,T.sibling),T=s(T,w.children||[]),T.return=C,C=T;break e}else{l(C,T);break}else t(C,T);T=T.sibling}T=Pu(w,C.mode,I),T.return=C,C=T}return n(C);case Rn:return q=w._init,F(C,T,q(w._payload),I)}if(kl(w))return E(C,T,w,I);if(fl(w))return R(C,T,w,I);Ki(C,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,T!==null&&T.tag===6?(l(C,T.sibling),T=s(T,w),T.return=C,C=T):(l(C,T),T=bu(w,C.mode,I),T.return=C,C=T),n(C)):l(C,T)}return F}var Kr=gv(!0),yv=gv(!1),Ks=Bn(null),Qs=null,Dr=null,Pc=null;function Dc(){Pc=Dr=Qs=null}function Uc(e){var t=Ks.current;Se(Ks),e._currentValue=t}function Pa(e,t,l){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===l)break;e=e.return}}function zr(e,t){Qs=e,Pc=Dr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(_t=!0),e.firstContext=null)}function Lt(e){var t=e._currentValue;if(Pc!==e)if(e={context:e,memoizedValue:t,next:null},Dr===null){if(Qs===null)throw Error(j(308));Dr=e,Qs.dependencies={lanes:0,firstContext:e}}else Dr=Dr.next=e;return t}var sr=null;function Lc(e){sr===null?sr=[e]:sr.push(e)}function Sv(e,t,l,i){var s=t.interleaved;return s===null?(l.next=l,Lc(t)):(l.next=s.next,s.next=l),t.interleaved=l,pn(e,i)}function pn(e,t){e.lanes|=t;var l=e.alternate;for(l!==null&&(l.lanes|=t),l=e,e=e.return;e!==null;)e.childLanes|=t,l=e.alternate,l!==null&&(l.childLanes|=t),l=e,e=e.return;return l.tag===3?l.stateNode:null}var An=!1;function Mc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Tv(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function fn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Un(e,t,l){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,ce&2){var s=i.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),i.pending=t,pn(e,l)}return s=i.interleaved,s===null?(t.next=t,Lc(i)):(t.next=s.next,s.next=t),i.interleaved=t,pn(e,l)}function _s(e,t,l){if(t=t.updateQueue,t!==null&&(t=t.shared,(l&4194240)!==0)){var i=t.lanes;i&=e.pendingLanes,l|=i,t.lanes=l,Cc(e,l)}}function $h(e,t){var l=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,l===i)){var s=null,u=null;if(l=l.firstBaseUpdate,l!==null){do{var n={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};u===null?s=u=n:u=u.next=n,l=l.next}while(l!==null);u===null?s=u=t:u=u.next=t}else s=u=t;l={baseState:i.baseState,firstBaseUpdate:s,lastBaseUpdate:u,shared:i.shared,effects:i.effects},e.updateQueue=l;return}e=l.lastBaseUpdate,e===null?l.firstBaseUpdate=t:e.next=t,l.lastBaseUpdate=t}function Ys(e,t,l,i){var s=e.updateQueue;An=!1;var u=s.firstBaseUpdate,n=s.lastBaseUpdate,d=s.shared.pending;if(d!==null){s.shared.pending=null;var h=d,c=h.next;h.next=null,n===null?u=c:n.next=c,n=h;var _=e.alternate;_!==null&&(_=_.updateQueue,d=_.lastBaseUpdate,d!==n&&(d===null?_.firstBaseUpdate=c:d.next=c,_.lastBaseUpdate=h))}if(u!==null){var v=s.baseState;n=0,_=c=h=null,d=u;do{var g=d.lane,S=d.eventTime;if((i&g)===g){_!==null&&(_=_.next={eventTime:S,lane:0,tag:d.tag,payload:d.payload,callback:d.callback,next:null});e:{var E=e,R=d;switch(g=t,S=l,R.tag){case 1:if(E=R.payload,typeof E=="function"){v=E.call(S,v,g);break e}v=E;break e;case 3:E.flags=E.flags&-65537|128;case 0:if(E=R.payload,g=typeof E=="function"?E.call(S,v,g):E,g==null)break e;v=Ae({},v,g);break e;case 2:An=!0}}d.callback!==null&&d.lane!==0&&(e.flags|=64,g=s.effects,g===null?s.effects=[d]:g.push(d))}else S={eventTime:S,lane:g,tag:d.tag,payload:d.payload,callback:d.callback,next:null},_===null?(c=_=S,h=v):_=_.next=S,n|=g;if(d=d.next,d===null){if(d=s.shared.pending,d===null)break;g=d,d=g.next,g.next=null,s.lastBaseUpdate=g,s.shared.pending=null}}while(!0);if(_===null&&(h=v),s.baseState=h,s.firstBaseUpdate=c,s.lastBaseUpdate=_,t=s.shared.interleaved,t!==null){s=t;do n|=s.lane,s=s.next;while(s!==t)}else u===null&&(s.shared.lanes=0);pr|=n,e.lanes=n,e.memoizedState=v}}function jh(e,t,l){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var i=e[t],s=i.callback;if(s!==null){if(i.callback=null,i=l,typeof s!="function")throw Error(j(191,s));s.call(i)}}}var fi={},Zt=Bn(fi),Jl=Bn(fi),Zl=Bn(fi);function or(e){if(e===fi)throw Error(j(174));return e}function Fc(e,t){switch(ve(Zl,t),ve(Jl,e),ve(Zt,fi),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ha(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ha(t,e)}Se(Zt),ve(Zt,t)}function Qr(){Se(Zt),Se(Jl),Se(Zl)}function Cv(e){or(Zl.current);var t=or(Zt.current),l=ha(t,e.type);t!==l&&(ve(Jl,e),ve(Zt,l))}function Hc(e){Jl.current===e&&(Se(Zt),Se(Jl))}var we=Bn(0);function Xs(e){for(var t=e;t!==null;){if(t.tag===13){var l=t.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Au=[];function $c(){for(var e=0;e<Au.length;e++)Au[e]._workInProgressVersionPrimary=null;Au.length=0}var vs=vn.ReactCurrentDispatcher,Iu=vn.ReactCurrentBatchConfig,hr=0,Re=null,Fe=null,Be=null,Js=!1,Ll=!1,ei=0,y0=0;function Ze(){throw Error(j(321))}function jc(e,t){if(t===null)return!1;for(var l=0;l<t.length&&l<e.length;l++)if(!Vt(e[l],t[l]))return!1;return!0}function zc(e,t,l,i,s,u){if(hr=u,Re=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,vs.current=e===null||e.memoizedState===null?E0:w0,e=l(i,s),Ll){u=0;do{if(Ll=!1,ei=0,25<=u)throw Error(j(301));u+=1,Be=Fe=null,t.updateQueue=null,vs.current=R0,e=l(i,s)}while(Ll)}if(vs.current=Zs,t=Fe!==null&&Fe.next!==null,hr=0,Be=Fe=Re=null,Js=!1,t)throw Error(j(300));return e}function Bc(){var e=ei!==0;return ei=0,e}function Qt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Be===null?Re.memoizedState=Be=e:Be=Be.next=e,Be}function Mt(){if(Fe===null){var e=Re.alternate;e=e!==null?e.memoizedState:null}else e=Fe.next;var t=Be===null?Re.memoizedState:Be.next;if(t!==null)Be=t,Fe=e;else{if(e===null)throw Error(j(310));Fe=e,e={memoizedState:Fe.memoizedState,baseState:Fe.baseState,baseQueue:Fe.baseQueue,queue:Fe.queue,next:null},Be===null?Re.memoizedState=Be=e:Be=Be.next=e}return Be}function ti(e,t){return typeof t=="function"?t(e):t}function ku(e){var t=Mt(),l=t.queue;if(l===null)throw Error(j(311));l.lastRenderedReducer=e;var i=Fe,s=i.baseQueue,u=l.pending;if(u!==null){if(s!==null){var n=s.next;s.next=u.next,u.next=n}i.baseQueue=s=u,l.pending=null}if(s!==null){u=s.next,i=i.baseState;var d=n=null,h=null,c=u;do{var _=c.lane;if((hr&_)===_)h!==null&&(h=h.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),i=c.hasEagerState?c.eagerState:e(i,c.action);else{var v={lane:_,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};h===null?(d=h=v,n=i):h=h.next=v,Re.lanes|=_,pr|=_}c=c.next}while(c!==null&&c!==u);h===null?n=i:h.next=d,Vt(i,t.memoizedState)||(_t=!0),t.memoizedState=i,t.baseState=n,t.baseQueue=h,l.lastRenderedState=i}if(e=l.interleaved,e!==null){s=e;do u=s.lane,Re.lanes|=u,pr|=u,s=s.next;while(s!==e)}else s===null&&(l.lanes=0);return[t.memoizedState,l.dispatch]}function xu(e){var t=Mt(),l=t.queue;if(l===null)throw Error(j(311));l.lastRenderedReducer=e;var i=l.dispatch,s=l.pending,u=t.memoizedState;if(s!==null){l.pending=null;var n=s=s.next;do u=e(u,n.action),n=n.next;while(n!==s);Vt(u,t.memoizedState)||(_t=!0),t.memoizedState=u,t.baseQueue===null&&(t.baseState=u),l.lastRenderedState=u}return[u,i]}function Ev(){}function wv(e,t){var l=Re,i=Mt(),s=t(),u=!Vt(i.memoizedState,s);if(u&&(i.memoizedState=s,_t=!0),i=i.queue,qc(Iv.bind(null,l,i,e),[e]),i.getSnapshot!==t||u||Be!==null&&Be.memoizedState.tag&1){if(l.flags|=2048,ni(9,Av.bind(null,l,i,s,t),void 0,null),qe===null)throw Error(j(349));hr&30||Rv(l,t,s)}return s}function Rv(e,t,l){e.flags|=16384,e={getSnapshot:t,value:l},t=Re.updateQueue,t===null?(t={lastEffect:null,stores:null},Re.updateQueue=t,t.stores=[e]):(l=t.stores,l===null?t.stores=[e]:l.push(e))}function Av(e,t,l,i){t.value=l,t.getSnapshot=i,kv(t)&&xv(e)}function Iv(e,t,l){return l(function(){kv(t)&&xv(e)})}function kv(e){var t=e.getSnapshot;e=e.value;try{var l=t();return!Vt(e,l)}catch{return!0}}function xv(e){var t=pn(e,1);t!==null&&qt(t,e,1,-1)}function zh(e){var t=Qt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ti,lastRenderedState:e},t.queue=e,e=e.dispatch=C0.bind(null,Re,e),[t.memoizedState,e]}function ni(e,t,l,i){return e={tag:e,create:t,destroy:l,deps:i,next:null},t=Re.updateQueue,t===null?(t={lastEffect:null,stores:null},Re.updateQueue=t,t.lastEffect=e.next=e):(l=t.lastEffect,l===null?t.lastEffect=e.next=e:(i=l.next,l.next=e,e.next=i,t.lastEffect=e)),e}function Ov(){return Mt().memoizedState}function ms(e,t,l,i){var s=Qt();Re.flags|=e,s.memoizedState=ni(1|t,l,void 0,i===void 0?null:i)}function Eo(e,t,l,i){var s=Mt();i=i===void 0?null:i;var u=void 0;if(Fe!==null){var n=Fe.memoizedState;if(u=n.destroy,i!==null&&jc(i,n.deps)){s.memoizedState=ni(t,l,u,i);return}}Re.flags|=e,s.memoizedState=ni(1|t,l,u,i)}function Bh(e,t){return ms(8390656,8,e,t)}function qc(e,t){return Eo(2048,8,e,t)}function Nv(e,t){return Eo(4,2,e,t)}function bv(e,t){return Eo(4,4,e,t)}function Pv(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Dv(e,t,l){return l=l!=null?l.concat([e]):null,Eo(4,4,Pv.bind(null,t,e),l)}function Vc(){}function Uv(e,t){var l=Mt();t=t===void 0?null:t;var i=l.memoizedState;return i!==null&&t!==null&&jc(t,i[1])?i[0]:(l.memoizedState=[e,t],e)}function Lv(e,t){var l=Mt();t=t===void 0?null:t;var i=l.memoizedState;return i!==null&&t!==null&&jc(t,i[1])?i[0]:(e=e(),l.memoizedState=[e,t],e)}function Mv(e,t,l){return hr&21?(Vt(l,t)||(l=z_(),Re.lanes|=l,pr|=l,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,_t=!0),e.memoizedState=l)}function S0(e,t){var l=he;he=l!==0&&4>l?l:4,e(!0);var i=Iu.transition;Iu.transition={};try{e(!1),t()}finally{he=l,Iu.transition=i}}function Fv(){return Mt().memoizedState}function T0(e,t,l){var i=Mn(e);if(l={lane:i,action:l,hasEagerState:!1,eagerState:null,next:null},Hv(e))$v(t,l);else if(l=Sv(e,t,l,i),l!==null){var s=at();qt(l,e,i,s),jv(l,t,i)}}function C0(e,t,l){var i=Mn(e),s={lane:i,action:l,hasEagerState:!1,eagerState:null,next:null};if(Hv(e))$v(t,s);else{var u=e.alternate;if(e.lanes===0&&(u===null||u.lanes===0)&&(u=t.lastRenderedReducer,u!==null))try{var n=t.lastRenderedState,d=u(n,l);if(s.hasEagerState=!0,s.eagerState=d,Vt(d,n)){var h=t.interleaved;h===null?(s.next=s,Lc(t)):(s.next=h.next,h.next=s),t.interleaved=s;return}}catch{}finally{}l=Sv(e,t,s,i),l!==null&&(s=at(),qt(l,e,i,s),jv(l,t,i))}}function Hv(e){var t=e.alternate;return e===Re||t!==null&&t===Re}function $v(e,t){Ll=Js=!0;var l=e.pending;l===null?t.next=t:(t.next=l.next,l.next=t),e.pending=t}function jv(e,t,l){if(l&4194240){var i=t.lanes;i&=e.pendingLanes,l|=i,t.lanes=l,Cc(e,l)}}var Zs={readContext:Lt,useCallback:Ze,useContext:Ze,useEffect:Ze,useImperativeHandle:Ze,useInsertionEffect:Ze,useLayoutEffect:Ze,useMemo:Ze,useReducer:Ze,useRef:Ze,useState:Ze,useDebugValue:Ze,useDeferredValue:Ze,useTransition:Ze,useMutableSource:Ze,useSyncExternalStore:Ze,useId:Ze,unstable_isNewReconciler:!1},E0={readContext:Lt,useCallback:function(e,t){return Qt().memoizedState=[e,t===void 0?null:t],e},useContext:Lt,useEffect:Bh,useImperativeHandle:function(e,t,l){return l=l!=null?l.concat([e]):null,ms(4194308,4,Pv.bind(null,t,e),l)},useLayoutEffect:function(e,t){return ms(4194308,4,e,t)},useInsertionEffect:function(e,t){return ms(4,2,e,t)},useMemo:function(e,t){var l=Qt();return t=t===void 0?null:t,e=e(),l.memoizedState=[e,t],e},useReducer:function(e,t,l){var i=Qt();return t=l!==void 0?l(t):t,i.memoizedState=i.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},i.queue=e,e=e.dispatch=T0.bind(null,Re,e),[i.memoizedState,e]},useRef:function(e){var t=Qt();return e={current:e},t.memoizedState=e},useState:zh,useDebugValue:Vc,useDeferredValue:function(e){return Qt().memoizedState=e},useTransition:function(){var e=zh(!1),t=e[0];return e=S0.bind(null,e[1]),Qt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,l){var i=Re,s=Qt();if(Ee){if(l===void 0)throw Error(j(407));l=l()}else{if(l=t(),qe===null)throw Error(j(349));hr&30||Rv(i,t,l)}s.memoizedState=l;var u={value:l,getSnapshot:t};return s.queue=u,Bh(Iv.bind(null,i,u,e),[e]),i.flags|=2048,ni(9,Av.bind(null,i,u,l,t),void 0,null),l},useId:function(){var e=Qt(),t=qe.identifierPrefix;if(Ee){var l=cn,i=an;l=(i&~(1<<32-Bt(i)-1)).toString(32)+l,t=":"+t+"R"+l,l=ei++,0<l&&(t+="H"+l.toString(32)),t+=":"}else l=y0++,t=":"+t+"r"+l.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},w0={readContext:Lt,useCallback:Uv,useContext:Lt,useEffect:qc,useImperativeHandle:Dv,useInsertionEffect:Nv,useLayoutEffect:bv,useMemo:Lv,useReducer:ku,useRef:Ov,useState:function(){return ku(ti)},useDebugValue:Vc,useDeferredValue:function(e){var t=Mt();return Mv(t,Fe.memoizedState,e)},useTransition:function(){var e=ku(ti)[0],t=Mt().memoizedState;return[e,t]},useMutableSource:Ev,useSyncExternalStore:wv,useId:Fv,unstable_isNewReconciler:!1},R0={readContext:Lt,useCallback:Uv,useContext:Lt,useEffect:qc,useImperativeHandle:Dv,useInsertionEffect:Nv,useLayoutEffect:bv,useMemo:Lv,useReducer:xu,useRef:Ov,useState:function(){return xu(ti)},useDebugValue:Vc,useDeferredValue:function(e){var t=Mt();return Fe===null?t.memoizedState=e:Mv(t,Fe.memoizedState,e)},useTransition:function(){var e=xu(ti)[0],t=Mt().memoizedState;return[e,t]},useMutableSource:Ev,useSyncExternalStore:wv,useId:Fv,unstable_isNewReconciler:!1};function $t(e,t){if(e&&e.defaultProps){t=Ae({},t),e=e.defaultProps;for(var l in e)t[l]===void 0&&(t[l]=e[l]);return t}return t}function Da(e,t,l,i){t=e.memoizedState,l=l(i,t),l=l==null?t:Ae({},t,l),e.memoizedState=l,e.lanes===0&&(e.updateQueue.baseState=l)}var wo={isMounted:function(e){return(e=e._reactInternals)?mr(e)===e:!1},enqueueSetState:function(e,t,l){e=e._reactInternals;var i=at(),s=Mn(e),u=fn(i,s);u.payload=t,l!=null&&(u.callback=l),t=Un(e,u,s),t!==null&&(qt(t,e,s,i),_s(t,e,s))},enqueueReplaceState:function(e,t,l){e=e._reactInternals;var i=at(),s=Mn(e),u=fn(i,s);u.tag=1,u.payload=t,l!=null&&(u.callback=l),t=Un(e,u,s),t!==null&&(qt(t,e,s,i),_s(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var l=at(),i=Mn(e),s=fn(l,i);s.tag=2,t!=null&&(s.callback=t),t=Un(e,s,i),t!==null&&(qt(t,e,i,l),_s(t,e,i))}};function qh(e,t,l,i,s,u,n){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,u,n):t.prototype&&t.prototype.isPureReactComponent?!Kl(l,i)||!Kl(s,u):!0}function zv(e,t,l){var i=!1,s=$n,u=t.contextType;return typeof u=="object"&&u!==null?u=Lt(u):(s=mt(t)?fr:rt.current,i=t.contextTypes,u=(i=i!=null)?Wr(e,s):$n),t=new t(l,u),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=wo,e.stateNode=t,t._reactInternals=e,i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=u),t}function Vh(e,t,l,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(l,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(l,i),t.state!==e&&wo.enqueueReplaceState(t,t.state,null)}function Ua(e,t,l,i){var s=e.stateNode;s.props=l,s.state=e.memoizedState,s.refs={},Mc(e);var u=t.contextType;typeof u=="object"&&u!==null?s.context=Lt(u):(u=mt(t)?fr:rt.current,s.context=Wr(e,u)),s.state=e.memoizedState,u=t.getDerivedStateFromProps,typeof u=="function"&&(Da(e,t,u,l),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&wo.enqueueReplaceState(s,s.state,null),Ys(e,l,s,i),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Yr(e,t){try{var l="",i=t;do l+=Zg(i),i=i.return;while(i);var s=l}catch(u){s=`
Error generating stack: `+u.message+`
`+u.stack}return{value:e,source:t,stack:s,digest:null}}function Ou(e,t,l){return{value:e,source:null,stack:l??null,digest:t??null}}function La(e,t){try{console.error(t.value)}catch(l){setTimeout(function(){throw l})}}var A0=typeof WeakMap=="function"?WeakMap:Map;function Bv(e,t,l){l=fn(-1,l),l.tag=3,l.payload={element:null};var i=t.value;return l.callback=function(){to||(to=!0,Wa=i),La(e,t)},l}function qv(e,t,l){l=fn(-1,l),l.tag=3;var i=e.type.getDerivedStateFromError;if(typeof i=="function"){var s=t.value;l.payload=function(){return i(s)},l.callback=function(){La(e,t)}}var u=e.stateNode;return u!==null&&typeof u.componentDidCatch=="function"&&(l.callback=function(){La(e,t),typeof i!="function"&&(Ln===null?Ln=new Set([this]):Ln.add(this));var n=t.stack;this.componentDidCatch(t.value,{componentStack:n!==null?n:""})}),l}function Wh(e,t,l){var i=e.pingCache;if(i===null){i=e.pingCache=new A0;var s=new Set;i.set(t,s)}else s=i.get(t),s===void 0&&(s=new Set,i.set(t,s));s.has(l)||(s.add(l),e=$0.bind(null,e,t,l),t.then(e,e))}function Gh(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Kh(e,t,l,i,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(t=fn(-1,1),t.tag=2,Un(l,t,1))),l.lanes|=1),e)}var I0=vn.ReactCurrentOwner,_t=!1;function ut(e,t,l,i){t.child=e===null?yv(t,null,l,i):Kr(t,e.child,l,i)}function Qh(e,t,l,i,s){l=l.render;var u=t.ref;return zr(t,s),i=zc(e,t,l,i,u,s),l=Bc(),e!==null&&!_t?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,_n(e,t,s)):(Ee&&l&&Oc(t),t.flags|=1,ut(e,t,i,s),t.child)}function Yh(e,t,l,i,s){if(e===null){var u=l.type;return typeof u=="function"&&!Zc(u)&&u.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(t.tag=15,t.type=u,Vv(e,t,u,i,s)):(e=Ts(l.type,null,i,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(u=e.child,!(e.lanes&s)){var n=u.memoizedProps;if(l=l.compare,l=l!==null?l:Kl,l(n,i)&&e.ref===t.ref)return _n(e,t,s)}return t.flags|=1,e=Fn(u,i),e.ref=t.ref,e.return=t,t.child=e}function Vv(e,t,l,i,s){if(e!==null){var u=e.memoizedProps;if(Kl(u,i)&&e.ref===t.ref)if(_t=!1,t.pendingProps=i=u,(e.lanes&s)!==0)e.flags&131072&&(_t=!0);else return t.lanes=e.lanes,_n(e,t,s)}return Ma(e,t,l,i,s)}function Wv(e,t,l){var i=t.pendingProps,s=i.children,u=e!==null?e.memoizedState:null;if(i.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ve(Lr,Tt),Tt|=l;else{if(!(l&1073741824))return e=u!==null?u.baseLanes|l:l,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ve(Lr,Tt),Tt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=u!==null?u.baseLanes:l,ve(Lr,Tt),Tt|=i}else u!==null?(i=u.baseLanes|l,t.memoizedState=null):i=l,ve(Lr,Tt),Tt|=i;return ut(e,t,s,l),t.child}function Gv(e,t){var l=t.ref;(e===null&&l!==null||e!==null&&e.ref!==l)&&(t.flags|=512,t.flags|=2097152)}function Ma(e,t,l,i,s){var u=mt(l)?fr:rt.current;return u=Wr(t,u),zr(t,s),l=zc(e,t,l,i,u,s),i=Bc(),e!==null&&!_t?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,_n(e,t,s)):(Ee&&i&&Oc(t),t.flags|=1,ut(e,t,l,s),t.child)}function Xh(e,t,l,i,s){if(mt(l)){var u=!0;Vs(t)}else u=!1;if(zr(t,s),t.stateNode===null)gs(e,t),zv(t,l,i),Ua(t,l,i,s),i=!0;else if(e===null){var n=t.stateNode,d=t.memoizedProps;n.props=d;var h=n.context,c=l.contextType;typeof c=="object"&&c!==null?c=Lt(c):(c=mt(l)?fr:rt.current,c=Wr(t,c));var _=l.getDerivedStateFromProps,v=typeof _=="function"||typeof n.getSnapshotBeforeUpdate=="function";v||typeof n.UNSAFE_componentWillReceiveProps!="function"&&typeof n.componentWillReceiveProps!="function"||(d!==i||h!==c)&&Vh(t,n,i,c),An=!1;var g=t.memoizedState;n.state=g,Ys(t,i,n,s),h=t.memoizedState,d!==i||g!==h||vt.current||An?(typeof _=="function"&&(Da(t,l,_,i),h=t.memoizedState),(d=An||qh(t,l,d,i,g,h,c))?(v||typeof n.UNSAFE_componentWillMount!="function"&&typeof n.componentWillMount!="function"||(typeof n.componentWillMount=="function"&&n.componentWillMount(),typeof n.UNSAFE_componentWillMount=="function"&&n.UNSAFE_componentWillMount()),typeof n.componentDidMount=="function"&&(t.flags|=4194308)):(typeof n.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=h),n.props=i,n.state=h,n.context=c,i=d):(typeof n.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{n=t.stateNode,Tv(e,t),d=t.memoizedProps,c=t.type===t.elementType?d:$t(t.type,d),n.props=c,v=t.pendingProps,g=n.context,h=l.contextType,typeof h=="object"&&h!==null?h=Lt(h):(h=mt(l)?fr:rt.current,h=Wr(t,h));var S=l.getDerivedStateFromProps;(_=typeof S=="function"||typeof n.getSnapshotBeforeUpdate=="function")||typeof n.UNSAFE_componentWillReceiveProps!="function"&&typeof n.componentWillReceiveProps!="function"||(d!==v||g!==h)&&Vh(t,n,i,h),An=!1,g=t.memoizedState,n.state=g,Ys(t,i,n,s);var E=t.memoizedState;d!==v||g!==E||vt.current||An?(typeof S=="function"&&(Da(t,l,S,i),E=t.memoizedState),(c=An||qh(t,l,c,i,g,E,h)||!1)?(_||typeof n.UNSAFE_componentWillUpdate!="function"&&typeof n.componentWillUpdate!="function"||(typeof n.componentWillUpdate=="function"&&n.componentWillUpdate(i,E,h),typeof n.UNSAFE_componentWillUpdate=="function"&&n.UNSAFE_componentWillUpdate(i,E,h)),typeof n.componentDidUpdate=="function"&&(t.flags|=4),typeof n.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof n.componentDidUpdate!="function"||d===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof n.getSnapshotBeforeUpdate!="function"||d===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=E),n.props=i,n.state=E,n.context=h,i=c):(typeof n.componentDidUpdate!="function"||d===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof n.getSnapshotBeforeUpdate!="function"||d===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),i=!1)}return Fa(e,t,l,i,u,s)}function Fa(e,t,l,i,s,u){Gv(e,t);var n=(t.flags&128)!==0;if(!i&&!n)return s&&Lh(t,l,!1),_n(e,t,u);i=t.stateNode,I0.current=t;var d=n&&typeof l.getDerivedStateFromError!="function"?null:i.render();return t.flags|=1,e!==null&&n?(t.child=Kr(t,e.child,null,u),t.child=Kr(t,null,d,u)):ut(e,t,d,u),t.memoizedState=i.state,s&&Lh(t,l,!0),t.child}function Kv(e){var t=e.stateNode;t.pendingContext?Uh(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Uh(e,t.context,!1),Fc(e,t.containerInfo)}function Jh(e,t,l,i,s){return Gr(),bc(s),t.flags|=256,ut(e,t,l,i),t.child}var Ha={dehydrated:null,treeContext:null,retryLane:0};function $a(e){return{baseLanes:e,cachePool:null,transitions:null}}function Qv(e,t,l){var i=t.pendingProps,s=we.current,u=!1,n=(t.flags&128)!==0,d;if((d=n)||(d=e!==null&&e.memoizedState===null?!1:(s&2)!==0),d?(u=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),ve(we,s&1),e===null)return ba(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(n=i.children,e=i.fallback,u?(i=t.mode,u=t.child,n={mode:"hidden",children:n},!(i&1)&&u!==null?(u.childLanes=0,u.pendingProps=n):u=Io(n,i,0,null),e=cr(e,i,l,null),u.return=t,e.return=t,u.sibling=e,t.child=u,t.child.memoizedState=$a(l),t.memoizedState=Ha,e):Wc(t,n));if(s=e.memoizedState,s!==null&&(d=s.dehydrated,d!==null))return k0(e,t,n,i,d,s,l);if(u){u=i.fallback,n=t.mode,s=e.child,d=s.sibling;var h={mode:"hidden",children:i.children};return!(n&1)&&t.child!==s?(i=t.child,i.childLanes=0,i.pendingProps=h,t.deletions=null):(i=Fn(s,h),i.subtreeFlags=s.subtreeFlags&14680064),d!==null?u=Fn(d,u):(u=cr(u,n,l,null),u.flags|=2),u.return=t,i.return=t,i.sibling=u,t.child=i,i=u,u=t.child,n=e.child.memoizedState,n=n===null?$a(l):{baseLanes:n.baseLanes|l,cachePool:null,transitions:n.transitions},u.memoizedState=n,u.childLanes=e.childLanes&~l,t.memoizedState=Ha,i}return u=e.child,e=u.sibling,i=Fn(u,{mode:"visible",children:i.children}),!(t.mode&1)&&(i.lanes=l),i.return=t,i.sibling=null,e!==null&&(l=t.deletions,l===null?(t.deletions=[e],t.flags|=16):l.push(e)),t.child=i,t.memoizedState=null,i}function Wc(e,t){return t=Io({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Qi(e,t,l,i){return i!==null&&bc(i),Kr(t,e.child,null,l),e=Wc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function k0(e,t,l,i,s,u,n){if(l)return t.flags&256?(t.flags&=-257,i=Ou(Error(j(422))),Qi(e,t,n,i)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(u=i.fallback,s=t.mode,i=Io({mode:"visible",children:i.children},s,0,null),u=cr(u,s,n,null),u.flags|=2,i.return=t,u.return=t,i.sibling=u,t.child=i,t.mode&1&&Kr(t,e.child,null,n),t.child.memoizedState=$a(n),t.memoizedState=Ha,u);if(!(t.mode&1))return Qi(e,t,n,null);if(s.data==="$!"){if(i=s.nextSibling&&s.nextSibling.dataset,i)var d=i.dgst;return i=d,u=Error(j(419)),i=Ou(u,i,void 0),Qi(e,t,n,i)}if(d=(n&e.childLanes)!==0,_t||d){if(i=qe,i!==null){switch(n&-n){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(i.suspendedLanes|n)?0:s,s!==0&&s!==u.retryLane&&(u.retryLane=s,pn(e,s),qt(i,e,s,-1))}return Jc(),i=Ou(Error(j(421))),Qi(e,t,n,i)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=j0.bind(null,e),s._reactRetry=t,null):(e=u.treeContext,Ct=Dn(s.nextSibling),Et=t,Ee=!0,zt=null,e!==null&&(Nt[bt++]=an,Nt[bt++]=cn,Nt[bt++]=dr,an=e.id,cn=e.overflow,dr=t),t=Wc(t,i.children),t.flags|=4096,t)}function Zh(e,t,l){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),Pa(e.return,t,l)}function Nu(e,t,l,i,s){var u=e.memoizedState;u===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:l,tailMode:s}:(u.isBackwards=t,u.rendering=null,u.renderingStartTime=0,u.last=i,u.tail=l,u.tailMode=s)}function Yv(e,t,l){var i=t.pendingProps,s=i.revealOrder,u=i.tail;if(ut(e,t,i.children,l),i=we.current,i&2)i=i&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Zh(e,l,t);else if(e.tag===19)Zh(e,l,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(ve(we,i),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(l=t.child,s=null;l!==null;)e=l.alternate,e!==null&&Xs(e)===null&&(s=l),l=l.sibling;l=s,l===null?(s=t.child,t.child=null):(s=l.sibling,l.sibling=null),Nu(t,!1,s,l,u);break;case"backwards":for(l=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Xs(e)===null){t.child=s;break}e=s.sibling,s.sibling=l,l=s,s=e}Nu(t,!0,l,null,u);break;case"together":Nu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function gs(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function _n(e,t,l){if(e!==null&&(t.dependencies=e.dependencies),pr|=t.lanes,!(l&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(j(153));if(t.child!==null){for(e=t.child,l=Fn(e,e.pendingProps),t.child=l,l.return=t;e.sibling!==null;)e=e.sibling,l=l.sibling=Fn(e,e.pendingProps),l.return=t;l.sibling=null}return t.child}function x0(e,t,l){switch(t.tag){case 3:Kv(t),Gr();break;case 5:Cv(t);break;case 1:mt(t.type)&&Vs(t);break;case 4:Fc(t,t.stateNode.containerInfo);break;case 10:var i=t.type._context,s=t.memoizedProps.value;ve(Ks,i._currentValue),i._currentValue=s;break;case 13:if(i=t.memoizedState,i!==null)return i.dehydrated!==null?(ve(we,we.current&1),t.flags|=128,null):l&t.child.childLanes?Qv(e,t,l):(ve(we,we.current&1),e=_n(e,t,l),e!==null?e.sibling:null);ve(we,we.current&1);break;case 19:if(i=(l&t.childLanes)!==0,e.flags&128){if(i)return Yv(e,t,l);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ve(we,we.current),i)break;return null;case 22:case 23:return t.lanes=0,Wv(e,t,l)}return _n(e,t,l)}var Xv,ja,Jv,Zv;Xv=function(e,t){for(var l=t.child;l!==null;){if(l.tag===5||l.tag===6)e.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===t)break;for(;l.sibling===null;){if(l.return===null||l.return===t)return;l=l.return}l.sibling.return=l.return,l=l.sibling}};ja=function(){};Jv=function(e,t,l,i){var s=e.memoizedProps;if(s!==i){e=t.stateNode,or(Zt.current);var u=null;switch(l){case"input":s=aa(e,s),i=aa(e,i),u=[];break;case"select":s=Ae({},s,{value:void 0}),i=Ae({},i,{value:void 0}),u=[];break;case"textarea":s=da(e,s),i=da(e,i),u=[];break;default:typeof s.onClick!="function"&&typeof i.onClick=="function"&&(e.onclick=Bs)}pa(l,i);var n;l=null;for(c in s)if(!i.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var d=s[c];for(n in d)d.hasOwnProperty(n)&&(l||(l={}),l[n]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(jl.hasOwnProperty(c)?u||(u=[]):(u=u||[]).push(c,null));for(c in i){var h=i[c];if(d=s!=null?s[c]:void 0,i.hasOwnProperty(c)&&h!==d&&(h!=null||d!=null))if(c==="style")if(d){for(n in d)!d.hasOwnProperty(n)||h&&h.hasOwnProperty(n)||(l||(l={}),l[n]="");for(n in h)h.hasOwnProperty(n)&&d[n]!==h[n]&&(l||(l={}),l[n]=h[n])}else l||(u||(u=[]),u.push(c,l)),l=h;else c==="dangerouslySetInnerHTML"?(h=h?h.__html:void 0,d=d?d.__html:void 0,h!=null&&d!==h&&(u=u||[]).push(c,h)):c==="children"?typeof h!="string"&&typeof h!="number"||(u=u||[]).push(c,""+h):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(jl.hasOwnProperty(c)?(h!=null&&c==="onScroll"&&ye("scroll",e),u||d===h||(u=[])):(u=u||[]).push(c,h))}l&&(u=u||[]).push("style",l);var c=u;(t.updateQueue=c)&&(t.flags|=4)}};Zv=function(e,t,l,i){l!==i&&(t.flags|=4)};function ml(e,t){if(!Ee)switch(e.tailMode){case"hidden":t=e.tail;for(var l=null;t!==null;)t.alternate!==null&&(l=t),t=t.sibling;l===null?e.tail=null:l.sibling=null;break;case"collapsed":l=e.tail;for(var i=null;l!==null;)l.alternate!==null&&(i=l),l=l.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function et(e){var t=e.alternate!==null&&e.alternate.child===e.child,l=0,i=0;if(t)for(var s=e.child;s!==null;)l|=s.lanes|s.childLanes,i|=s.subtreeFlags&14680064,i|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)l|=s.lanes|s.childLanes,i|=s.subtreeFlags,i|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=i,e.childLanes=l,t}function O0(e,t,l){var i=t.pendingProps;switch(Nc(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return et(t),null;case 1:return mt(t.type)&&qs(),et(t),null;case 3:return i=t.stateNode,Qr(),Se(vt),Se(rt),$c(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(Gi(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,zt!==null&&(Qa(zt),zt=null))),ja(e,t),et(t),null;case 5:Hc(t);var s=or(Zl.current);if(l=t.type,e!==null&&t.stateNode!=null)Jv(e,t,l,i,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!i){if(t.stateNode===null)throw Error(j(166));return et(t),null}if(e=or(Zt.current),Gi(t)){i=t.stateNode,l=t.type;var u=t.memoizedProps;switch(i[Xt]=t,i[Xl]=u,e=(t.mode&1)!==0,l){case"dialog":ye("cancel",i),ye("close",i);break;case"iframe":case"object":case"embed":ye("load",i);break;case"video":case"audio":for(s=0;s<Ol.length;s++)ye(Ol[s],i);break;case"source":ye("error",i);break;case"img":case"image":case"link":ye("error",i),ye("load",i);break;case"details":ye("toggle",i);break;case"input":uh(i,u),ye("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!u.multiple},ye("invalid",i);break;case"textarea":ch(i,u),ye("invalid",i)}pa(l,u),s=null;for(var n in u)if(u.hasOwnProperty(n)){var d=u[n];n==="children"?typeof d=="string"?i.textContent!==d&&(u.suppressHydrationWarning!==!0&&Wi(i.textContent,d,e),s=["children",d]):typeof d=="number"&&i.textContent!==""+d&&(u.suppressHydrationWarning!==!0&&Wi(i.textContent,d,e),s=["children",""+d]):jl.hasOwnProperty(n)&&d!=null&&n==="onScroll"&&ye("scroll",i)}switch(l){case"input":Fi(i),ah(i,u,!0);break;case"textarea":Fi(i),fh(i);break;case"select":case"option":break;default:typeof u.onClick=="function"&&(i.onclick=Bs)}i=s,t.updateQueue=i,i!==null&&(t.flags|=4)}else{n=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=I_(l)),e==="http://www.w3.org/1999/xhtml"?l==="script"?(e=n.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof i.is=="string"?e=n.createElement(l,{is:i.is}):(e=n.createElement(l),l==="select"&&(n=e,i.multiple?n.multiple=!0:i.size&&(n.size=i.size))):e=n.createElementNS(e,l),e[Xt]=t,e[Xl]=i,Xv(e,t,!1,!1),t.stateNode=e;e:{switch(n=_a(l,i),l){case"dialog":ye("cancel",e),ye("close",e),s=i;break;case"iframe":case"object":case"embed":ye("load",e),s=i;break;case"video":case"audio":for(s=0;s<Ol.length;s++)ye(Ol[s],e);s=i;break;case"source":ye("error",e),s=i;break;case"img":case"image":case"link":ye("error",e),ye("load",e),s=i;break;case"details":ye("toggle",e),s=i;break;case"input":uh(e,i),s=aa(e,i),ye("invalid",e);break;case"option":s=i;break;case"select":e._wrapperState={wasMultiple:!!i.multiple},s=Ae({},i,{value:void 0}),ye("invalid",e);break;case"textarea":ch(e,i),s=da(e,i),ye("invalid",e);break;default:s=i}pa(l,s),d=s;for(u in d)if(d.hasOwnProperty(u)){var h=d[u];u==="style"?O_(e,h):u==="dangerouslySetInnerHTML"?(h=h?h.__html:void 0,h!=null&&k_(e,h)):u==="children"?typeof h=="string"?(l!=="textarea"||h!=="")&&zl(e,h):typeof h=="number"&&zl(e,""+h):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(jl.hasOwnProperty(u)?h!=null&&u==="onScroll"&&ye("scroll",e):h!=null&&vc(e,u,h,n))}switch(l){case"input":Fi(e),ah(e,i,!1);break;case"textarea":Fi(e),fh(e);break;case"option":i.value!=null&&e.setAttribute("value",""+Hn(i.value));break;case"select":e.multiple=!!i.multiple,u=i.value,u!=null?Fr(e,!!i.multiple,u,!1):i.defaultValue!=null&&Fr(e,!!i.multiple,i.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Bs)}switch(l){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return et(t),null;case 6:if(e&&t.stateNode!=null)Zv(e,t,e.memoizedProps,i);else{if(typeof i!="string"&&t.stateNode===null)throw Error(j(166));if(l=or(Zl.current),or(Zt.current),Gi(t)){if(i=t.stateNode,l=t.memoizedProps,i[Xt]=t,(u=i.nodeValue!==l)&&(e=Et,e!==null))switch(e.tag){case 3:Wi(i.nodeValue,l,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Wi(i.nodeValue,l,(e.mode&1)!==0)}u&&(t.flags|=4)}else i=(l.nodeType===9?l:l.ownerDocument).createTextNode(i),i[Xt]=t,t.stateNode=i}return et(t),null;case 13:if(Se(we),i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ee&&Ct!==null&&t.mode&1&&!(t.flags&128))mv(),Gr(),t.flags|=98560,u=!1;else if(u=Gi(t),i!==null&&i.dehydrated!==null){if(e===null){if(!u)throw Error(j(318));if(u=t.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(j(317));u[Xt]=t}else Gr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;et(t),u=!1}else zt!==null&&(Qa(zt),zt=null),u=!0;if(!u)return t.flags&65536?t:null}return t.flags&128?(t.lanes=l,t):(i=i!==null,i!==(e!==null&&e.memoizedState!==null)&&i&&(t.child.flags|=8192,t.mode&1&&(e===null||we.current&1?He===0&&(He=3):Jc())),t.updateQueue!==null&&(t.flags|=4),et(t),null);case 4:return Qr(),ja(e,t),e===null&&Ql(t.stateNode.containerInfo),et(t),null;case 10:return Uc(t.type._context),et(t),null;case 17:return mt(t.type)&&qs(),et(t),null;case 19:if(Se(we),u=t.memoizedState,u===null)return et(t),null;if(i=(t.flags&128)!==0,n=u.rendering,n===null)if(i)ml(u,!1);else{if(He!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(n=Xs(e),n!==null){for(t.flags|=128,ml(u,!1),i=n.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),t.subtreeFlags=0,i=l,l=t.child;l!==null;)u=l,e=i,u.flags&=14680066,n=u.alternate,n===null?(u.childLanes=0,u.lanes=e,u.child=null,u.subtreeFlags=0,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=n.childLanes,u.lanes=n.lanes,u.child=n.child,u.subtreeFlags=0,u.deletions=null,u.memoizedProps=n.memoizedProps,u.memoizedState=n.memoizedState,u.updateQueue=n.updateQueue,u.type=n.type,e=n.dependencies,u.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),l=l.sibling;return ve(we,we.current&1|2),t.child}e=e.sibling}u.tail!==null&&be()>Xr&&(t.flags|=128,i=!0,ml(u,!1),t.lanes=4194304)}else{if(!i)if(e=Xs(n),e!==null){if(t.flags|=128,i=!0,l=e.updateQueue,l!==null&&(t.updateQueue=l,t.flags|=4),ml(u,!0),u.tail===null&&u.tailMode==="hidden"&&!n.alternate&&!Ee)return et(t),null}else 2*be()-u.renderingStartTime>Xr&&l!==1073741824&&(t.flags|=128,i=!0,ml(u,!1),t.lanes=4194304);u.isBackwards?(n.sibling=t.child,t.child=n):(l=u.last,l!==null?l.sibling=n:t.child=n,u.last=n)}return u.tail!==null?(t=u.tail,u.rendering=t,u.tail=t.sibling,u.renderingStartTime=be(),t.sibling=null,l=we.current,ve(we,i?l&1|2:l&1),t):(et(t),null);case 22:case 23:return Xc(),i=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==i&&(t.flags|=8192),i&&t.mode&1?Tt&1073741824&&(et(t),t.subtreeFlags&6&&(t.flags|=8192)):et(t),null;case 24:return null;case 25:return null}throw Error(j(156,t.tag))}function N0(e,t){switch(Nc(t),t.tag){case 1:return mt(t.type)&&qs(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Qr(),Se(vt),Se(rt),$c(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Hc(t),null;case 13:if(Se(we),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(j(340));Gr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Se(we),null;case 4:return Qr(),null;case 10:return Uc(t.type._context),null;case 22:case 23:return Xc(),null;case 24:return null;default:return null}}var Yi=!1,nt=!1,b0=typeof WeakSet=="function"?WeakSet:Set,K=null;function Ur(e,t){var l=e.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(i){xe(e,t,i)}else l.current=null}function za(e,t,l){try{l()}catch(i){xe(e,t,i)}}var ep=!1;function P0(e,t){if(Ra=$s,e=lv(),xc(e)){if("selectionStart"in e)var l={start:e.selectionStart,end:e.selectionEnd};else e:{l=(l=e.ownerDocument)&&l.defaultView||window;var i=l.getSelection&&l.getSelection();if(i&&i.rangeCount!==0){l=i.anchorNode;var s=i.anchorOffset,u=i.focusNode;i=i.focusOffset;try{l.nodeType,u.nodeType}catch{l=null;break e}var n=0,d=-1,h=-1,c=0,_=0,v=e,g=null;t:for(;;){for(var S;v!==l||s!==0&&v.nodeType!==3||(d=n+s),v!==u||i!==0&&v.nodeType!==3||(h=n+i),v.nodeType===3&&(n+=v.nodeValue.length),(S=v.firstChild)!==null;)g=v,v=S;for(;;){if(v===e)break t;if(g===l&&++c===s&&(d=n),g===u&&++_===i&&(h=n),(S=v.nextSibling)!==null)break;v=g,g=v.parentNode}v=S}l=d===-1||h===-1?null:{start:d,end:h}}else l=null}l=l||{start:0,end:0}}else l=null;for(Aa={focusedElem:e,selectionRange:l},$s=!1,K=t;K!==null;)if(t=K,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,K=e;else for(;K!==null;){t=K;try{var E=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(E!==null){var R=E.memoizedProps,F=E.memoizedState,C=t.stateNode,T=C.getSnapshotBeforeUpdate(t.elementType===t.type?R:$t(t.type,R),F);C.__reactInternalSnapshotBeforeUpdate=T}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(j(163))}}catch(I){xe(t,t.return,I)}if(e=t.sibling,e!==null){e.return=t.return,K=e;break}K=t.return}return E=ep,ep=!1,E}function Ml(e,t,l){var i=t.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var s=i=i.next;do{if((s.tag&e)===e){var u=s.destroy;s.destroy=void 0,u!==void 0&&za(t,l,u)}s=s.next}while(s!==i)}}function Ro(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var l=t=t.next;do{if((l.tag&e)===e){var i=l.create;l.destroy=i()}l=l.next}while(l!==t)}}function Ba(e){var t=e.ref;if(t!==null){var l=e.stateNode;switch(e.tag){case 5:e=l;break;default:e=l}typeof t=="function"?t(e):t.current=e}}function em(e){var t=e.alternate;t!==null&&(e.alternate=null,em(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Xt],delete t[Xl],delete t[xa],delete t[_0],delete t[v0])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function tm(e){return e.tag===5||e.tag===3||e.tag===4}function tp(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||tm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function qa(e,t,l){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?l.nodeType===8?l.parentNode.insertBefore(e,t):l.insertBefore(e,t):(l.nodeType===8?(t=l.parentNode,t.insertBefore(e,l)):(t=l,t.appendChild(e)),l=l._reactRootContainer,l!=null||t.onclick!==null||(t.onclick=Bs));else if(i!==4&&(e=e.child,e!==null))for(qa(e,t,l),e=e.sibling;e!==null;)qa(e,t,l),e=e.sibling}function Va(e,t,l){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?l.insertBefore(e,t):l.appendChild(e);else if(i!==4&&(e=e.child,e!==null))for(Va(e,t,l),e=e.sibling;e!==null;)Va(e,t,l),e=e.sibling}var Ge=null,jt=!1;function Cn(e,t,l){for(l=l.child;l!==null;)nm(e,t,l),l=l.sibling}function nm(e,t,l){if(Jt&&typeof Jt.onCommitFiberUnmount=="function")try{Jt.onCommitFiberUnmount(mo,l)}catch{}switch(l.tag){case 5:nt||Ur(l,t);case 6:var i=Ge,s=jt;Ge=null,Cn(e,t,l),Ge=i,jt=s,Ge!==null&&(jt?(e=Ge,l=l.stateNode,e.nodeType===8?e.parentNode.removeChild(l):e.removeChild(l)):Ge.removeChild(l.stateNode));break;case 18:Ge!==null&&(jt?(e=Ge,l=l.stateNode,e.nodeType===8?wu(e.parentNode,l):e.nodeType===1&&wu(e,l),Wl(e)):wu(Ge,l.stateNode));break;case 4:i=Ge,s=jt,Ge=l.stateNode.containerInfo,jt=!0,Cn(e,t,l),Ge=i,jt=s;break;case 0:case 11:case 14:case 15:if(!nt&&(i=l.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){s=i=i.next;do{var u=s,n=u.destroy;u=u.tag,n!==void 0&&(u&2||u&4)&&za(l,t,n),s=s.next}while(s!==i)}Cn(e,t,l);break;case 1:if(!nt&&(Ur(l,t),i=l.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=l.memoizedProps,i.state=l.memoizedState,i.componentWillUnmount()}catch(d){xe(l,t,d)}Cn(e,t,l);break;case 21:Cn(e,t,l);break;case 22:l.mode&1?(nt=(i=nt)||l.memoizedState!==null,Cn(e,t,l),nt=i):Cn(e,t,l);break;default:Cn(e,t,l)}}function np(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var l=e.stateNode;l===null&&(l=e.stateNode=new b0),t.forEach(function(i){var s=z0.bind(null,e,i);l.has(i)||(l.add(i),i.then(s,s))})}}function Ft(e,t){var l=t.deletions;if(l!==null)for(var i=0;i<l.length;i++){var s=l[i];try{var u=e,n=t,d=n;e:for(;d!==null;){switch(d.tag){case 5:Ge=d.stateNode,jt=!1;break e;case 3:Ge=d.stateNode.containerInfo,jt=!0;break e;case 4:Ge=d.stateNode.containerInfo,jt=!0;break e}d=d.return}if(Ge===null)throw Error(j(160));nm(u,n,s),Ge=null,jt=!1;var h=s.alternate;h!==null&&(h.return=null),s.return=null}catch(c){xe(s,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)rm(t,e),t=t.sibling}function rm(e,t){var l=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ft(t,e),Kt(e),i&4){try{Ml(3,e,e.return),Ro(3,e)}catch(R){xe(e,e.return,R)}try{Ml(5,e,e.return)}catch(R){xe(e,e.return,R)}}break;case 1:Ft(t,e),Kt(e),i&512&&l!==null&&Ur(l,l.return);break;case 5:if(Ft(t,e),Kt(e),i&512&&l!==null&&Ur(l,l.return),e.flags&32){var s=e.stateNode;try{zl(s,"")}catch(R){xe(e,e.return,R)}}if(i&4&&(s=e.stateNode,s!=null)){var u=e.memoizedProps,n=l!==null?l.memoizedProps:u,d=e.type,h=e.updateQueue;if(e.updateQueue=null,h!==null)try{d==="input"&&u.type==="radio"&&u.name!=null&&R_(s,u),_a(d,n);var c=_a(d,u);for(n=0;n<h.length;n+=2){var _=h[n],v=h[n+1];_==="style"?O_(s,v):_==="dangerouslySetInnerHTML"?k_(s,v):_==="children"?zl(s,v):vc(s,_,v,c)}switch(d){case"input":ca(s,u);break;case"textarea":A_(s,u);break;case"select":var g=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!u.multiple;var S=u.value;S!=null?Fr(s,!!u.multiple,S,!1):g!==!!u.multiple&&(u.defaultValue!=null?Fr(s,!!u.multiple,u.defaultValue,!0):Fr(s,!!u.multiple,u.multiple?[]:"",!1))}s[Xl]=u}catch(R){xe(e,e.return,R)}}break;case 6:if(Ft(t,e),Kt(e),i&4){if(e.stateNode===null)throw Error(j(162));s=e.stateNode,u=e.memoizedProps;try{s.nodeValue=u}catch(R){xe(e,e.return,R)}}break;case 3:if(Ft(t,e),Kt(e),i&4&&l!==null&&l.memoizedState.isDehydrated)try{Wl(t.containerInfo)}catch(R){xe(e,e.return,R)}break;case 4:Ft(t,e),Kt(e);break;case 13:Ft(t,e),Kt(e),s=e.child,s.flags&8192&&(u=s.memoizedState!==null,s.stateNode.isHidden=u,!u||s.alternate!==null&&s.alternate.memoizedState!==null||(Qc=be())),i&4&&np(e);break;case 22:if(_=l!==null&&l.memoizedState!==null,e.mode&1?(nt=(c=nt)||_,Ft(t,e),nt=c):Ft(t,e),Kt(e),i&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!_&&e.mode&1)for(K=e,_=e.child;_!==null;){for(v=K=_;K!==null;){switch(g=K,S=g.child,g.tag){case 0:case 11:case 14:case 15:Ml(4,g,g.return);break;case 1:Ur(g,g.return);var E=g.stateNode;if(typeof E.componentWillUnmount=="function"){i=g,l=g.return;try{t=i,E.props=t.memoizedProps,E.state=t.memoizedState,E.componentWillUnmount()}catch(R){xe(i,l,R)}}break;case 5:Ur(g,g.return);break;case 22:if(g.memoizedState!==null){lp(v);continue}}S!==null?(S.return=g,K=S):lp(v)}_=_.sibling}e:for(_=null,v=e;;){if(v.tag===5){if(_===null){_=v;try{s=v.stateNode,c?(u=s.style,typeof u.setProperty=="function"?u.setProperty("display","none","important"):u.display="none"):(d=v.stateNode,h=v.memoizedProps.style,n=h!=null&&h.hasOwnProperty("display")?h.display:null,d.style.display=x_("display",n))}catch(R){xe(e,e.return,R)}}}else if(v.tag===6){if(_===null)try{v.stateNode.nodeValue=c?"":v.memoizedProps}catch(R){xe(e,e.return,R)}}else if((v.tag!==22&&v.tag!==23||v.memoizedState===null||v===e)&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===e)break e;for(;v.sibling===null;){if(v.return===null||v.return===e)break e;_===v&&(_=null),v=v.return}_===v&&(_=null),v.sibling.return=v.return,v=v.sibling}}break;case 19:Ft(t,e),Kt(e),i&4&&np(e);break;case 21:break;default:Ft(t,e),Kt(e)}}function Kt(e){var t=e.flags;if(t&2){try{e:{for(var l=e.return;l!==null;){if(tm(l)){var i=l;break e}l=l.return}throw Error(j(160))}switch(i.tag){case 5:var s=i.stateNode;i.flags&32&&(zl(s,""),i.flags&=-33);var u=tp(e);Va(e,u,s);break;case 3:case 4:var n=i.stateNode.containerInfo,d=tp(e);qa(e,d,n);break;default:throw Error(j(161))}}catch(h){xe(e,e.return,h)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function D0(e,t,l){K=e,lm(e)}function lm(e,t,l){for(var i=(e.mode&1)!==0;K!==null;){var s=K,u=s.child;if(s.tag===22&&i){var n=s.memoizedState!==null||Yi;if(!n){var d=s.alternate,h=d!==null&&d.memoizedState!==null||nt;d=Yi;var c=nt;if(Yi=n,(nt=h)&&!c)for(K=s;K!==null;)n=K,h=n.child,n.tag===22&&n.memoizedState!==null?ip(s):h!==null?(h.return=n,K=h):ip(s);for(;u!==null;)K=u,lm(u),u=u.sibling;K=s,Yi=d,nt=c}rp(e)}else s.subtreeFlags&8772&&u!==null?(u.return=s,K=u):rp(e)}}function rp(e){for(;K!==null;){var t=K;if(t.flags&8772){var l=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:nt||Ro(5,t);break;case 1:var i=t.stateNode;if(t.flags&4&&!nt)if(l===null)i.componentDidMount();else{var s=t.elementType===t.type?l.memoizedProps:$t(t.type,l.memoizedProps);i.componentDidUpdate(s,l.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var u=t.updateQueue;u!==null&&jh(t,u,i);break;case 3:var n=t.updateQueue;if(n!==null){if(l=null,t.child!==null)switch(t.child.tag){case 5:l=t.child.stateNode;break;case 1:l=t.child.stateNode}jh(t,n,l)}break;case 5:var d=t.stateNode;if(l===null&&t.flags&4){l=d;var h=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":h.autoFocus&&l.focus();break;case"img":h.src&&(l.src=h.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var _=c.memoizedState;if(_!==null){var v=_.dehydrated;v!==null&&Wl(v)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(j(163))}nt||t.flags&512&&Ba(t)}catch(g){xe(t,t.return,g)}}if(t===e){K=null;break}if(l=t.sibling,l!==null){l.return=t.return,K=l;break}K=t.return}}function lp(e){for(;K!==null;){var t=K;if(t===e){K=null;break}var l=t.sibling;if(l!==null){l.return=t.return,K=l;break}K=t.return}}function ip(e){for(;K!==null;){var t=K;try{switch(t.tag){case 0:case 11:case 15:var l=t.return;try{Ro(4,t)}catch(h){xe(t,l,h)}break;case 1:var i=t.stateNode;if(typeof i.componentDidMount=="function"){var s=t.return;try{i.componentDidMount()}catch(h){xe(t,s,h)}}var u=t.return;try{Ba(t)}catch(h){xe(t,u,h)}break;case 5:var n=t.return;try{Ba(t)}catch(h){xe(t,n,h)}}}catch(h){xe(t,t.return,h)}if(t===e){K=null;break}var d=t.sibling;if(d!==null){d.return=t.return,K=d;break}K=t.return}}var U0=Math.ceil,eo=vn.ReactCurrentDispatcher,Gc=vn.ReactCurrentOwner,Ut=vn.ReactCurrentBatchConfig,ce=0,qe=null,Le=null,Ye=0,Tt=0,Lr=Bn(0),He=0,ri=null,pr=0,Ao=0,Kc=0,Fl=null,pt=null,Qc=0,Xr=1/0,on=null,to=!1,Wa=null,Ln=null,Xi=!1,On=null,no=0,Hl=0,Ga=null,ys=-1,Ss=0;function at(){return ce&6?be():ys!==-1?ys:ys=be()}function Mn(e){return e.mode&1?ce&2&&Ye!==0?Ye&-Ye:g0.transition!==null?(Ss===0&&(Ss=z_()),Ss):(e=he,e!==0||(e=window.event,e=e===void 0?16:Q_(e.type)),e):1}function qt(e,t,l,i){if(50<Hl)throw Hl=0,Ga=null,Error(j(185));ui(e,l,i),(!(ce&2)||e!==qe)&&(e===qe&&(!(ce&2)&&(Ao|=l),He===4&&kn(e,Ye)),gt(e,i),l===1&&ce===0&&!(t.mode&1)&&(Xr=be()+500,Co&&qn()))}function gt(e,t){var l=e.callbackNode;gy(e,t);var i=Hs(e,e===qe?Ye:0);if(i===0)l!==null&&ph(l),e.callbackNode=null,e.callbackPriority=0;else if(t=i&-i,e.callbackPriority!==t){if(l!=null&&ph(l),t===1)e.tag===0?m0(sp.bind(null,e)):pv(sp.bind(null,e)),h0(function(){!(ce&6)&&qn()}),l=null;else{switch(B_(i)){case 1:l=Tc;break;case 4:l=$_;break;case 16:l=Fs;break;case 536870912:l=j_;break;default:l=Fs}l=dm(l,im.bind(null,e))}e.callbackPriority=t,e.callbackNode=l}}function im(e,t){if(ys=-1,Ss=0,ce&6)throw Error(j(327));var l=e.callbackNode;if(Br()&&e.callbackNode!==l)return null;var i=Hs(e,e===qe?Ye:0);if(i===0)return null;if(i&30||i&e.expiredLanes||t)t=ro(e,i);else{t=i;var s=ce;ce|=2;var u=om();(qe!==e||Ye!==t)&&(on=null,Xr=be()+500,ar(e,t));do try{F0();break}catch(d){sm(e,d)}while(!0);Dc(),eo.current=u,ce=s,Le!==null?t=0:(qe=null,Ye=0,t=He)}if(t!==0){if(t===2&&(s=Sa(e),s!==0&&(i=s,t=Ka(e,s))),t===1)throw l=ri,ar(e,0),kn(e,i),gt(e,be()),l;if(t===6)kn(e,i);else{if(s=e.current.alternate,!(i&30)&&!L0(s)&&(t=ro(e,i),t===2&&(u=Sa(e),u!==0&&(i=u,t=Ka(e,u))),t===1))throw l=ri,ar(e,0),kn(e,i),gt(e,be()),l;switch(e.finishedWork=s,e.finishedLanes=i,t){case 0:case 1:throw Error(j(345));case 2:rr(e,pt,on);break;case 3:if(kn(e,i),(i&130023424)===i&&(t=Qc+500-be(),10<t)){if(Hs(e,0)!==0)break;if(s=e.suspendedLanes,(s&i)!==i){at(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=ka(rr.bind(null,e,pt,on),t);break}rr(e,pt,on);break;case 4:if(kn(e,i),(i&4194240)===i)break;for(t=e.eventTimes,s=-1;0<i;){var n=31-Bt(i);u=1<<n,n=t[n],n>s&&(s=n),i&=~u}if(i=s,i=be()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*U0(i/1960))-i,10<i){e.timeoutHandle=ka(rr.bind(null,e,pt,on),i);break}rr(e,pt,on);break;case 5:rr(e,pt,on);break;default:throw Error(j(329))}}}return gt(e,be()),e.callbackNode===l?im.bind(null,e):null}function Ka(e,t){var l=Fl;return e.current.memoizedState.isDehydrated&&(ar(e,t).flags|=256),e=ro(e,t),e!==2&&(t=pt,pt=l,t!==null&&Qa(t)),e}function Qa(e){pt===null?pt=e:pt.push.apply(pt,e)}function L0(e){for(var t=e;;){if(t.flags&16384){var l=t.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var i=0;i<l.length;i++){var s=l[i],u=s.getSnapshot;s=s.value;try{if(!Vt(u(),s))return!1}catch{return!1}}}if(l=t.child,t.subtreeFlags&16384&&l!==null)l.return=t,t=l;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function kn(e,t){for(t&=~Kc,t&=~Ao,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var l=31-Bt(t),i=1<<l;e[l]=-1,t&=~i}}function sp(e){if(ce&6)throw Error(j(327));Br();var t=Hs(e,0);if(!(t&1))return gt(e,be()),null;var l=ro(e,t);if(e.tag!==0&&l===2){var i=Sa(e);i!==0&&(t=i,l=Ka(e,i))}if(l===1)throw l=ri,ar(e,0),kn(e,t),gt(e,be()),l;if(l===6)throw Error(j(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,rr(e,pt,on),gt(e,be()),null}function Yc(e,t){var l=ce;ce|=1;try{return e(t)}finally{ce=l,ce===0&&(Xr=be()+500,Co&&qn())}}function _r(e){On!==null&&On.tag===0&&!(ce&6)&&Br();var t=ce;ce|=1;var l=Ut.transition,i=he;try{if(Ut.transition=null,he=1,e)return e()}finally{he=i,Ut.transition=l,ce=t,!(ce&6)&&qn()}}function Xc(){Tt=Lr.current,Se(Lr)}function ar(e,t){e.finishedWork=null,e.finishedLanes=0;var l=e.timeoutHandle;if(l!==-1&&(e.timeoutHandle=-1,d0(l)),Le!==null)for(l=Le.return;l!==null;){var i=l;switch(Nc(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&qs();break;case 3:Qr(),Se(vt),Se(rt),$c();break;case 5:Hc(i);break;case 4:Qr();break;case 13:Se(we);break;case 19:Se(we);break;case 10:Uc(i.type._context);break;case 22:case 23:Xc()}l=l.return}if(qe=e,Le=e=Fn(e.current,null),Ye=Tt=t,He=0,ri=null,Kc=Ao=pr=0,pt=Fl=null,sr!==null){for(t=0;t<sr.length;t++)if(l=sr[t],i=l.interleaved,i!==null){l.interleaved=null;var s=i.next,u=l.pending;if(u!==null){var n=u.next;u.next=s,i.next=n}l.pending=i}sr=null}return e}function sm(e,t){do{var l=Le;try{if(Dc(),vs.current=Zs,Js){for(var i=Re.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}Js=!1}if(hr=0,Be=Fe=Re=null,Ll=!1,ei=0,Gc.current=null,l===null||l.return===null){He=1,ri=t,Le=null;break}e:{var u=e,n=l.return,d=l,h=t;if(t=Ye,d.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){var c=h,_=d,v=_.tag;if(!(_.mode&1)&&(v===0||v===11||v===15)){var g=_.alternate;g?(_.updateQueue=g.updateQueue,_.memoizedState=g.memoizedState,_.lanes=g.lanes):(_.updateQueue=null,_.memoizedState=null)}var S=Gh(n);if(S!==null){S.flags&=-257,Kh(S,n,d,u,t),S.mode&1&&Wh(u,c,t),t=S,h=c;var E=t.updateQueue;if(E===null){var R=new Set;R.add(h),t.updateQueue=R}else E.add(h);break e}else{if(!(t&1)){Wh(u,c,t),Jc();break e}h=Error(j(426))}}else if(Ee&&d.mode&1){var F=Gh(n);if(F!==null){!(F.flags&65536)&&(F.flags|=256),Kh(F,n,d,u,t),bc(Yr(h,d));break e}}u=h=Yr(h,d),He!==4&&(He=2),Fl===null?Fl=[u]:Fl.push(u),u=n;do{switch(u.tag){case 3:u.flags|=65536,t&=-t,u.lanes|=t;var C=Bv(u,h,t);$h(u,C);break e;case 1:d=h;var T=u.type,w=u.stateNode;if(!(u.flags&128)&&(typeof T.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Ln===null||!Ln.has(w)))){u.flags|=65536,t&=-t,u.lanes|=t;var I=qv(u,d,t);$h(u,I);break e}}u=u.return}while(u!==null)}am(l)}catch(L){t=L,Le===l&&l!==null&&(Le=l=l.return);continue}break}while(!0)}function om(){var e=eo.current;return eo.current=Zs,e===null?Zs:e}function Jc(){(He===0||He===3||He===2)&&(He=4),qe===null||!(pr&268435455)&&!(Ao&268435455)||kn(qe,Ye)}function ro(e,t){var l=ce;ce|=2;var i=om();(qe!==e||Ye!==t)&&(on=null,ar(e,t));do try{M0();break}catch(s){sm(e,s)}while(!0);if(Dc(),ce=l,eo.current=i,Le!==null)throw Error(j(261));return qe=null,Ye=0,He}function M0(){for(;Le!==null;)um(Le)}function F0(){for(;Le!==null&&!ay();)um(Le)}function um(e){var t=fm(e.alternate,e,Tt);e.memoizedProps=e.pendingProps,t===null?am(e):Le=t,Gc.current=null}function am(e){var t=e;do{var l=t.alternate;if(e=t.return,t.flags&32768){if(l=N0(l,t),l!==null){l.flags&=32767,Le=l;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{He=6,Le=null;return}}else if(l=O0(l,t,Tt),l!==null){Le=l;return}if(t=t.sibling,t!==null){Le=t;return}Le=t=e}while(t!==null);He===0&&(He=5)}function rr(e,t,l){var i=he,s=Ut.transition;try{Ut.transition=null,he=1,H0(e,t,l,i)}finally{Ut.transition=s,he=i}return null}function H0(e,t,l,i){do Br();while(On!==null);if(ce&6)throw Error(j(327));l=e.finishedWork;var s=e.finishedLanes;if(l===null)return null;if(e.finishedWork=null,e.finishedLanes=0,l===e.current)throw Error(j(177));e.callbackNode=null,e.callbackPriority=0;var u=l.lanes|l.childLanes;if(yy(e,u),e===qe&&(Le=qe=null,Ye=0),!(l.subtreeFlags&2064)&&!(l.flags&2064)||Xi||(Xi=!0,dm(Fs,function(){return Br(),null})),u=(l.flags&15990)!==0,l.subtreeFlags&15990||u){u=Ut.transition,Ut.transition=null;var n=he;he=1;var d=ce;ce|=4,Gc.current=null,P0(e,l),rm(l,e),i0(Aa),$s=!!Ra,Aa=Ra=null,e.current=l,D0(l),cy(),ce=d,he=n,Ut.transition=u}else e.current=l;if(Xi&&(Xi=!1,On=e,no=s),u=e.pendingLanes,u===0&&(Ln=null),hy(l.stateNode),gt(e,be()),t!==null)for(i=e.onRecoverableError,l=0;l<t.length;l++)s=t[l],i(s.value,{componentStack:s.stack,digest:s.digest});if(to)throw to=!1,e=Wa,Wa=null,e;return no&1&&e.tag!==0&&Br(),u=e.pendingLanes,u&1?e===Ga?Hl++:(Hl=0,Ga=e):Hl=0,qn(),null}function Br(){if(On!==null){var e=B_(no),t=Ut.transition,l=he;try{if(Ut.transition=null,he=16>e?16:e,On===null)var i=!1;else{if(e=On,On=null,no=0,ce&6)throw Error(j(331));var s=ce;for(ce|=4,K=e.current;K!==null;){var u=K,n=u.child;if(K.flags&16){var d=u.deletions;if(d!==null){for(var h=0;h<d.length;h++){var c=d[h];for(K=c;K!==null;){var _=K;switch(_.tag){case 0:case 11:case 15:Ml(8,_,u)}var v=_.child;if(v!==null)v.return=_,K=v;else for(;K!==null;){_=K;var g=_.sibling,S=_.return;if(em(_),_===c){K=null;break}if(g!==null){g.return=S,K=g;break}K=S}}}var E=u.alternate;if(E!==null){var R=E.child;if(R!==null){E.child=null;do{var F=R.sibling;R.sibling=null,R=F}while(R!==null)}}K=u}}if(u.subtreeFlags&2064&&n!==null)n.return=u,K=n;else e:for(;K!==null;){if(u=K,u.flags&2048)switch(u.tag){case 0:case 11:case 15:Ml(9,u,u.return)}var C=u.sibling;if(C!==null){C.return=u.return,K=C;break e}K=u.return}}var T=e.current;for(K=T;K!==null;){n=K;var w=n.child;if(n.subtreeFlags&2064&&w!==null)w.return=n,K=w;else e:for(n=T;K!==null;){if(d=K,d.flags&2048)try{switch(d.tag){case 0:case 11:case 15:Ro(9,d)}}catch(L){xe(d,d.return,L)}if(d===n){K=null;break e}var I=d.sibling;if(I!==null){I.return=d.return,K=I;break e}K=d.return}}if(ce=s,qn(),Jt&&typeof Jt.onPostCommitFiberRoot=="function")try{Jt.onPostCommitFiberRoot(mo,e)}catch{}i=!0}return i}finally{he=l,Ut.transition=t}}return!1}function op(e,t,l){t=Yr(l,t),t=Bv(e,t,1),e=Un(e,t,1),t=at(),e!==null&&(ui(e,1,t),gt(e,t))}function xe(e,t,l){if(e.tag===3)op(e,e,l);else for(;t!==null;){if(t.tag===3){op(t,e,l);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Ln===null||!Ln.has(i))){e=Yr(l,e),e=qv(t,e,1),t=Un(t,e,1),e=at(),t!==null&&(ui(t,1,e),gt(t,e));break}}t=t.return}}function $0(e,t,l){var i=e.pingCache;i!==null&&i.delete(t),t=at(),e.pingedLanes|=e.suspendedLanes&l,qe===e&&(Ye&l)===l&&(He===4||He===3&&(Ye&130023424)===Ye&&500>be()-Qc?ar(e,0):Kc|=l),gt(e,t)}function cm(e,t){t===0&&(e.mode&1?(t=ji,ji<<=1,!(ji&130023424)&&(ji=4194304)):t=1);var l=at();e=pn(e,t),e!==null&&(ui(e,t,l),gt(e,l))}function j0(e){var t=e.memoizedState,l=0;t!==null&&(l=t.retryLane),cm(e,l)}function z0(e,t){var l=0;switch(e.tag){case 13:var i=e.stateNode,s=e.memoizedState;s!==null&&(l=s.retryLane);break;case 19:i=e.stateNode;break;default:throw Error(j(314))}i!==null&&i.delete(t),cm(e,l)}var fm;fm=function(e,t,l){if(e!==null)if(e.memoizedProps!==t.pendingProps||vt.current)_t=!0;else{if(!(e.lanes&l)&&!(t.flags&128))return _t=!1,x0(e,t,l);_t=!!(e.flags&131072)}else _t=!1,Ee&&t.flags&1048576&&_v(t,Gs,t.index);switch(t.lanes=0,t.tag){case 2:var i=t.type;gs(e,t),e=t.pendingProps;var s=Wr(t,rt.current);zr(t,l),s=zc(null,t,i,e,s,l);var u=Bc();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,mt(i)?(u=!0,Vs(t)):u=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Mc(t),s.updater=wo,t.stateNode=s,s._reactInternals=t,Ua(t,i,e,l),t=Fa(null,t,i,!0,u,l)):(t.tag=0,Ee&&u&&Oc(t),ut(null,t,s,l),t=t.child),t;case 16:i=t.elementType;e:{switch(gs(e,t),e=t.pendingProps,s=i._init,i=s(i._payload),t.type=i,s=t.tag=q0(i),e=$t(i,e),s){case 0:t=Ma(null,t,i,e,l);break e;case 1:t=Xh(null,t,i,e,l);break e;case 11:t=Qh(null,t,i,e,l);break e;case 14:t=Yh(null,t,i,$t(i.type,e),l);break e}throw Error(j(306,i,""))}return t;case 0:return i=t.type,s=t.pendingProps,s=t.elementType===i?s:$t(i,s),Ma(e,t,i,s,l);case 1:return i=t.type,s=t.pendingProps,s=t.elementType===i?s:$t(i,s),Xh(e,t,i,s,l);case 3:e:{if(Kv(t),e===null)throw Error(j(387));i=t.pendingProps,u=t.memoizedState,s=u.element,Tv(e,t),Ys(t,i,null,l);var n=t.memoizedState;if(i=n.element,u.isDehydrated)if(u={element:i,isDehydrated:!1,cache:n.cache,pendingSuspenseBoundaries:n.pendingSuspenseBoundaries,transitions:n.transitions},t.updateQueue.baseState=u,t.memoizedState=u,t.flags&256){s=Yr(Error(j(423)),t),t=Jh(e,t,i,l,s);break e}else if(i!==s){s=Yr(Error(j(424)),t),t=Jh(e,t,i,l,s);break e}else for(Ct=Dn(t.stateNode.containerInfo.firstChild),Et=t,Ee=!0,zt=null,l=yv(t,null,i,l),t.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Gr(),i===s){t=_n(e,t,l);break e}ut(e,t,i,l)}t=t.child}return t;case 5:return Cv(t),e===null&&ba(t),i=t.type,s=t.pendingProps,u=e!==null?e.memoizedProps:null,n=s.children,Ia(i,s)?n=null:u!==null&&Ia(i,u)&&(t.flags|=32),Gv(e,t),ut(e,t,n,l),t.child;case 6:return e===null&&ba(t),null;case 13:return Qv(e,t,l);case 4:return Fc(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=Kr(t,null,i,l):ut(e,t,i,l),t.child;case 11:return i=t.type,s=t.pendingProps,s=t.elementType===i?s:$t(i,s),Qh(e,t,i,s,l);case 7:return ut(e,t,t.pendingProps,l),t.child;case 8:return ut(e,t,t.pendingProps.children,l),t.child;case 12:return ut(e,t,t.pendingProps.children,l),t.child;case 10:e:{if(i=t.type._context,s=t.pendingProps,u=t.memoizedProps,n=s.value,ve(Ks,i._currentValue),i._currentValue=n,u!==null)if(Vt(u.value,n)){if(u.children===s.children&&!vt.current){t=_n(e,t,l);break e}}else for(u=t.child,u!==null&&(u.return=t);u!==null;){var d=u.dependencies;if(d!==null){n=u.child;for(var h=d.firstContext;h!==null;){if(h.context===i){if(u.tag===1){h=fn(-1,l&-l),h.tag=2;var c=u.updateQueue;if(c!==null){c=c.shared;var _=c.pending;_===null?h.next=h:(h.next=_.next,_.next=h),c.pending=h}}u.lanes|=l,h=u.alternate,h!==null&&(h.lanes|=l),Pa(u.return,l,t),d.lanes|=l;break}h=h.next}}else if(u.tag===10)n=u.type===t.type?null:u.child;else if(u.tag===18){if(n=u.return,n===null)throw Error(j(341));n.lanes|=l,d=n.alternate,d!==null&&(d.lanes|=l),Pa(n,l,t),n=u.sibling}else n=u.child;if(n!==null)n.return=u;else for(n=u;n!==null;){if(n===t){n=null;break}if(u=n.sibling,u!==null){u.return=n.return,n=u;break}n=n.return}u=n}ut(e,t,s.children,l),t=t.child}return t;case 9:return s=t.type,i=t.pendingProps.children,zr(t,l),s=Lt(s),i=i(s),t.flags|=1,ut(e,t,i,l),t.child;case 14:return i=t.type,s=$t(i,t.pendingProps),s=$t(i.type,s),Yh(e,t,i,s,l);case 15:return Vv(e,t,t.type,t.pendingProps,l);case 17:return i=t.type,s=t.pendingProps,s=t.elementType===i?s:$t(i,s),gs(e,t),t.tag=1,mt(i)?(e=!0,Vs(t)):e=!1,zr(t,l),zv(t,i,s),Ua(t,i,s,l),Fa(null,t,i,!0,e,l);case 19:return Yv(e,t,l);case 22:return Wv(e,t,l)}throw Error(j(156,t.tag))};function dm(e,t){return H_(e,t)}function B0(e,t,l,i){this.tag=e,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dt(e,t,l,i){return new B0(e,t,l,i)}function Zc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function q0(e){if(typeof e=="function")return Zc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===gc)return 11;if(e===yc)return 14}return 2}function Fn(e,t){var l=e.alternate;return l===null?(l=Dt(e.tag,t,e.key,e.mode),l.elementType=e.elementType,l.type=e.type,l.stateNode=e.stateNode,l.alternate=e,e.alternate=l):(l.pendingProps=t,l.type=e.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=e.flags&14680064,l.childLanes=e.childLanes,l.lanes=e.lanes,l.child=e.child,l.memoizedProps=e.memoizedProps,l.memoizedState=e.memoizedState,l.updateQueue=e.updateQueue,t=e.dependencies,l.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},l.sibling=e.sibling,l.index=e.index,l.ref=e.ref,l}function Ts(e,t,l,i,s,u){var n=2;if(i=e,typeof e=="function")Zc(e)&&(n=1);else if(typeof e=="string")n=5;else e:switch(e){case Ar:return cr(l.children,s,u,t);case mc:n=8,s|=8;break;case ia:return e=Dt(12,l,t,s|2),e.elementType=ia,e.lanes=u,e;case sa:return e=Dt(13,l,t,s),e.elementType=sa,e.lanes=u,e;case oa:return e=Dt(19,l,t,s),e.elementType=oa,e.lanes=u,e;case C_:return Io(l,s,u,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case S_:n=10;break e;case T_:n=9;break e;case gc:n=11;break e;case yc:n=14;break e;case Rn:n=16,i=null;break e}throw Error(j(130,e==null?e:typeof e,""))}return t=Dt(n,l,t,s),t.elementType=e,t.type=i,t.lanes=u,t}function cr(e,t,l,i){return e=Dt(7,e,i,t),e.lanes=l,e}function Io(e,t,l,i){return e=Dt(22,e,i,t),e.elementType=C_,e.lanes=l,e.stateNode={isHidden:!1},e}function bu(e,t,l){return e=Dt(6,e,null,t),e.lanes=l,e}function Pu(e,t,l){return t=Dt(4,e.children!==null?e.children:[],e.key,t),t.lanes=l,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function V0(e,t,l,i,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=hu(0),this.expirationTimes=hu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hu(0),this.identifierPrefix=i,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function ef(e,t,l,i,s,u,n,d,h){return e=new V0(e,t,l,d,h),t===1?(t=1,u===!0&&(t|=8)):t=0,u=Dt(3,null,null,t),e.current=u,u.stateNode=e,u.memoizedState={element:i,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},Mc(u),e}function W0(e,t,l){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Rr,key:i==null?null:""+i,children:e,containerInfo:t,implementation:l}}function hm(e){if(!e)return $n;e=e._reactInternals;e:{if(mr(e)!==e||e.tag!==1)throw Error(j(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(mt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(j(171))}if(e.tag===1){var l=e.type;if(mt(l))return hv(e,l,t)}return t}function pm(e,t,l,i,s,u,n,d,h){return e=ef(l,i,!0,e,s,u,n,d,h),e.context=hm(null),l=e.current,i=at(),s=Mn(l),u=fn(i,s),u.callback=t??null,Un(l,u,s),e.current.lanes=s,ui(e,s,i),gt(e,i),e}function ko(e,t,l,i){var s=t.current,u=at(),n=Mn(s);return l=hm(l),t.context===null?t.context=l:t.pendingContext=l,t=fn(u,n),t.payload={element:e},i=i===void 0?null:i,i!==null&&(t.callback=i),e=Un(s,t,n),e!==null&&(qt(e,s,n,u),_s(e,s,n)),n}function lo(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function up(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var l=e.retryLane;e.retryLane=l!==0&&l<t?l:t}}function tf(e,t){up(e,t),(e=e.alternate)&&up(e,t)}function G0(){return null}var _m=typeof reportError=="function"?reportError:function(e){console.error(e)};function nf(e){this._internalRoot=e}xo.prototype.render=nf.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(j(409));ko(e,t,null,null)};xo.prototype.unmount=nf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;_r(function(){ko(null,e,null,null)}),t[hn]=null}};function xo(e){this._internalRoot=e}xo.prototype.unstable_scheduleHydration=function(e){if(e){var t=W_();e={blockedOn:null,target:e,priority:t};for(var l=0;l<In.length&&t!==0&&t<In[l].priority;l++);In.splice(l,0,e),l===0&&K_(e)}};function rf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Oo(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function ap(){}function K0(e,t,l,i,s){if(s){if(typeof i=="function"){var u=i;i=function(){var c=lo(n);u.call(c)}}var n=pm(t,i,e,0,null,!1,!1,"",ap);return e._reactRootContainer=n,e[hn]=n.current,Ql(e.nodeType===8?e.parentNode:e),_r(),n}for(;s=e.lastChild;)e.removeChild(s);if(typeof i=="function"){var d=i;i=function(){var c=lo(h);d.call(c)}}var h=ef(e,0,!1,null,null,!1,!1,"",ap);return e._reactRootContainer=h,e[hn]=h.current,Ql(e.nodeType===8?e.parentNode:e),_r(function(){ko(t,h,l,i)}),h}function No(e,t,l,i,s){var u=l._reactRootContainer;if(u){var n=u;if(typeof s=="function"){var d=s;s=function(){var h=lo(n);d.call(h)}}ko(t,n,e,s)}else n=K0(l,t,e,s,i);return lo(n)}q_=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var l=xl(t.pendingLanes);l!==0&&(Cc(t,l|1),gt(t,be()),!(ce&6)&&(Xr=be()+500,qn()))}break;case 13:_r(function(){var i=pn(e,1);if(i!==null){var s=at();qt(i,e,1,s)}}),tf(e,1)}};Ec=function(e){if(e.tag===13){var t=pn(e,134217728);if(t!==null){var l=at();qt(t,e,134217728,l)}tf(e,134217728)}};V_=function(e){if(e.tag===13){var t=Mn(e),l=pn(e,t);if(l!==null){var i=at();qt(l,e,t,i)}tf(e,t)}};W_=function(){return he};G_=function(e,t){var l=he;try{return he=e,t()}finally{he=l}};ma=function(e,t,l){switch(t){case"input":if(ca(e,l),t=l.name,l.type==="radio"&&t!=null){for(l=e;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<l.length;t++){var i=l[t];if(i!==e&&i.form===e.form){var s=To(i);if(!s)throw Error(j(90));w_(i),ca(i,s)}}}break;case"textarea":A_(e,l);break;case"select":t=l.value,t!=null&&Fr(e,!!l.multiple,t,!1)}};P_=Yc;D_=_r;var Q0={usingClientEntryPoint:!1,Events:[ci,Or,To,N_,b_,Yc]},gl={findFiberByHostInstance:ir,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Y0={bundleType:gl.bundleType,version:gl.version,rendererPackageName:gl.rendererPackageName,rendererConfig:gl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:vn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=M_(e),e===null?null:e.stateNode},findFiberByHostInstance:gl.findFiberByHostInstance||G0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ji=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ji.isDisabled&&Ji.supportsFiber)try{mo=Ji.inject(Y0),Jt=Ji}catch{}}Rt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Q0;Rt.createPortal=function(e,t){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!rf(t))throw Error(j(200));return W0(e,t,null,l)};Rt.createRoot=function(e,t){if(!rf(e))throw Error(j(299));var l=!1,i="",s=_m;return t!=null&&(t.unstable_strictMode===!0&&(l=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=ef(e,1,!1,null,null,l,!1,i,s),e[hn]=t.current,Ql(e.nodeType===8?e.parentNode:e),new nf(t)};Rt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(j(188)):(e=Object.keys(e).join(","),Error(j(268,e)));return e=M_(t),e=e===null?null:e.stateNode,e};Rt.flushSync=function(e){return _r(e)};Rt.hydrate=function(e,t,l){if(!Oo(t))throw Error(j(200));return No(null,e,t,!0,l)};Rt.hydrateRoot=function(e,t,l){if(!rf(e))throw Error(j(405));var i=l!=null&&l.hydratedSources||null,s=!1,u="",n=_m;if(l!=null&&(l.unstable_strictMode===!0&&(s=!0),l.identifierPrefix!==void 0&&(u=l.identifierPrefix),l.onRecoverableError!==void 0&&(n=l.onRecoverableError)),t=pm(t,null,e,1,l??null,s,!1,u,n),e[hn]=t.current,Ql(e),i)for(e=0;e<i.length;e++)l=i[e],s=l._getVersion,s=s(l._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[l,s]:t.mutableSourceEagerHydrationData.push(l,s);return new xo(t)};Rt.render=function(e,t,l){if(!Oo(t))throw Error(j(200));return No(null,e,t,!1,l)};Rt.unmountComponentAtNode=function(e){if(!Oo(e))throw Error(j(40));return e._reactRootContainer?(_r(function(){No(null,null,e,!1,function(){e._reactRootContainer=null,e[hn]=null})}),!0):!1};Rt.unstable_batchedUpdates=Yc;Rt.unstable_renderSubtreeIntoContainer=function(e,t,l,i){if(!Oo(l))throw Error(j(200));if(e==null||e._reactInternals===void 0)throw Error(j(38));return No(e,t,l,!1,i)};Rt.version="18.3.1-next-f1338f8080-20240426";function vm(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(vm)}catch(e){console.error(e)}}vm(),v_.exports=Rt;var X0=v_.exports,cp=X0;ra.createRoot=cp.createRoot,ra.hydrateRoot=cp.hydrateRoot;const J0="JsSIP",Z0="3.10.1",mm={title:J0,version:Z0};var fp=mm,Me={USER_AGENT:"".concat(fp.title," ").concat(fp.version),SIP:"sip",SIPS:"sips",causes:{CONNECTION_ERROR:"Connection Error",REQUEST_TIMEOUT:"Request Timeout",SIP_FAILURE_CODE:"SIP Failure Code",INTERNAL_ERROR:"Internal Error",BUSY:"Busy",REJECTED:"Rejected",REDIRECTED:"Redirected",UNAVAILABLE:"Unavailable",NOT_FOUND:"Not Found",ADDRESS_INCOMPLETE:"Address Incomplete",INCOMPATIBLE_SDP:"Incompatible SDP",MISSING_SDP:"Missing SDP",AUTHENTICATION_ERROR:"Authentication Error",BYE:"Terminated",WEBRTC_ERROR:"WebRTC Error",CANCELED:"Canceled",NO_ANSWER:"No Answer",EXPIRES:"Expires",NO_ACK:"No ACK",DIALOG_ERROR:"Dialog Error",USER_DENIED_MEDIA_ACCESS:"User Denied Media Access",BAD_MEDIA_DESCRIPTION:"Bad Media Description",RTP_TIMEOUT:"RTP Timeout"},SIP_ERROR_CAUSES:{REDIRECTED:[300,301,302,305,380],BUSY:[486,600],REJECTED:[403,603],NOT_FOUND:[404,604],UNAVAILABLE:[480,410,408,430],ADDRESS_INCOMPLETE:[484,424],INCOMPATIBLE_SDP:[488,606],AUTHENTICATION_ERROR:[401,407]},ACK:"ACK",BYE:"BYE",CANCEL:"CANCEL",INFO:"INFO",INVITE:"INVITE",MESSAGE:"MESSAGE",NOTIFY:"NOTIFY",OPTIONS:"OPTIONS",REGISTER:"REGISTER",REFER:"REFER",UPDATE:"UPDATE",SUBSCRIBE:"SUBSCRIBE",DTMF_TRANSPORT:{INFO:"INFO",RFC2833:"RFC2833"},REASON_PHRASE:{100:"Trying",180:"Ringing",181:"Call Is Being Forwarded",182:"Queued",183:"Session Progress",199:"Early Dialog Terminated",200:"OK",202:"Accepted",204:"No Notification",300:"Multiple Choices",301:"Moved Permanently",302:"Moved Temporarily",305:"Use Proxy",380:"Alternative Service",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",410:"Gone",412:"Conditional Request Failed",413:"Request Entity Too Large",414:"Request-URI Too Long",415:"Unsupported Media Type",416:"Unsupported URI Scheme",417:"Unknown Resource-Priority",420:"Bad Extension",421:"Extension Required",422:"Session Interval Too Small",423:"Interval Too Brief",424:"Bad Location Information",428:"Use Identity Header",429:"Provide Referrer Identity",430:"Flow Failed",433:"Anonymity Disallowed",436:"Bad Identity-Info",437:"Unsupported Certificate",438:"Invalid Identity Header",439:"First Hop Lacks Outbound Support",440:"Max-Breadth Exceeded",469:"Bad Info Package",470:"Consent Needed",478:"Unresolvable Destination",480:"Temporarily Unavailable",481:"Call/Transaction Does Not Exist",482:"Loop Detected",483:"Too Many Hops",484:"Address Incomplete",485:"Ambiguous",486:"Busy Here",487:"Request Terminated",488:"Not Acceptable Here",489:"Bad Event",491:"Request Pending",493:"Undecipherable",494:"Security Agreement Required",500:"JsSIP Internal Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Server Time-out",505:"Version Not Supported",513:"Message Too Large",580:"Precondition Failure",600:"Busy Everywhere",603:"Decline",604:"Does Not Exist Anywhere",606:"Not Acceptable"},ALLOWED_METHODS:"INVITE,ACK,CANCEL,BYE,UPDATE,MESSAGE,OPTIONS,REFER,INFO,NOTIFY",ACCEPTED_BODY_TYPES:"application/sdp, application/dtmf-relay",MAX_FORWARDS:69,SESSION_EXPIRES:90,MIN_SESSION_EXPIRES:60,CONNECTION_RECOVERY_MAX_INTERVAL:30,CONNECTION_RECOVERY_MIN_INTERVAL:2};function Cs(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Cs=function(l){return typeof l}:Cs=function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},Cs(e)}function bo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Po(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&li(e,t)}function Do(e){var t=gm();return function(){var i=ii(e),s;if(t){var u=ii(this).constructor;s=Reflect.construct(i,arguments,u)}else s=i.apply(this,arguments);return eS(this,s)}}function eS(e,t){return t&&(Cs(t)==="object"||typeof t=="function")?t:tS(e)}function tS(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Jr(e){var t=typeof Map=="function"?new Map:void 0;return Jr=function(i){if(i===null||!nS(i))return i;if(typeof i!="function")throw new TypeError("Super expression must either be null or a function");if(typeof t<"u"){if(t.has(i))return t.get(i);t.set(i,s)}function s(){return Es(i,arguments,ii(this).constructor)}return s.prototype=Object.create(i.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),li(s,i)},Jr(e)}function Es(e,t,l){return gm()?Es=Reflect.construct:Es=function(s,u,n){var d=[null];d.push.apply(d,u);var h=Function.bind.apply(s,d),c=new h;return n&&li(c,n.prototype),c},Es.apply(null,arguments)}function gm(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function nS(e){return Function.toString.call(e).indexOf("[native code]")!==-1}function li(e,t){return li=Object.setPrototypeOf||function(i,s){return i.__proto__=s,i},li(e,t)}function ii(e){return ii=Object.setPrototypeOf?Object.getPrototypeOf:function(l){return l.__proto__||Object.getPrototypeOf(l)},ii(e)}var rS=function(e){Po(l,e);var t=Do(l);function l(i,s){var u;return bo(this,l),u=t.call(this),u.code=1,u.name="CONFIGURATION_ERROR",u.parameter=i,u.value=s,u.message=u.value?"Invalid value ".concat(JSON.stringify(u.value),' for parameter "').concat(u.parameter,'"'):"Missing parameter: ".concat(u.parameter),u}return l}(Jr(Error)),lS=function(e){Po(l,e);var t=Do(l);function l(i){var s;return bo(this,l),s=t.call(this),s.code=2,s.name="INVALID_STATE_ERROR",s.status=i,s.message="Invalid status: ".concat(i),s}return l}(Jr(Error)),iS=function(e){Po(l,e);var t=Do(l);function l(i){var s;return bo(this,l),s=t.call(this),s.code=3,s.name="NOT_SUPPORTED_ERROR",s.message=i,s}return l}(Jr(Error)),sS=function(e){Po(l,e);var t=Do(l);function l(i){var s;return bo(this,l),s=t.call(this),s.code=4,s.name="NOT_READY_ERROR",s.message=i,s}return l}(Jr(Error)),Vn={ConfigurationError:rS,InvalidStateError:lS,NotSupportedError:iS,NotReadyError:sS},Oe={},Du,dp;function lf(){if(dp)return Du;dp=1;function e(u,n){if(!(u instanceof n))throw new TypeError("Cannot call a class as a function")}function t(u,n){for(var d=0;d<n.length;d++){var h=n[d];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(u,h.key,h)}}function l(u,n,d){return n&&t(u.prototype,n),d&&t(u,d),u}var i=Wn(),s=tn();return Du=function(){l(u,null,[{key:"parse",value:function(d){if(d=s.parse(d,"Name_Addr_Header"),d!==-1)return d}}]);function u(n,d,h){if(e(this,u),!n||!(n instanceof i))throw new TypeError('missing or invalid "uri" parameter');this._uri=n,this._parameters={},this.display_name=d;for(var c in h)Object.prototype.hasOwnProperty.call(h,c)&&this.setParam(c,h[c])}return l(u,[{key:"setParam",value:function(d,h){d&&(this._parameters[d.toLowerCase()]=typeof h>"u"||h===null?null:h.toString())}},{key:"getParam",value:function(d){if(d)return this._parameters[d.toLowerCase()]}},{key:"hasParam",value:function(d){if(d)return this._parameters.hasOwnProperty(d.toLowerCase())&&!0||!1}},{key:"deleteParam",value:function(d){if(d=d.toLowerCase(),this._parameters.hasOwnProperty(d)){var h=this._parameters[d];return delete this._parameters[d],h}}},{key:"clearParams",value:function(){this._parameters={}}},{key:"clone",value:function(){return new u(this._uri.clone(),this._display_name,JSON.parse(JSON.stringify(this._parameters)))}},{key:"_quote",value:function(d){return d.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}},{key:"toString",value:function(){var d=this._display_name?'"'.concat(this._quote(this._display_name),'" '):"";d+="<".concat(this._uri.toString(),">");for(var h in this._parameters)Object.prototype.hasOwnProperty.call(this._parameters,h)&&(d+=";".concat(h),this._parameters[h]!==null&&(d+="=".concat(this._parameters[h])));return d}},{key:"uri",get:function(){return this._uri}},{key:"display_name",get:function(){return this._display_name},set:function(d){this._display_name=d===0?"0":d}}]),u}(),Du}var Uu,hp;function tn(){return hp||(hp=1,Uu=function(){function e(l){return'"'+l.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E-\x1F\x80-\uFFFF]/g,escape)+'"'}var t={parse:function(i,s){var u={CRLF:_,DIGIT:v,ALPHA:g,HEXDIG:S,WSP:E,OCTET:R,DQUOTE:F,SP:C,HTAB:T,alphanum:w,reserved:I,unreserved:L,mark:q,escaped:B,LWS:k,SWS:b,HCOLON:X,TEXT_UTF8_TRIM:Ie,TEXT_UTF8char:$e,UTF8_NONASCII:ie,UTF8_CONT:H,LHEX:z,token:O,token_nodot:$,separators:G,word:Z,STAR:ne,SLASH:fe,EQUAL:ee,LPAREN:It,RPAREN:it,RAQUOT:kt,LAQUOT:Je,COMMA:ae,SEMI:oe,COLON:Kn,LDQUOT:gn,RDQUOT:yn,comment:Sn,ctext:Tn,quoted_string:yr,quoted_string_clean:re,qdtext:te,quoted_pair:le,SIP_URI_noparams:ue,SIP_URI:ke,uri_scheme:je,uri_scheme_sips:Te,uri_scheme_sip:Qn,userinfo:dt,user:vf,user_unreserved:Fo,password:mf,hostport:Ti,host:nl,hostname:Ho,domainlabel:$o,toplabel:gf,IPv6reference:jo,IPv6address:zo,h16:Q,ls32:yt,IPv4address:rl,dec_octet:ll,port:yf,uri_parameters:Sf,uri_parameter:Bo,transport_param:Tf,user_param:Cf,method_param:Ef,ttl_param:wf,maddr_param:Rf,lr_param:Af,other_param:If,pname:kf,pvalue:xf,paramchar:il,param_unreserved:Of,headers:Nf,header:Ci,hname:bf,hvalue:Pf,hnv_unreserved:sl,Request_Response:Hm,Request_Line:Df,Request_URI:Uf,absoluteURI:qo,hier_part:Lf,net_path:Mf,abs_path:Ei,opaque_part:Ff,uric:ol,uric_no_slash:Hf,path_segments:$f,segment:wi,param:Vo,pchar:ul,scheme:jf,authority:zf,srvr:Bf,reg_name:qf,query:Vf,SIP_Version:Wo,INVITEm:Wf,ACKm:Gf,OPTIONSm:Kf,BYEm:Qf,CANCELm:Yf,REGISTERm:Xf,SUBSCRIBEm:Jf,NOTIFYm:Zf,REFERm:ed,Method:Ri,Status_Line:td,Status_Code:nd,extension_code:rd,Reason_Phrase:ld,Allow_Events:$m,Call_ID:jm,Contact:zm,contact_param:Ai,name_addr:Yn,display_name:Ii,contact_params:Go,c_p_q:id,c_p_expires:sd,delta_seconds:Xn,qvalue:od,generic_param:Pe,gen_value:ud,Content_Disposition:Bm,disp_type:ad,disp_param:Ko,handling_param:cd,Content_Encoding:qm,Content_Length:Vm,Content_Type:Wm,media_type:fd,m_type:dd,discrete_type:hd,composite_type:pd,extension_token:ki,x_token:_d,m_subtype:vd,m_parameter:Qo,m_value:md,CSeq:Gm,CSeq_value:gd,Expires:Km,Event:Qm,event_type:al,From:Ym,from_param:Yo,tag_param:Xo,Max_Forwards:Xm,Min_Expires:Jm,Name_Addr_Header:Zm,Proxy_Authenticate:eg,challenge:Jo,other_challenge:yd,auth_param:cl,digest_cln:xi,realm:Sd,realm_value:Td,domain:Cd,URI:Oi,nonce:Ed,nonce_value:wd,opaque:Rd,stale:Ad,algorithm:Id,qop_options:kd,qop_value:Ni,Proxy_Require:tg,Record_Route:ng,rec_route:bi,Reason:rg,reason_param:Zo,reason_cause:xd,Require:lg,Route:ig,route_param:Pi,Subscription_State:sg,substate_value:Od,subexp_params:eu,event_reason_value:Nd,Subject:og,Supported:ug,To:ag,to_param:tu,Via:cg,via_param:Di,via_params:nu,via_ttl:bd,via_maddr:Pd,via_received:Dd,via_branch:Ud,response_port:Ld,rport:Md,sent_protocol:Fd,protocol_name:Hd,transport:$d,sent_by:jd,via_host:zd,via_port:Bd,ttl:ru,WWW_Authenticate:fg,Session_Expires:dg,s_e_expires:qd,s_e_params:lu,s_e_refresher:Vd,extension_header:hg,header_value:Wd,message_body:pg,uuid_URI:_g,uuid:Gd,hex4:nn,hex8:Kd,hex12:Qd,Refer_To:vg,Replaces:mg,call_id:Yd,replaces_param:iu,to_tag:Xd,from_tag:Jd,early_flag:Zd};if(s!==void 0){if(u[s]===void 0)throw new Error("Invalid rule name: "+e(s)+".")}else s="CRLF";var n=0,d=0,h=[];function c(r){n<d||(n>d&&(d=n,h=[]),h.push(r))}function _(){var r;return i.substr(n,2)===`\r
`?(r=`\r
`,n+=2):(r=null,c('"\\r\\n"')),r}function v(){var r;return/^[0-9]/.test(i.charAt(n))?(r=i.charAt(n),n++):(r=null,c("[0-9]")),r}function g(){var r;return/^[a-zA-Z]/.test(i.charAt(n))?(r=i.charAt(n),n++):(r=null,c("[a-zA-Z]")),r}function S(){var r;return/^[0-9a-fA-F]/.test(i.charAt(n))?(r=i.charAt(n),n++):(r=null,c("[0-9a-fA-F]")),r}function E(){var r;return r=C(),r===null&&(r=T()),r}function R(){var r;return/^[\0-\xFF]/.test(i.charAt(n))?(r=i.charAt(n),n++):(r=null,c("[\\0-\\xFF]")),r}function F(){var r;return/^["]/.test(i.charAt(n))?(r=i.charAt(n),n++):(r=null,c('["]')),r}function C(){var r;return i.charCodeAt(n)===32?(r=" ",n++):(r=null,c('" "')),r}function T(){var r;return i.charCodeAt(n)===9?(r="	",n++):(r=null,c('"\\t"')),r}function w(){var r;return/^[a-zA-Z0-9]/.test(i.charAt(n))?(r=i.charAt(n),n++):(r=null,c("[a-zA-Z0-9]")),r}function I(){var r;return i.charCodeAt(n)===59?(r=";",n++):(r=null,c('";"')),r===null&&(i.charCodeAt(n)===47?(r="/",n++):(r=null,c('"/"')),r===null&&(i.charCodeAt(n)===63?(r="?",n++):(r=null,c('"?"')),r===null&&(i.charCodeAt(n)===58?(r=":",n++):(r=null,c('":"')),r===null&&(i.charCodeAt(n)===64?(r="@",n++):(r=null,c('"@"')),r===null&&(i.charCodeAt(n)===38?(r="&",n++):(r=null,c('"&"')),r===null&&(i.charCodeAt(n)===61?(r="=",n++):(r=null,c('"="')),r===null&&(i.charCodeAt(n)===43?(r="+",n++):(r=null,c('"+"')),r===null&&(i.charCodeAt(n)===36?(r="$",n++):(r=null,c('"$"')),r===null&&(i.charCodeAt(n)===44?(r=",",n++):(r=null,c('","'))))))))))),r}function L(){var r;return r=w(),r===null&&(r=q()),r}function q(){var r;return i.charCodeAt(n)===45?(r="-",n++):(r=null,c('"-"')),r===null&&(i.charCodeAt(n)===95?(r="_",n++):(r=null,c('"_"')),r===null&&(i.charCodeAt(n)===46?(r=".",n++):(r=null,c('"."')),r===null&&(i.charCodeAt(n)===33?(r="!",n++):(r=null,c('"!"')),r===null&&(i.charCodeAt(n)===126?(r="~",n++):(r=null,c('"~"')),r===null&&(i.charCodeAt(n)===42?(r="*",n++):(r=null,c('"*"')),r===null&&(i.charCodeAt(n)===39?(r="'",n++):(r=null,c(`"'"`)),r===null&&(i.charCodeAt(n)===40?(r="(",n++):(r=null,c('"("')),r===null&&(i.charCodeAt(n)===41?(r=")",n++):(r=null,c('")"')))))))))),r}function B(){var r,o,a,f,p;return f=n,p=n,i.charCodeAt(n)===37?(r="%",n++):(r=null,c('"%"')),r!==null?(o=S(),o!==null?(a=S(),a!==null?r=[r,o,a]:(r=null,n=p)):(r=null,n=p)):(r=null,n=p),r!==null&&(r=function(m,y){return y.join("")}(f,r)),r===null&&(n=f),r}function k(){var r,o,a,f,p,m;for(f=n,p=n,m=n,r=[],o=E();o!==null;)r.push(o),o=E();if(r!==null?(o=_(),o!==null?r=[r,o]:(r=null,n=m)):(r=null,n=m),r=r!==null?r:"",r!==null){if(a=E(),a!==null)for(o=[];a!==null;)o.push(a),a=E();else o=null;o!==null?r=[r,o]:(r=null,n=p)}else r=null,n=p;return r!==null&&(r=function(y){return" "}()),r===null&&(n=f),r}function b(){var r;return r=k(),r=r!==null?r:"",r}function X(){var r,o,a,f,p;for(f=n,p=n,r=[],o=C(),o===null&&(o=T());o!==null;)r.push(o),o=C(),o===null&&(o=T());return r!==null?(i.charCodeAt(n)===58?(o=":",n++):(o=null,c('":"')),o!==null?(a=b(),a!==null?r=[r,o,a]:(r=null,n=p)):(r=null,n=p)):(r=null,n=p),r!==null&&(r=function(m){return":"}()),r===null&&(n=f),r}function Ie(){var r,o,a,f,p,m,y;if(p=n,m=n,o=$e(),o!==null)for(r=[];o!==null;)r.push(o),o=$e();else r=null;if(r!==null){for(o=[],y=n,a=[],f=k();f!==null;)a.push(f),f=k();for(a!==null?(f=$e(),f!==null?a=[a,f]:(a=null,n=y)):(a=null,n=y);a!==null;){for(o.push(a),y=n,a=[],f=k();f!==null;)a.push(f),f=k();a!==null?(f=$e(),f!==null?a=[a,f]:(a=null,n=y)):(a=null,n=y)}o!==null?r=[r,o]:(r=null,n=m)}else r=null,n=m;return r!==null&&(r=function(x){return i.substring(n,x)}(p)),r===null&&(n=p),r}function $e(){var r;return/^[!-~]/.test(i.charAt(n))?(r=i.charAt(n),n++):(r=null,c("[!-~]")),r===null&&(r=ie()),r}function ie(){var r;return/^[\x80-\uFFFF]/.test(i.charAt(n))?(r=i.charAt(n),n++):(r=null,c("[\\x80-\\uFFFF]")),r}function H(){var r;return/^[\x80-\xBF]/.test(i.charAt(n))?(r=i.charAt(n),n++):(r=null,c("[\\x80-\\xBF]")),r}function z(){var r;return r=v(),r===null&&(/^[a-f]/.test(i.charAt(n))?(r=i.charAt(n),n++):(r=null,c("[a-f]"))),r}function O(){var r,o,a;if(a=n,o=w(),o===null&&(i.charCodeAt(n)===45?(o="-",n++):(o=null,c('"-"')),o===null&&(i.charCodeAt(n)===46?(o=".",n++):(o=null,c('"."')),o===null&&(i.charCodeAt(n)===33?(o="!",n++):(o=null,c('"!"')),o===null&&(i.charCodeAt(n)===37?(o="%",n++):(o=null,c('"%"')),o===null&&(i.charCodeAt(n)===42?(o="*",n++):(o=null,c('"*"')),o===null&&(i.charCodeAt(n)===95?(o="_",n++):(o=null,c('"_"')),o===null&&(i.charCodeAt(n)===43?(o="+",n++):(o=null,c('"+"')),o===null&&(i.charCodeAt(n)===96?(o="`",n++):(o=null,c('"`"')),o===null&&(i.charCodeAt(n)===39?(o="'",n++):(o=null,c(`"'"`)),o===null&&(i.charCodeAt(n)===126?(o="~",n++):(o=null,c('"~"')))))))))))),o!==null)for(r=[];o!==null;)r.push(o),o=w(),o===null&&(i.charCodeAt(n)===45?(o="-",n++):(o=null,c('"-"')),o===null&&(i.charCodeAt(n)===46?(o=".",n++):(o=null,c('"."')),o===null&&(i.charCodeAt(n)===33?(o="!",n++):(o=null,c('"!"')),o===null&&(i.charCodeAt(n)===37?(o="%",n++):(o=null,c('"%"')),o===null&&(i.charCodeAt(n)===42?(o="*",n++):(o=null,c('"*"')),o===null&&(i.charCodeAt(n)===95?(o="_",n++):(o=null,c('"_"')),o===null&&(i.charCodeAt(n)===43?(o="+",n++):(o=null,c('"+"')),o===null&&(i.charCodeAt(n)===96?(o="`",n++):(o=null,c('"`"')),o===null&&(i.charCodeAt(n)===39?(o="'",n++):(o=null,c(`"'"`)),o===null&&(i.charCodeAt(n)===126?(o="~",n++):(o=null,c('"~"'))))))))))));else r=null;return r!==null&&(r=function(f){return i.substring(n,f)}(a)),r===null&&(n=a),r}function $(){var r,o,a;if(a=n,o=w(),o===null&&(i.charCodeAt(n)===45?(o="-",n++):(o=null,c('"-"')),o===null&&(i.charCodeAt(n)===33?(o="!",n++):(o=null,c('"!"')),o===null&&(i.charCodeAt(n)===37?(o="%",n++):(o=null,c('"%"')),o===null&&(i.charCodeAt(n)===42?(o="*",n++):(o=null,c('"*"')),o===null&&(i.charCodeAt(n)===95?(o="_",n++):(o=null,c('"_"')),o===null&&(i.charCodeAt(n)===43?(o="+",n++):(o=null,c('"+"')),o===null&&(i.charCodeAt(n)===96?(o="`",n++):(o=null,c('"`"')),o===null&&(i.charCodeAt(n)===39?(o="'",n++):(o=null,c(`"'"`)),o===null&&(i.charCodeAt(n)===126?(o="~",n++):(o=null,c('"~"'))))))))))),o!==null)for(r=[];o!==null;)r.push(o),o=w(),o===null&&(i.charCodeAt(n)===45?(o="-",n++):(o=null,c('"-"')),o===null&&(i.charCodeAt(n)===33?(o="!",n++):(o=null,c('"!"')),o===null&&(i.charCodeAt(n)===37?(o="%",n++):(o=null,c('"%"')),o===null&&(i.charCodeAt(n)===42?(o="*",n++):(o=null,c('"*"')),o===null&&(i.charCodeAt(n)===95?(o="_",n++):(o=null,c('"_"')),o===null&&(i.charCodeAt(n)===43?(o="+",n++):(o=null,c('"+"')),o===null&&(i.charCodeAt(n)===96?(o="`",n++):(o=null,c('"`"')),o===null&&(i.charCodeAt(n)===39?(o="'",n++):(o=null,c(`"'"`)),o===null&&(i.charCodeAt(n)===126?(o="~",n++):(o=null,c('"~"')))))))))));else r=null;return r!==null&&(r=function(f){return i.substring(n,f)}(a)),r===null&&(n=a),r}function G(){var r;return i.charCodeAt(n)===40?(r="(",n++):(r=null,c('"("')),r===null&&(i.charCodeAt(n)===41?(r=")",n++):(r=null,c('")"')),r===null&&(i.charCodeAt(n)===60?(r="<",n++):(r=null,c('"<"')),r===null&&(i.charCodeAt(n)===62?(r=">",n++):(r=null,c('">"')),r===null&&(i.charCodeAt(n)===64?(r="@",n++):(r=null,c('"@"')),r===null&&(i.charCodeAt(n)===44?(r=",",n++):(r=null,c('","')),r===null&&(i.charCodeAt(n)===59?(r=";",n++):(r=null,c('";"')),r===null&&(i.charCodeAt(n)===58?(r=":",n++):(r=null,c('":"')),r===null&&(i.charCodeAt(n)===92?(r="\\",n++):(r=null,c('"\\\\"')),r===null&&(r=F(),r===null&&(i.charCodeAt(n)===47?(r="/",n++):(r=null,c('"/"')),r===null&&(i.charCodeAt(n)===91?(r="[",n++):(r=null,c('"["')),r===null&&(i.charCodeAt(n)===93?(r="]",n++):(r=null,c('"]"')),r===null&&(i.charCodeAt(n)===63?(r="?",n++):(r=null,c('"?"')),r===null&&(i.charCodeAt(n)===61?(r="=",n++):(r=null,c('"="')),r===null&&(i.charCodeAt(n)===123?(r="{",n++):(r=null,c('"{"')),r===null&&(i.charCodeAt(n)===125?(r="}",n++):(r=null,c('"}"')),r===null&&(r=C(),r===null&&(r=T())))))))))))))))))),r}function Z(){var r,o,a;if(a=n,o=w(),o===null&&(i.charCodeAt(n)===45?(o="-",n++):(o=null,c('"-"')),o===null&&(i.charCodeAt(n)===46?(o=".",n++):(o=null,c('"."')),o===null&&(i.charCodeAt(n)===33?(o="!",n++):(o=null,c('"!"')),o===null&&(i.charCodeAt(n)===37?(o="%",n++):(o=null,c('"%"')),o===null&&(i.charCodeAt(n)===42?(o="*",n++):(o=null,c('"*"')),o===null&&(i.charCodeAt(n)===95?(o="_",n++):(o=null,c('"_"')),o===null&&(i.charCodeAt(n)===43?(o="+",n++):(o=null,c('"+"')),o===null&&(i.charCodeAt(n)===96?(o="`",n++):(o=null,c('"`"')),o===null&&(i.charCodeAt(n)===39?(o="'",n++):(o=null,c(`"'"`)),o===null&&(i.charCodeAt(n)===126?(o="~",n++):(o=null,c('"~"')),o===null&&(i.charCodeAt(n)===40?(o="(",n++):(o=null,c('"("')),o===null&&(i.charCodeAt(n)===41?(o=")",n++):(o=null,c('")"')),o===null&&(i.charCodeAt(n)===60?(o="<",n++):(o=null,c('"<"')),o===null&&(i.charCodeAt(n)===62?(o=">",n++):(o=null,c('">"')),o===null&&(i.charCodeAt(n)===58?(o=":",n++):(o=null,c('":"')),o===null&&(i.charCodeAt(n)===92?(o="\\",n++):(o=null,c('"\\\\"')),o===null&&(o=F(),o===null&&(i.charCodeAt(n)===47?(o="/",n++):(o=null,c('"/"')),o===null&&(i.charCodeAt(n)===91?(o="[",n++):(o=null,c('"["')),o===null&&(i.charCodeAt(n)===93?(o="]",n++):(o=null,c('"]"')),o===null&&(i.charCodeAt(n)===63?(o="?",n++):(o=null,c('"?"')),o===null&&(i.charCodeAt(n)===123?(o="{",n++):(o=null,c('"{"')),o===null&&(i.charCodeAt(n)===125?(o="}",n++):(o=null,c('"}"'))))))))))))))))))))))))),o!==null)for(r=[];o!==null;)r.push(o),o=w(),o===null&&(i.charCodeAt(n)===45?(o="-",n++):(o=null,c('"-"')),o===null&&(i.charCodeAt(n)===46?(o=".",n++):(o=null,c('"."')),o===null&&(i.charCodeAt(n)===33?(o="!",n++):(o=null,c('"!"')),o===null&&(i.charCodeAt(n)===37?(o="%",n++):(o=null,c('"%"')),o===null&&(i.charCodeAt(n)===42?(o="*",n++):(o=null,c('"*"')),o===null&&(i.charCodeAt(n)===95?(o="_",n++):(o=null,c('"_"')),o===null&&(i.charCodeAt(n)===43?(o="+",n++):(o=null,c('"+"')),o===null&&(i.charCodeAt(n)===96?(o="`",n++):(o=null,c('"`"')),o===null&&(i.charCodeAt(n)===39?(o="'",n++):(o=null,c(`"'"`)),o===null&&(i.charCodeAt(n)===126?(o="~",n++):(o=null,c('"~"')),o===null&&(i.charCodeAt(n)===40?(o="(",n++):(o=null,c('"("')),o===null&&(i.charCodeAt(n)===41?(o=")",n++):(o=null,c('")"')),o===null&&(i.charCodeAt(n)===60?(o="<",n++):(o=null,c('"<"')),o===null&&(i.charCodeAt(n)===62?(o=">",n++):(o=null,c('">"')),o===null&&(i.charCodeAt(n)===58?(o=":",n++):(o=null,c('":"')),o===null&&(i.charCodeAt(n)===92?(o="\\",n++):(o=null,c('"\\\\"')),o===null&&(o=F(),o===null&&(i.charCodeAt(n)===47?(o="/",n++):(o=null,c('"/"')),o===null&&(i.charCodeAt(n)===91?(o="[",n++):(o=null,c('"["')),o===null&&(i.charCodeAt(n)===93?(o="]",n++):(o=null,c('"]"')),o===null&&(i.charCodeAt(n)===63?(o="?",n++):(o=null,c('"?"')),o===null&&(i.charCodeAt(n)===123?(o="{",n++):(o=null,c('"{"')),o===null&&(i.charCodeAt(n)===125?(o="}",n++):(o=null,c('"}"')))))))))))))))))))))))));else r=null;return r!==null&&(r=function(f){return i.substring(n,f)}(a)),r===null&&(n=a),r}function ne(){var r,o,a,f,p;return f=n,p=n,r=b(),r!==null?(i.charCodeAt(n)===42?(o="*",n++):(o=null,c('"*"')),o!==null?(a=b(),a!==null?r=[r,o,a]:(r=null,n=p)):(r=null,n=p)):(r=null,n=p),r!==null&&(r=function(m){return"*"}()),r===null&&(n=f),r}function fe(){var r,o,a,f,p;return f=n,p=n,r=b(),r!==null?(i.charCodeAt(n)===47?(o="/",n++):(o=null,c('"/"')),o!==null?(a=b(),a!==null?r=[r,o,a]:(r=null,n=p)):(r=null,n=p)):(r=null,n=p),r!==null&&(r=function(m){return"/"}()),r===null&&(n=f),r}function ee(){var r,o,a,f,p;return f=n,p=n,r=b(),r!==null?(i.charCodeAt(n)===61?(o="=",n++):(o=null,c('"="')),o!==null?(a=b(),a!==null?r=[r,o,a]:(r=null,n=p)):(r=null,n=p)):(r=null,n=p),r!==null&&(r=function(m){return"="}()),r===null&&(n=f),r}function It(){var r,o,a,f,p;return f=n,p=n,r=b(),r!==null?(i.charCodeAt(n)===40?(o="(",n++):(o=null,c('"("')),o!==null?(a=b(),a!==null?r=[r,o,a]:(r=null,n=p)):(r=null,n=p)):(r=null,n=p),r!==null&&(r=function(m){return"("}()),r===null&&(n=f),r}function it(){var r,o,a,f,p;return f=n,p=n,r=b(),r!==null?(i.charCodeAt(n)===41?(o=")",n++):(o=null,c('")"')),o!==null?(a=b(),a!==null?r=[r,o,a]:(r=null,n=p)):(r=null,n=p)):(r=null,n=p),r!==null&&(r=function(m){return")"}()),r===null&&(n=f),r}function kt(){var r,o,a,f;return a=n,f=n,i.charCodeAt(n)===62?(r=">",n++):(r=null,c('">"')),r!==null?(o=b(),o!==null?r=[r,o]:(r=null,n=f)):(r=null,n=f),r!==null&&(r=function(p){return">"}()),r===null&&(n=a),r}function Je(){var r,o,a,f;return a=n,f=n,r=b(),r!==null?(i.charCodeAt(n)===60?(o="<",n++):(o=null,c('"<"')),o!==null?r=[r,o]:(r=null,n=f)):(r=null,n=f),r!==null&&(r=function(p){return"<"}()),r===null&&(n=a),r}function ae(){var r,o,a,f,p;return f=n,p=n,r=b(),r!==null?(i.charCodeAt(n)===44?(o=",",n++):(o=null,c('","')),o!==null?(a=b(),a!==null?r=[r,o,a]:(r=null,n=p)):(r=null,n=p)):(r=null,n=p),r!==null&&(r=function(m){return","}()),r===null&&(n=f),r}function oe(){var r,o,a,f,p;return f=n,p=n,r=b(),r!==null?(i.charCodeAt(n)===59?(o=";",n++):(o=null,c('";"')),o!==null?(a=b(),a!==null?r=[r,o,a]:(r=null,n=p)):(r=null,n=p)):(r=null,n=p),r!==null&&(r=function(m){return";"}()),r===null&&(n=f),r}function Kn(){var r,o,a,f,p;return f=n,p=n,r=b(),r!==null?(i.charCodeAt(n)===58?(o=":",n++):(o=null,c('":"')),o!==null?(a=b(),a!==null?r=[r,o,a]:(r=null,n=p)):(r=null,n=p)):(r=null,n=p),r!==null&&(r=function(m){return":"}()),r===null&&(n=f),r}function gn(){var r,o,a,f;return a=n,f=n,r=b(),r!==null?(o=F(),o!==null?r=[r,o]:(r=null,n=f)):(r=null,n=f),r!==null&&(r=function(p){return'"'}()),r===null&&(n=a),r}function yn(){var r,o,a,f;return a=n,f=n,r=F(),r!==null?(o=b(),o!==null?r=[r,o]:(r=null,n=f)):(r=null,n=f),r!==null&&(r=function(p){return'"'}()),r===null&&(n=a),r}function Sn(){var r,o,a,f;if(f=n,r=It(),r!==null){for(o=[],a=Tn(),a===null&&(a=le(),a===null&&(a=Sn()));a!==null;)o.push(a),a=Tn(),a===null&&(a=le(),a===null&&(a=Sn()));o!==null?(a=it(),a!==null?r=[r,o,a]:(r=null,n=f)):(r=null,n=f)}else r=null,n=f;return r}function Tn(){var r;return/^[!-']/.test(i.charAt(n))?(r=i.charAt(n),n++):(r=null,c("[!-']")),r===null&&(/^[*-[]/.test(i.charAt(n))?(r=i.charAt(n),n++):(r=null,c("[*-[]")),r===null&&(/^[\]-~]/.test(i.charAt(n))?(r=i.charAt(n),n++):(r=null,c("[\\]-~]")),r===null&&(r=ie(),r===null&&(r=k())))),r}function yr(){var r,o,a,f,p,m;if(p=n,m=n,r=b(),r!==null)if(o=F(),o!==null){for(a=[],f=te(),f===null&&(f=le());f!==null;)a.push(f),f=te(),f===null&&(f=le());a!==null?(f=F(),f!==null?r=[r,o,a,f]:(r=null,n=m)):(r=null,n=m)}else r=null,n=m;else r=null,n=m;return r!==null&&(r=function(y){return i.substring(n,y)}(p)),r===null&&(n=p),r}function re(){var r,o,a,f,p,m;if(p=n,m=n,r=b(),r!==null)if(o=F(),o!==null){for(a=[],f=te(),f===null&&(f=le());f!==null;)a.push(f),f=te(),f===null&&(f=le());a!==null?(f=F(),f!==null?r=[r,o,a,f]:(r=null,n=m)):(r=null,n=m)}else r=null,n=m;else r=null,n=m;return r!==null&&(r=function(y){var x=i.substring(n,y).trim();return x.substring(1,x.length-1).replace(/\\([\x00-\x09\x0b-\x0c\x0e-\x7f])/g,"$1")}(p)),r===null&&(n=p),r}function te(){var r;return r=k(),r===null&&(i.charCodeAt(n)===33?(r="!",n++):(r=null,c('"!"')),r===null&&(/^[#-[]/.test(i.charAt(n))?(r=i.charAt(n),n++):(r=null,c("[#-[]")),r===null&&(/^[\]-~]/.test(i.charAt(n))?(r=i.charAt(n),n++):(r=null,c("[\\]-~]")),r===null&&(r=ie())))),r}function le(){var r,o,a;return a=n,i.charCodeAt(n)===92?(r="\\",n++):(r=null,c('"\\\\"')),r!==null?(/^[\0-\t]/.test(i.charAt(n))?(o=i.charAt(n),n++):(o=null,c("[\\0-\\t]")),o===null&&(/^[\x0B-\f]/.test(i.charAt(n))?(o=i.charAt(n),n++):(o=null,c("[\\x0B-\\f]")),o===null&&(/^[\x0E-]/.test(i.charAt(n))?(o=i.charAt(n),n++):(o=null,c("[\\x0E-]")))),o!==null?r=[r,o]:(r=null,n=a)):(r=null,n=a),r}function ue(){var r,o,a,f,p,m;return p=n,m=n,r=je(),r!==null?(i.charCodeAt(n)===58?(o=":",n++):(o=null,c('":"')),o!==null?(a=dt(),a=a!==null?a:"",a!==null?(f=Ti(),f!==null?r=[r,o,a,f]:(r=null,n=m)):(r=null,n=m)):(r=null,n=m)):(r=null,n=m),r!==null&&(r=function(y){try{A.uri=new eh(A.scheme,A.user,A.host,A.port),delete A.scheme,delete A.user,delete A.host,delete A.host_type,delete A.port}catch{A=-1}}()),r===null&&(n=p),r}function ke(){var r,o,a,f,p,m,y,x;return y=n,x=n,r=je(),r!==null?(i.charCodeAt(n)===58?(o=":",n++):(o=null,c('":"')),o!==null?(a=dt(),a=a!==null?a:"",a!==null?(f=Ti(),f!==null?(p=Sf(),p!==null?(m=Nf(),m=m!==null?m:"",m!==null?r=[r,o,a,f,p,m]:(r=null,n=x)):(r=null,n=x)):(r=null,n=x)):(r=null,n=x)):(r=null,n=x)):(r=null,n=x),r!==null&&(r=function(D){try{A.uri=new eh(A.scheme,A.user,A.host,A.port,A.uri_params,A.uri_headers),delete A.scheme,delete A.user,delete A.host,delete A.host_type,delete A.port,delete A.uri_params,s==="SIP_URI"&&(A=A.uri)}catch{A=-1}}()),r===null&&(n=y),r}function je(){var r;return r=Te(),r===null&&(r=Qn()),r}function Te(){var r,o;return o=n,i.substr(n,4).toLowerCase()==="sips"?(r=i.substr(n,4),n+=4):(r=null,c('"sips"')),r!==null&&(r=function(a,f){A.scheme=f.toLowerCase()}(o,r)),r===null&&(n=o),r}function Qn(){var r,o;return o=n,i.substr(n,3).toLowerCase()==="sip"?(r=i.substr(n,3),n+=3):(r=null,c('"sip"')),r!==null&&(r=function(a,f){A.scheme=f.toLowerCase()}(o,r)),r===null&&(n=o),r}function dt(){var r,o,a,f,p,m;return f=n,p=n,r=vf(),r!==null?(m=n,i.charCodeAt(n)===58?(o=":",n++):(o=null,c('":"')),o!==null?(a=mf(),a!==null?o=[o,a]:(o=null,n=m)):(o=null,n=m),o=o!==null?o:"",o!==null?(i.charCodeAt(n)===64?(a="@",n++):(a=null,c('"@"')),a!==null?r=[r,o,a]:(r=null,n=p)):(r=null,n=p)):(r=null,n=p),r!==null&&(r=function(y){A.user=decodeURIComponent(i.substring(n-1,y))}(f)),r===null&&(n=f),r}function vf(){var r,o;if(o=L(),o===null&&(o=B(),o===null&&(o=Fo())),o!==null)for(r=[];o!==null;)r.push(o),o=L(),o===null&&(o=B(),o===null&&(o=Fo()));else r=null;return r}function Fo(){var r;return i.charCodeAt(n)===38?(r="&",n++):(r=null,c('"&"')),r===null&&(i.charCodeAt(n)===61?(r="=",n++):(r=null,c('"="')),r===null&&(i.charCodeAt(n)===43?(r="+",n++):(r=null,c('"+"')),r===null&&(i.charCodeAt(n)===36?(r="$",n++):(r=null,c('"$"')),r===null&&(i.charCodeAt(n)===44?(r=",",n++):(r=null,c('","')),r===null&&(i.charCodeAt(n)===59?(r=";",n++):(r=null,c('";"')),r===null&&(i.charCodeAt(n)===63?(r="?",n++):(r=null,c('"?"')),r===null&&(i.charCodeAt(n)===47?(r="/",n++):(r=null,c('"/"'))))))))),r}function mf(){var r,o,a;for(a=n,r=[],o=L(),o===null&&(o=B(),o===null&&(i.charCodeAt(n)===38?(o="&",n++):(o=null,c('"&"')),o===null&&(i.charCodeAt(n)===61?(o="=",n++):(o=null,c('"="')),o===null&&(i.charCodeAt(n)===43?(o="+",n++):(o=null,c('"+"')),o===null&&(i.charCodeAt(n)===36?(o="$",n++):(o=null,c('"$"')),o===null&&(i.charCodeAt(n)===44?(o=",",n++):(o=null,c('","'))))))));o!==null;)r.push(o),o=L(),o===null&&(o=B(),o===null&&(i.charCodeAt(n)===38?(o="&",n++):(o=null,c('"&"')),o===null&&(i.charCodeAt(n)===61?(o="=",n++):(o=null,c('"="')),o===null&&(i.charCodeAt(n)===43?(o="+",n++):(o=null,c('"+"')),o===null&&(i.charCodeAt(n)===36?(o="$",n++):(o=null,c('"$"')),o===null&&(i.charCodeAt(n)===44?(o=",",n++):(o=null,c('","'))))))));return r!==null&&(r=function(f){A.password=i.substring(n,f)}(a)),r===null&&(n=a),r}function Ti(){var r,o,a,f,p;return f=n,r=nl(),r!==null?(p=n,i.charCodeAt(n)===58?(o=":",n++):(o=null,c('":"')),o!==null?(a=yf(),a!==null?o=[o,a]:(o=null,n=p)):(o=null,n=p),o=o!==null?o:"",o!==null?r=[r,o]:(r=null,n=f)):(r=null,n=f),r}function nl(){var r,o;return o=n,r=Ho(),r===null&&(r=rl(),r===null&&(r=jo())),r!==null&&(r=function(a){return A.host=i.substring(n,a).toLowerCase(),A.host}(o)),r===null&&(n=o),r}function Ho(){var r,o,a,f,p,m;for(f=n,p=n,r=[],m=n,o=$o(),o!==null?(i.charCodeAt(n)===46?(a=".",n++):(a=null,c('"."')),a!==null?o=[o,a]:(o=null,n=m)):(o=null,n=m);o!==null;)r.push(o),m=n,o=$o(),o!==null?(i.charCodeAt(n)===46?(a=".",n++):(a=null,c('"."')),a!==null?o=[o,a]:(o=null,n=m)):(o=null,n=m);return r!==null?(o=gf(),o!==null?(i.charCodeAt(n)===46?(a=".",n++):(a=null,c('"."')),a=a!==null?a:"",a!==null?r=[r,o,a]:(r=null,n=p)):(r=null,n=p)):(r=null,n=p),r!==null&&(r=function(y){return A.host_type="domain",i.substring(n,y)}(f)),r===null&&(n=f),r}function $o(){var r,o,a,f;if(f=n,r=w(),r!==null){for(o=[],a=w(),a===null&&(i.charCodeAt(n)===45?(a="-",n++):(a=null,c('"-"')),a===null&&(i.charCodeAt(n)===95?(a="_",n++):(a=null,c('"_"'))));a!==null;)o.push(a),a=w(),a===null&&(i.charCodeAt(n)===45?(a="-",n++):(a=null,c('"-"')),a===null&&(i.charCodeAt(n)===95?(a="_",n++):(a=null,c('"_"'))));o!==null?r=[r,o]:(r=null,n=f)}else r=null,n=f;return r}function gf(){var r,o,a,f;if(f=n,r=g(),r!==null){for(o=[],a=w(),a===null&&(i.charCodeAt(n)===45?(a="-",n++):(a=null,c('"-"')),a===null&&(i.charCodeAt(n)===95?(a="_",n++):(a=null,c('"_"'))));a!==null;)o.push(a),a=w(),a===null&&(i.charCodeAt(n)===45?(a="-",n++):(a=null,c('"-"')),a===null&&(i.charCodeAt(n)===95?(a="_",n++):(a=null,c('"_"'))));o!==null?r=[r,o]:(r=null,n=f)}else r=null,n=f;return r}function jo(){var r,o,a,f,p;return f=n,p=n,i.charCodeAt(n)===91?(r="[",n++):(r=null,c('"["')),r!==null?(o=zo(),o!==null?(i.charCodeAt(n)===93?(a="]",n++):(a=null,c('"]"')),a!==null?r=[r,o,a]:(r=null,n=p)):(r=null,n=p)):(r=null,n=p),r!==null&&(r=function(m){return A.host_type="IPv6",i.substring(n,m)}(f)),r===null&&(n=f),r}function zo(){var r,o,a,f,p,m,y,x,D,J,me,Gt,Ui,ou,N,Y;return ou=n,N=n,r=Q(),r!==null?(i.charCodeAt(n)===58?(o=":",n++):(o=null,c('":"')),o!==null?(a=Q(),a!==null?(i.charCodeAt(n)===58?(f=":",n++):(f=null,c('":"')),f!==null?(p=Q(),p!==null?(i.charCodeAt(n)===58?(m=":",n++):(m=null,c('":"')),m!==null?(y=Q(),y!==null?(i.charCodeAt(n)===58?(x=":",n++):(x=null,c('":"')),x!==null?(D=Q(),D!==null?(i.charCodeAt(n)===58?(J=":",n++):(J=null,c('":"')),J!==null?(me=Q(),me!==null?(i.charCodeAt(n)===58?(Gt=":",n++):(Gt=null,c('":"')),Gt!==null?(Ui=yt(),Ui!==null?r=[r,o,a,f,p,m,y,x,D,J,me,Gt,Ui]:(r=null,n=N)):(r=null,n=N)):(r=null,n=N)):(r=null,n=N)):(r=null,n=N)):(r=null,n=N)):(r=null,n=N)):(r=null,n=N)):(r=null,n=N)):(r=null,n=N)):(r=null,n=N)):(r=null,n=N)):(r=null,n=N),r===null&&(N=n,i.substr(n,2)==="::"?(r="::",n+=2):(r=null,c('"::"')),r!==null?(o=Q(),o!==null?(i.charCodeAt(n)===58?(a=":",n++):(a=null,c('":"')),a!==null?(f=Q(),f!==null?(i.charCodeAt(n)===58?(p=":",n++):(p=null,c('":"')),p!==null?(m=Q(),m!==null?(i.charCodeAt(n)===58?(y=":",n++):(y=null,c('":"')),y!==null?(x=Q(),x!==null?(i.charCodeAt(n)===58?(D=":",n++):(D=null,c('":"')),D!==null?(J=Q(),J!==null?(i.charCodeAt(n)===58?(me=":",n++):(me=null,c('":"')),me!==null?(Gt=yt(),Gt!==null?r=[r,o,a,f,p,m,y,x,D,J,me,Gt]:(r=null,n=N)):(r=null,n=N)):(r=null,n=N)):(r=null,n=N)):(r=null,n=N)):(r=null,n=N)):(r=null,n=N)):(r=null,n=N)):(r=null,n=N)):(r=null,n=N)):(r=null,n=N)):(r=null,n=N),r===null&&(N=n,i.substr(n,2)==="::"?(r="::",n+=2):(r=null,c('"::"')),r!==null?(o=Q(),o!==null?(i.charCodeAt(n)===58?(a=":",n++):(a=null,c('":"')),a!==null?(f=Q(),f!==null?(i.charCodeAt(n)===58?(p=":",n++):(p=null,c('":"')),p!==null?(m=Q(),m!==null?(i.charCodeAt(n)===58?(y=":",n++):(y=null,c('":"')),y!==null?(x=Q(),x!==null?(i.charCodeAt(n)===58?(D=":",n++):(D=null,c('":"')),D!==null?(J=yt(),J!==null?r=[r,o,a,f,p,m,y,x,D,J]:(r=null,n=N)):(r=null,n=N)):(r=null,n=N)):(r=null,n=N)):(r=null,n=N)):(r=null,n=N)):(r=null,n=N)):(r=null,n=N)):(r=null,n=N)):(r=null,n=N),r===null&&(N=n,i.substr(n,2)==="::"?(r="::",n+=2):(r=null,c('"::"')),r!==null?(o=Q(),o!==null?(i.charCodeAt(n)===58?(a=":",n++):(a=null,c('":"')),a!==null?(f=Q(),f!==null?(i.charCodeAt(n)===58?(p=":",n++):(p=null,c('":"')),p!==null?(m=Q(),m!==null?(i.charCodeAt(n)===58?(y=":",n++):(y=null,c('":"')),y!==null?(x=yt(),x!==null?r=[r,o,a,f,p,m,y,x]:(r=null,n=N)):(r=null,n=N)):(r=null,n=N)):(r=null,n=N)):(r=null,n=N)):(r=null,n=N)):(r=null,n=N)):(r=null,n=N),r===null&&(N=n,i.substr(n,2)==="::"?(r="::",n+=2):(r=null,c('"::"')),r!==null?(o=Q(),o!==null?(i.charCodeAt(n)===58?(a=":",n++):(a=null,c('":"')),a!==null?(f=Q(),f!==null?(i.charCodeAt(n)===58?(p=":",n++):(p=null,c('":"')),p!==null?(m=yt(),m!==null?r=[r,o,a,f,p,m]:(r=null,n=N)):(r=null,n=N)):(r=null,n=N)):(r=null,n=N)):(r=null,n=N)):(r=null,n=N),r===null&&(N=n,i.substr(n,2)==="::"?(r="::",n+=2):(r=null,c('"::"')),r!==null?(o=Q(),o!==null?(i.charCodeAt(n)===58?(a=":",n++):(a=null,c('":"')),a!==null?(f=yt(),f!==null?r=[r,o,a,f]:(r=null,n=N)):(r=null,n=N)):(r=null,n=N)):(r=null,n=N),r===null&&(N=n,i.substr(n,2)==="::"?(r="::",n+=2):(r=null,c('"::"')),r!==null?(o=yt(),o!==null?r=[r,o]:(r=null,n=N)):(r=null,n=N),r===null&&(N=n,i.substr(n,2)==="::"?(r="::",n+=2):(r=null,c('"::"')),r!==null?(o=Q(),o!==null?r=[r,o]:(r=null,n=N)):(r=null,n=N),r===null&&(N=n,r=Q(),r!==null?(i.substr(n,2)==="::"?(o="::",n+=2):(o=null,c('"::"')),o!==null?(a=Q(),a!==null?(i.charCodeAt(n)===58?(f=":",n++):(f=null,c('":"')),f!==null?(p=Q(),p!==null?(i.charCodeAt(n)===58?(m=":",n++):(m=null,c('":"')),m!==null?(y=Q(),y!==null?(i.charCodeAt(n)===58?(x=":",n++):(x=null,c('":"')),x!==null?(D=Q(),D!==null?(i.charCodeAt(n)===58?(J=":",n++):(J=null,c('":"')),J!==null?(me=yt(),me!==null?r=[r,o,a,f,p,m,y,x,D,J,me]:(r=null,n=N)):(r=null,n=N)):(r=null,n=N)):(r=null,n=N)):(r=null,n=N)):(r=null,n=N)):(r=null,n=N)):(r=null,n=N)):(r=null,n=N)):(r=null,n=N)):(r=null,n=N),r===null&&(N=n,r=Q(),r!==null?(Y=n,i.charCodeAt(n)===58?(o=":",n++):(o=null,c('":"')),o!==null?(a=Q(),a!==null?o=[o,a]:(o=null,n=Y)):(o=null,n=Y),o=o!==null?o:"",o!==null?(i.substr(n,2)==="::"?(a="::",n+=2):(a=null,c('"::"')),a!==null?(f=Q(),f!==null?(i.charCodeAt(n)===58?(p=":",n++):(p=null,c('":"')),p!==null?(m=Q(),m!==null?(i.charCodeAt(n)===58?(y=":",n++):(y=null,c('":"')),y!==null?(x=Q(),x!==null?(i.charCodeAt(n)===58?(D=":",n++):(D=null,c('":"')),D!==null?(J=yt(),J!==null?r=[r,o,a,f,p,m,y,x,D,J]:(r=null,n=N)):(r=null,n=N)):(r=null,n=N)):(r=null,n=N)):(r=null,n=N)):(r=null,n=N)):(r=null,n=N)):(r=null,n=N)):(r=null,n=N)):(r=null,n=N),r===null&&(N=n,r=Q(),r!==null?(Y=n,i.charCodeAt(n)===58?(o=":",n++):(o=null,c('":"')),o!==null?(a=Q(),a!==null?o=[o,a]:(o=null,n=Y)):(o=null,n=Y),o=o!==null?o:"",o!==null?(Y=n,i.charCodeAt(n)===58?(a=":",n++):(a=null,c('":"')),a!==null?(f=Q(),f!==null?a=[a,f]:(a=null,n=Y)):(a=null,n=Y),a=a!==null?a:"",a!==null?(i.substr(n,2)==="::"?(f="::",n+=2):(f=null,c('"::"')),f!==null?(p=Q(),p!==null?(i.charCodeAt(n)===58?(m=":",n++):(m=null,c('":"')),m!==null?(y=Q(),y!==null?(i.charCodeAt(n)===58?(x=":",n++):(x=null,c('":"')),x!==null?(D=yt(),D!==null?r=[r,o,a,f,p,m,y,x,D]:(r=null,n=N)):(r=null,n=N)):(r=null,n=N)):(r=null,n=N)):(r=null,n=N)):(r=null,n=N)):(r=null,n=N)):(r=null,n=N)):(r=null,n=N),r===null&&(N=n,r=Q(),r!==null?(Y=n,i.charCodeAt(n)===58?(o=":",n++):(o=null,c('":"')),o!==null?(a=Q(),a!==null?o=[o,a]:(o=null,n=Y)):(o=null,n=Y),o=o!==null?o:"",o!==null?(Y=n,i.charCodeAt(n)===58?(a=":",n++):(a=null,c('":"')),a!==null?(f=Q(),f!==null?a=[a,f]:(a=null,n=Y)):(a=null,n=Y),a=a!==null?a:"",a!==null?(Y=n,i.charCodeAt(n)===58?(f=":",n++):(f=null,c('":"')),f!==null?(p=Q(),p!==null?f=[f,p]:(f=null,n=Y)):(f=null,n=Y),f=f!==null?f:"",f!==null?(i.substr(n,2)==="::"?(p="::",n+=2):(p=null,c('"::"')),p!==null?(m=Q(),m!==null?(i.charCodeAt(n)===58?(y=":",n++):(y=null,c('":"')),y!==null?(x=yt(),x!==null?r=[r,o,a,f,p,m,y,x]:(r=null,n=N)):(r=null,n=N)):(r=null,n=N)):(r=null,n=N)):(r=null,n=N)):(r=null,n=N)):(r=null,n=N)):(r=null,n=N),r===null&&(N=n,r=Q(),r!==null?(Y=n,i.charCodeAt(n)===58?(o=":",n++):(o=null,c('":"')),o!==null?(a=Q(),a!==null?o=[o,a]:(o=null,n=Y)):(o=null,n=Y),o=o!==null?o:"",o!==null?(Y=n,i.charCodeAt(n)===58?(a=":",n++):(a=null,c('":"')),a!==null?(f=Q(),f!==null?a=[a,f]:(a=null,n=Y)):(a=null,n=Y),a=a!==null?a:"",a!==null?(Y=n,i.charCodeAt(n)===58?(f=":",n++):(f=null,c('":"')),f!==null?(p=Q(),p!==null?f=[f,p]:(f=null,n=Y)):(f=null,n=Y),f=f!==null?f:"",f!==null?(Y=n,i.charCodeAt(n)===58?(p=":",n++):(p=null,c('":"')),p!==null?(m=Q(),m!==null?p=[p,m]:(p=null,n=Y)):(p=null,n=Y),p=p!==null?p:"",p!==null?(i.substr(n,2)==="::"?(m="::",n+=2):(m=null,c('"::"')),m!==null?(y=yt(),y!==null?r=[r,o,a,f,p,m,y]:(r=null,n=N)):(r=null,n=N)):(r=null,n=N)):(r=null,n=N)):(r=null,n=N)):(r=null,n=N)):(r=null,n=N),r===null&&(N=n,r=Q(),r!==null?(Y=n,i.charCodeAt(n)===58?(o=":",n++):(o=null,c('":"')),o!==null?(a=Q(),a!==null?o=[o,a]:(o=null,n=Y)):(o=null,n=Y),o=o!==null?o:"",o!==null?(Y=n,i.charCodeAt(n)===58?(a=":",n++):(a=null,c('":"')),a!==null?(f=Q(),f!==null?a=[a,f]:(a=null,n=Y)):(a=null,n=Y),a=a!==null?a:"",a!==null?(Y=n,i.charCodeAt(n)===58?(f=":",n++):(f=null,c('":"')),f!==null?(p=Q(),p!==null?f=[f,p]:(f=null,n=Y)):(f=null,n=Y),f=f!==null?f:"",f!==null?(Y=n,i.charCodeAt(n)===58?(p=":",n++):(p=null,c('":"')),p!==null?(m=Q(),m!==null?p=[p,m]:(p=null,n=Y)):(p=null,n=Y),p=p!==null?p:"",p!==null?(Y=n,i.charCodeAt(n)===58?(m=":",n++):(m=null,c('":"')),m!==null?(y=Q(),y!==null?m=[m,y]:(m=null,n=Y)):(m=null,n=Y),m=m!==null?m:"",m!==null?(i.substr(n,2)==="::"?(y="::",n+=2):(y=null,c('"::"')),y!==null?(x=Q(),x!==null?r=[r,o,a,f,p,m,y,x]:(r=null,n=N)):(r=null,n=N)):(r=null,n=N)):(r=null,n=N)):(r=null,n=N)):(r=null,n=N)):(r=null,n=N)):(r=null,n=N),r===null&&(N=n,r=Q(),r!==null?(Y=n,i.charCodeAt(n)===58?(o=":",n++):(o=null,c('":"')),o!==null?(a=Q(),a!==null?o=[o,a]:(o=null,n=Y)):(o=null,n=Y),o=o!==null?o:"",o!==null?(Y=n,i.charCodeAt(n)===58?(a=":",n++):(a=null,c('":"')),a!==null?(f=Q(),f!==null?a=[a,f]:(a=null,n=Y)):(a=null,n=Y),a=a!==null?a:"",a!==null?(Y=n,i.charCodeAt(n)===58?(f=":",n++):(f=null,c('":"')),f!==null?(p=Q(),p!==null?f=[f,p]:(f=null,n=Y)):(f=null,n=Y),f=f!==null?f:"",f!==null?(Y=n,i.charCodeAt(n)===58?(p=":",n++):(p=null,c('":"')),p!==null?(m=Q(),m!==null?p=[p,m]:(p=null,n=Y)):(p=null,n=Y),p=p!==null?p:"",p!==null?(Y=n,i.charCodeAt(n)===58?(m=":",n++):(m=null,c('":"')),m!==null?(y=Q(),y!==null?m=[m,y]:(m=null,n=Y)):(m=null,n=Y),m=m!==null?m:"",m!==null?(Y=n,i.charCodeAt(n)===58?(y=":",n++):(y=null,c('":"')),y!==null?(x=Q(),x!==null?y=[y,x]:(y=null,n=Y)):(y=null,n=Y),y=y!==null?y:"",y!==null?(i.substr(n,2)==="::"?(x="::",n+=2):(x=null,c('"::"')),x!==null?r=[r,o,a,f,p,m,y,x]:(r=null,n=N)):(r=null,n=N)):(r=null,n=N)):(r=null,n=N)):(r=null,n=N)):(r=null,n=N)):(r=null,n=N)):(r=null,n=N))))))))))))))),r!==null&&(r=function(Cg){return A.host_type="IPv6",i.substring(n,Cg)}(ou)),r===null&&(n=ou),r}function Q(){var r,o,a,f,p;return p=n,r=S(),r!==null?(o=S(),o=o!==null?o:"",o!==null?(a=S(),a=a!==null?a:"",a!==null?(f=S(),f=f!==null?f:"",f!==null?r=[r,o,a,f]:(r=null,n=p)):(r=null,n=p)):(r=null,n=p)):(r=null,n=p),r}function yt(){var r,o,a,f;return f=n,r=Q(),r!==null?(i.charCodeAt(n)===58?(o=":",n++):(o=null,c('":"')),o!==null?(a=Q(),a!==null?r=[r,o,a]:(r=null,n=f)):(r=null,n=f)):(r=null,n=f),r===null&&(r=rl()),r}function rl(){var r,o,a,f,p,m,y,x,D;return x=n,D=n,r=ll(),r!==null?(i.charCodeAt(n)===46?(o=".",n++):(o=null,c('"."')),o!==null?(a=ll(),a!==null?(i.charCodeAt(n)===46?(f=".",n++):(f=null,c('"."')),f!==null?(p=ll(),p!==null?(i.charCodeAt(n)===46?(m=".",n++):(m=null,c('"."')),m!==null?(y=ll(),y!==null?r=[r,o,a,f,p,m,y]:(r=null,n=D)):(r=null,n=D)):(r=null,n=D)):(r=null,n=D)):(r=null,n=D)):(r=null,n=D)):(r=null,n=D),r!==null&&(r=function(J){return A.host_type="IPv4",i.substring(n,J)}(x)),r===null&&(n=x),r}function ll(){var r,o,a,f;return f=n,i.substr(n,2)==="25"?(r="25",n+=2):(r=null,c('"25"')),r!==null?(/^[0-5]/.test(i.charAt(n))?(o=i.charAt(n),n++):(o=null,c("[0-5]")),o!==null?r=[r,o]:(r=null,n=f)):(r=null,n=f),r===null&&(f=n,i.charCodeAt(n)===50?(r="2",n++):(r=null,c('"2"')),r!==null?(/^[0-4]/.test(i.charAt(n))?(o=i.charAt(n),n++):(o=null,c("[0-4]")),o!==null?(a=v(),a!==null?r=[r,o,a]:(r=null,n=f)):(r=null,n=f)):(r=null,n=f),r===null&&(f=n,i.charCodeAt(n)===49?(r="1",n++):(r=null,c('"1"')),r!==null?(o=v(),o!==null?(a=v(),a!==null?r=[r,o,a]:(r=null,n=f)):(r=null,n=f)):(r=null,n=f),r===null&&(f=n,/^[1-9]/.test(i.charAt(n))?(r=i.charAt(n),n++):(r=null,c("[1-9]")),r!==null?(o=v(),o!==null?r=[r,o]:(r=null,n=f)):(r=null,n=f),r===null&&(r=v())))),r}function yf(){var r,o,a,f,p,m,y;return m=n,y=n,r=v(),r=r!==null?r:"",r!==null?(o=v(),o=o!==null?o:"",o!==null?(a=v(),a=a!==null?a:"",a!==null?(f=v(),f=f!==null?f:"",f!==null?(p=v(),p=p!==null?p:"",p!==null?r=[r,o,a,f,p]:(r=null,n=y)):(r=null,n=y)):(r=null,n=y)):(r=null,n=y)):(r=null,n=y),r!==null&&(r=function(x,D){return D=parseInt(D.join("")),A.port=D,D}(m,r)),r===null&&(n=m),r}function Sf(){var r,o,a,f;for(r=[],f=n,i.charCodeAt(n)===59?(o=";",n++):(o=null,c('";"')),o!==null?(a=Bo(),a!==null?o=[o,a]:(o=null,n=f)):(o=null,n=f);o!==null;)r.push(o),f=n,i.charCodeAt(n)===59?(o=";",n++):(o=null,c('";"')),o!==null?(a=Bo(),a!==null?o=[o,a]:(o=null,n=f)):(o=null,n=f);return r}function Bo(){var r;return r=Tf(),r===null&&(r=Cf(),r===null&&(r=Ef(),r===null&&(r=wf(),r===null&&(r=Rf(),r===null&&(r=Af(),r===null&&(r=If())))))),r}function Tf(){var r,o,a,f;return a=n,f=n,i.substr(n,10).toLowerCase()==="transport="?(r=i.substr(n,10),n+=10):(r=null,c('"transport="')),r!==null?(i.substr(n,3).toLowerCase()==="udp"?(o=i.substr(n,3),n+=3):(o=null,c('"udp"')),o===null&&(i.substr(n,3).toLowerCase()==="tcp"?(o=i.substr(n,3),n+=3):(o=null,c('"tcp"')),o===null&&(i.substr(n,4).toLowerCase()==="sctp"?(o=i.substr(n,4),n+=4):(o=null,c('"sctp"')),o===null&&(i.substr(n,3).toLowerCase()==="tls"?(o=i.substr(n,3),n+=3):(o=null,c('"tls"')),o===null&&(o=O())))),o!==null?r=[r,o]:(r=null,n=f)):(r=null,n=f),r!==null&&(r=function(p,m){A.uri_params||(A.uri_params={}),A.uri_params.transport=m.toLowerCase()}(a,r[1])),r===null&&(n=a),r}function Cf(){var r,o,a,f;return a=n,f=n,i.substr(n,5).toLowerCase()==="user="?(r=i.substr(n,5),n+=5):(r=null,c('"user="')),r!==null?(i.substr(n,5).toLowerCase()==="phone"?(o=i.substr(n,5),n+=5):(o=null,c('"phone"')),o===null&&(i.substr(n,2).toLowerCase()==="ip"?(o=i.substr(n,2),n+=2):(o=null,c('"ip"')),o===null&&(o=O())),o!==null?r=[r,o]:(r=null,n=f)):(r=null,n=f),r!==null&&(r=function(p,m){A.uri_params||(A.uri_params={}),A.uri_params.user=m.toLowerCase()}(a,r[1])),r===null&&(n=a),r}function Ef(){var r,o,a,f;return a=n,f=n,i.substr(n,7).toLowerCase()==="method="?(r=i.substr(n,7),n+=7):(r=null,c('"method="')),r!==null?(o=Ri(),o!==null?r=[r,o]:(r=null,n=f)):(r=null,n=f),r!==null&&(r=function(p,m){A.uri_params||(A.uri_params={}),A.uri_params.method=m}(a,r[1])),r===null&&(n=a),r}function wf(){var r,o,a,f;return a=n,f=n,i.substr(n,4).toLowerCase()==="ttl="?(r=i.substr(n,4),n+=4):(r=null,c('"ttl="')),r!==null?(o=ru(),o!==null?r=[r,o]:(r=null,n=f)):(r=null,n=f),r!==null&&(r=function(p,m){A.params||(A.params={}),A.params.ttl=m}(a,r[1])),r===null&&(n=a),r}function Rf(){var r,o,a,f;return a=n,f=n,i.substr(n,6).toLowerCase()==="maddr="?(r=i.substr(n,6),n+=6):(r=null,c('"maddr="')),r!==null?(o=nl(),o!==null?r=[r,o]:(r=null,n=f)):(r=null,n=f),r!==null&&(r=function(p,m){A.uri_params||(A.uri_params={}),A.uri_params.maddr=m}(a,r[1])),r===null&&(n=a),r}function Af(){var r,o,a,f,p,m;return f=n,p=n,i.substr(n,2).toLowerCase()==="lr"?(r=i.substr(n,2),n+=2):(r=null,c('"lr"')),r!==null?(m=n,i.charCodeAt(n)===61?(o="=",n++):(o=null,c('"="')),o!==null?(a=O(),a!==null?o=[o,a]:(o=null,n=m)):(o=null,n=m),o=o!==null?o:"",o!==null?r=[r,o]:(r=null,n=p)):(r=null,n=p),r!==null&&(r=function(y){A.uri_params||(A.uri_params={}),A.uri_params.lr=void 0}()),r===null&&(n=f),r}function If(){var r,o,a,f,p,m;return f=n,p=n,r=kf(),r!==null?(m=n,i.charCodeAt(n)===61?(o="=",n++):(o=null,c('"="')),o!==null?(a=xf(),a!==null?o=[o,a]:(o=null,n=m)):(o=null,n=m),o=o!==null?o:"",o!==null?r=[r,o]:(r=null,n=p)):(r=null,n=p),r!==null&&(r=function(y,x,D){A.uri_params||(A.uri_params={}),typeof D>"u"?D=void 0:D=D[1],A.uri_params[x.toLowerCase()]=D}(f,r[0],r[1])),r===null&&(n=f),r}function kf(){var r,o,a;if(a=n,o=il(),o!==null)for(r=[];o!==null;)r.push(o),o=il();else r=null;return r!==null&&(r=function(f,p){return p.join("")}(a,r)),r===null&&(n=a),r}function xf(){var r,o,a;if(a=n,o=il(),o!==null)for(r=[];o!==null;)r.push(o),o=il();else r=null;return r!==null&&(r=function(f,p){return p.join("")}(a,r)),r===null&&(n=a),r}function il(){var r;return r=Of(),r===null&&(r=L(),r===null&&(r=B())),r}function Of(){var r;return i.charCodeAt(n)===91?(r="[",n++):(r=null,c('"["')),r===null&&(i.charCodeAt(n)===93?(r="]",n++):(r=null,c('"]"')),r===null&&(i.charCodeAt(n)===47?(r="/",n++):(r=null,c('"/"')),r===null&&(i.charCodeAt(n)===58?(r=":",n++):(r=null,c('":"')),r===null&&(i.charCodeAt(n)===38?(r="&",n++):(r=null,c('"&"')),r===null&&(i.charCodeAt(n)===43?(r="+",n++):(r=null,c('"+"')),r===null&&(i.charCodeAt(n)===36?(r="$",n++):(r=null,c('"$"')))))))),r}function Nf(){var r,o,a,f,p,m,y;if(m=n,i.charCodeAt(n)===63?(r="?",n++):(r=null,c('"?"')),r!==null)if(o=Ci(),o!==null){for(a=[],y=n,i.charCodeAt(n)===38?(f="&",n++):(f=null,c('"&"')),f!==null?(p=Ci(),p!==null?f=[f,p]:(f=null,n=y)):(f=null,n=y);f!==null;)a.push(f),y=n,i.charCodeAt(n)===38?(f="&",n++):(f=null,c('"&"')),f!==null?(p=Ci(),p!==null?f=[f,p]:(f=null,n=y)):(f=null,n=y);a!==null?r=[r,o,a]:(r=null,n=m)}else r=null,n=m;else r=null,n=m;return r}function Ci(){var r,o,a,f,p;return f=n,p=n,r=bf(),r!==null?(i.charCodeAt(n)===61?(o="=",n++):(o=null,c('"="')),o!==null?(a=Pf(),a!==null?r=[r,o,a]:(r=null,n=p)):(r=null,n=p)):(r=null,n=p),r!==null&&(r=function(m,y,x){y=y.join("").toLowerCase(),x=x.join(""),A.uri_headers||(A.uri_headers={}),A.uri_headers[y]?A.uri_headers[y].push(x):A.uri_headers[y]=[x]}(f,r[0],r[2])),r===null&&(n=f),r}function bf(){var r,o;if(o=sl(),o===null&&(o=L(),o===null&&(o=B())),o!==null)for(r=[];o!==null;)r.push(o),o=sl(),o===null&&(o=L(),o===null&&(o=B()));else r=null;return r}function Pf(){var r,o;for(r=[],o=sl(),o===null&&(o=L(),o===null&&(o=B()));o!==null;)r.push(o),o=sl(),o===null&&(o=L(),o===null&&(o=B()));return r}function sl(){var r;return i.charCodeAt(n)===91?(r="[",n++):(r=null,c('"["')),r===null&&(i.charCodeAt(n)===93?(r="]",n++):(r=null,c('"]"')),r===null&&(i.charCodeAt(n)===47?(r="/",n++):(r=null,c('"/"')),r===null&&(i.charCodeAt(n)===63?(r="?",n++):(r=null,c('"?"')),r===null&&(i.charCodeAt(n)===58?(r=":",n++):(r=null,c('":"')),r===null&&(i.charCodeAt(n)===43?(r="+",n++):(r=null,c('"+"')),r===null&&(i.charCodeAt(n)===36?(r="$",n++):(r=null,c('"$"')))))))),r}function Hm(){var r;return r=td(),r===null&&(r=Df()),r}function Df(){var r,o,a,f,p,m;return m=n,r=Ri(),r!==null?(o=C(),o!==null?(a=Uf(),a!==null?(f=C(),f!==null?(p=Wo(),p!==null?r=[r,o,a,f,p]:(r=null,n=m)):(r=null,n=m)):(r=null,n=m)):(r=null,n=m)):(r=null,n=m),r}function Uf(){var r;return r=ke(),r===null&&(r=qo()),r}function qo(){var r,o,a,f;return f=n,r=jf(),r!==null?(i.charCodeAt(n)===58?(o=":",n++):(o=null,c('":"')),o!==null?(a=Lf(),a===null&&(a=Ff()),a!==null?r=[r,o,a]:(r=null,n=f)):(r=null,n=f)):(r=null,n=f),r}function Lf(){var r,o,a,f,p;return f=n,r=Mf(),r===null&&(r=Ei()),r!==null?(p=n,i.charCodeAt(n)===63?(o="?",n++):(o=null,c('"?"')),o!==null?(a=Vf(),a!==null?o=[o,a]:(o=null,n=p)):(o=null,n=p),o=o!==null?o:"",o!==null?r=[r,o]:(r=null,n=f)):(r=null,n=f),r}function Mf(){var r,o,a,f;return f=n,i.substr(n,2)==="//"?(r="//",n+=2):(r=null,c('"//"')),r!==null?(o=zf(),o!==null?(a=Ei(),a=a!==null?a:"",a!==null?r=[r,o,a]:(r=null,n=f)):(r=null,n=f)):(r=null,n=f),r}function Ei(){var r,o,a;return a=n,i.charCodeAt(n)===47?(r="/",n++):(r=null,c('"/"')),r!==null?(o=$f(),o!==null?r=[r,o]:(r=null,n=a)):(r=null,n=a),r}function Ff(){var r,o,a,f;if(f=n,r=Hf(),r!==null){for(o=[],a=ol();a!==null;)o.push(a),a=ol();o!==null?r=[r,o]:(r=null,n=f)}else r=null,n=f;return r}function ol(){var r;return r=I(),r===null&&(r=L(),r===null&&(r=B())),r}function Hf(){var r;return r=L(),r===null&&(r=B(),r===null&&(i.charCodeAt(n)===59?(r=";",n++):(r=null,c('";"')),r===null&&(i.charCodeAt(n)===63?(r="?",n++):(r=null,c('"?"')),r===null&&(i.charCodeAt(n)===58?(r=":",n++):(r=null,c('":"')),r===null&&(i.charCodeAt(n)===64?(r="@",n++):(r=null,c('"@"')),r===null&&(i.charCodeAt(n)===38?(r="&",n++):(r=null,c('"&"')),r===null&&(i.charCodeAt(n)===61?(r="=",n++):(r=null,c('"="')),r===null&&(i.charCodeAt(n)===43?(r="+",n++):(r=null,c('"+"')),r===null&&(i.charCodeAt(n)===36?(r="$",n++):(r=null,c('"$"')),r===null&&(i.charCodeAt(n)===44?(r=",",n++):(r=null,c('","')))))))))))),r}function $f(){var r,o,a,f,p,m;if(p=n,r=wi(),r!==null){for(o=[],m=n,i.charCodeAt(n)===47?(a="/",n++):(a=null,c('"/"')),a!==null?(f=wi(),f!==null?a=[a,f]:(a=null,n=m)):(a=null,n=m);a!==null;)o.push(a),m=n,i.charCodeAt(n)===47?(a="/",n++):(a=null,c('"/"')),a!==null?(f=wi(),f!==null?a=[a,f]:(a=null,n=m)):(a=null,n=m);o!==null?r=[r,o]:(r=null,n=p)}else r=null,n=p;return r}function wi(){var r,o,a,f,p,m;for(p=n,r=[],o=ul();o!==null;)r.push(o),o=ul();if(r!==null){for(o=[],m=n,i.charCodeAt(n)===59?(a=";",n++):(a=null,c('";"')),a!==null?(f=Vo(),f!==null?a=[a,f]:(a=null,n=m)):(a=null,n=m);a!==null;)o.push(a),m=n,i.charCodeAt(n)===59?(a=";",n++):(a=null,c('";"')),a!==null?(f=Vo(),f!==null?a=[a,f]:(a=null,n=m)):(a=null,n=m);o!==null?r=[r,o]:(r=null,n=p)}else r=null,n=p;return r}function Vo(){var r,o;for(r=[],o=ul();o!==null;)r.push(o),o=ul();return r}function ul(){var r;return r=L(),r===null&&(r=B(),r===null&&(i.charCodeAt(n)===58?(r=":",n++):(r=null,c('":"')),r===null&&(i.charCodeAt(n)===64?(r="@",n++):(r=null,c('"@"')),r===null&&(i.charCodeAt(n)===38?(r="&",n++):(r=null,c('"&"')),r===null&&(i.charCodeAt(n)===61?(r="=",n++):(r=null,c('"="')),r===null&&(i.charCodeAt(n)===43?(r="+",n++):(r=null,c('"+"')),r===null&&(i.charCodeAt(n)===36?(r="$",n++):(r=null,c('"$"')),r===null&&(i.charCodeAt(n)===44?(r=",",n++):(r=null,c('","')))))))))),r}function jf(){var r,o,a,f,p;if(f=n,p=n,r=g(),r!==null){for(o=[],a=g(),a===null&&(a=v(),a===null&&(i.charCodeAt(n)===43?(a="+",n++):(a=null,c('"+"')),a===null&&(i.charCodeAt(n)===45?(a="-",n++):(a=null,c('"-"')),a===null&&(i.charCodeAt(n)===46?(a=".",n++):(a=null,c('"."'))))));a!==null;)o.push(a),a=g(),a===null&&(a=v(),a===null&&(i.charCodeAt(n)===43?(a="+",n++):(a=null,c('"+"')),a===null&&(i.charCodeAt(n)===45?(a="-",n++):(a=null,c('"-"')),a===null&&(i.charCodeAt(n)===46?(a=".",n++):(a=null,c('"."'))))));o!==null?r=[r,o]:(r=null,n=p)}else r=null,n=p;return r!==null&&(r=function(m){A.scheme=i.substring(n,m)}(f)),r===null&&(n=f),r}function zf(){var r;return r=Bf(),r===null&&(r=qf()),r}function Bf(){var r,o,a,f;return a=n,f=n,r=dt(),r!==null?(i.charCodeAt(n)===64?(o="@",n++):(o=null,c('"@"')),o!==null?r=[r,o]:(r=null,n=f)):(r=null,n=f),r=r!==null?r:"",r!==null?(o=Ti(),o!==null?r=[r,o]:(r=null,n=a)):(r=null,n=a),r=r!==null?r:"",r}function qf(){var r,o;if(o=L(),o===null&&(o=B(),o===null&&(i.charCodeAt(n)===36?(o="$",n++):(o=null,c('"$"')),o===null&&(i.charCodeAt(n)===44?(o=",",n++):(o=null,c('","')),o===null&&(i.charCodeAt(n)===59?(o=";",n++):(o=null,c('";"')),o===null&&(i.charCodeAt(n)===58?(o=":",n++):(o=null,c('":"')),o===null&&(i.charCodeAt(n)===64?(o="@",n++):(o=null,c('"@"')),o===null&&(i.charCodeAt(n)===38?(o="&",n++):(o=null,c('"&"')),o===null&&(i.charCodeAt(n)===61?(o="=",n++):(o=null,c('"="')),o===null&&(i.charCodeAt(n)===43?(o="+",n++):(o=null,c('"+"'))))))))))),o!==null)for(r=[];o!==null;)r.push(o),o=L(),o===null&&(o=B(),o===null&&(i.charCodeAt(n)===36?(o="$",n++):(o=null,c('"$"')),o===null&&(i.charCodeAt(n)===44?(o=",",n++):(o=null,c('","')),o===null&&(i.charCodeAt(n)===59?(o=";",n++):(o=null,c('";"')),o===null&&(i.charCodeAt(n)===58?(o=":",n++):(o=null,c('":"')),o===null&&(i.charCodeAt(n)===64?(o="@",n++):(o=null,c('"@"')),o===null&&(i.charCodeAt(n)===38?(o="&",n++):(o=null,c('"&"')),o===null&&(i.charCodeAt(n)===61?(o="=",n++):(o=null,c('"="')),o===null&&(i.charCodeAt(n)===43?(o="+",n++):(o=null,c('"+"')))))))))));else r=null;return r}function Vf(){var r,o;for(r=[],o=ol();o!==null;)r.push(o),o=ol();return r}function Wo(){var r,o,a,f,p,m,y,x;if(y=n,x=n,i.substr(n,3).toLowerCase()==="sip"?(r=i.substr(n,3),n+=3):(r=null,c('"SIP"')),r!==null)if(i.charCodeAt(n)===47?(o="/",n++):(o=null,c('"/"')),o!==null){if(f=v(),f!==null)for(a=[];f!==null;)a.push(f),f=v();else a=null;if(a!==null)if(i.charCodeAt(n)===46?(f=".",n++):(f=null,c('"."')),f!==null){if(m=v(),m!==null)for(p=[];m!==null;)p.push(m),m=v();else p=null;p!==null?r=[r,o,a,f,p]:(r=null,n=x)}else r=null,n=x;else r=null,n=x}else r=null,n=x;else r=null,n=x;return r!==null&&(r=function(D){A.sip_version=i.substring(n,D)}(y)),r===null&&(n=y),r}function Wf(){var r;return i.substr(n,6)==="INVITE"?(r="INVITE",n+=6):(r=null,c('"INVITE"')),r}function Gf(){var r;return i.substr(n,3)==="ACK"?(r="ACK",n+=3):(r=null,c('"ACK"')),r}function Kf(){var r;return i.substr(n,7)==="OPTIONS"?(r="OPTIONS",n+=7):(r=null,c('"OPTIONS"')),r}function Qf(){var r;return i.substr(n,3)==="BYE"?(r="BYE",n+=3):(r=null,c('"BYE"')),r}function Yf(){var r;return i.substr(n,6)==="CANCEL"?(r="CANCEL",n+=6):(r=null,c('"CANCEL"')),r}function Xf(){var r;return i.substr(n,8)==="REGISTER"?(r="REGISTER",n+=8):(r=null,c('"REGISTER"')),r}function Jf(){var r;return i.substr(n,9)==="SUBSCRIBE"?(r="SUBSCRIBE",n+=9):(r=null,c('"SUBSCRIBE"')),r}function Zf(){var r;return i.substr(n,6)==="NOTIFY"?(r="NOTIFY",n+=6):(r=null,c('"NOTIFY"')),r}function ed(){var r;return i.substr(n,5)==="REFER"?(r="REFER",n+=5):(r=null,c('"REFER"')),r}function Ri(){var r,o;return o=n,r=Wf(),r===null&&(r=Gf(),r===null&&(r=Kf(),r===null&&(r=Qf(),r===null&&(r=Yf(),r===null&&(r=Xf(),r===null&&(r=Jf(),r===null&&(r=Zf(),r===null&&(r=ed(),r===null&&(r=O()))))))))),r!==null&&(r=function(a){return A.method=i.substring(n,a),A.method}(o)),r===null&&(n=o),r}function td(){var r,o,a,f,p,m;return m=n,r=Wo(),r!==null?(o=C(),o!==null?(a=nd(),a!==null?(f=C(),f!==null?(p=ld(),p!==null?r=[r,o,a,f,p]:(r=null,n=m)):(r=null,n=m)):(r=null,n=m)):(r=null,n=m)):(r=null,n=m),r}function nd(){var r,o;return o=n,r=rd(),r!==null&&(r=function(a,f){A.status_code=parseInt(f.join(""))}(o,r)),r===null&&(n=o),r}function rd(){var r,o,a,f;return f=n,r=v(),r!==null?(o=v(),o!==null?(a=v(),a!==null?r=[r,o,a]:(r=null,n=f)):(r=null,n=f)):(r=null,n=f),r}function ld(){var r,o,a;for(a=n,r=[],o=I(),o===null&&(o=L(),o===null&&(o=B(),o===null&&(o=ie(),o===null&&(o=H(),o===null&&(o=C(),o===null&&(o=T()))))));o!==null;)r.push(o),o=I(),o===null&&(o=L(),o===null&&(o=B(),o===null&&(o=ie(),o===null&&(o=H(),o===null&&(o=C(),o===null&&(o=T()))))));return r!==null&&(r=function(f){A.reason_phrase=i.substring(n,f)}(a)),r===null&&(n=a),r}function $m(){var r,o,a,f,p,m;if(p=n,r=al(),r!==null){for(o=[],m=n,a=ae(),a!==null?(f=al(),f!==null?a=[a,f]:(a=null,n=m)):(a=null,n=m);a!==null;)o.push(a),m=n,a=ae(),a!==null?(f=al(),f!==null?a=[a,f]:(a=null,n=m)):(a=null,n=m);o!==null?r=[r,o]:(r=null,n=p)}else r=null,n=p;return r}function jm(){var r,o,a,f,p,m;return f=n,p=n,r=Z(),r!==null?(m=n,i.charCodeAt(n)===64?(o="@",n++):(o=null,c('"@"')),o!==null?(a=Z(),a!==null?o=[o,a]:(o=null,n=m)):(o=null,n=m),o=o!==null?o:"",o!==null?r=[r,o]:(r=null,n=p)):(r=null,n=p),r!==null&&(r=function(y){A=i.substring(n,y)}(f)),r===null&&(n=f),r}function zm(){var r,o,a,f,p,m,y;if(p=n,r=ne(),r===null)if(m=n,r=Ai(),r!==null){for(o=[],y=n,a=ae(),a!==null?(f=Ai(),f!==null?a=[a,f]:(a=null,n=y)):(a=null,n=y);a!==null;)o.push(a),y=n,a=ae(),a!==null?(f=Ai(),f!==null?a=[a,f]:(a=null,n=y)):(a=null,n=y);o!==null?r=[r,o]:(r=null,n=m)}else r=null,n=m;return r!==null&&(r=function(x){var D,J;for(J=A.multi_header.length,D=0;D<J;D++)if(A.multi_header[D].parsed===null){A=null;break}A!==null?A=A.multi_header:A=-1}()),r===null&&(n=p),r}function Ai(){var r,o,a,f,p,m,y;if(p=n,m=n,r=ue(),r===null&&(r=Yn()),r!==null){for(o=[],y=n,a=oe(),a!==null?(f=Go(),f!==null?a=[a,f]:(a=null,n=y)):(a=null,n=y);a!==null;)o.push(a),y=n,a=oe(),a!==null?(f=Go(),f!==null?a=[a,f]:(a=null,n=y)):(a=null,n=y);o!==null?r=[r,o]:(r=null,n=m)}else r=null,n=m;return r!==null&&(r=function(x){var D;A.multi_header||(A.multi_header=[]);try{D=new Sr(A.uri,A.display_name,A.params),delete A.uri,delete A.display_name,delete A.params}catch{D=null}A.multi_header.push({possition:n,offset:x,parsed:D})}(p)),r===null&&(n=p),r}function Yn(){var r,o,a,f,p;return p=n,r=Ii(),r=r!==null?r:"",r!==null?(o=Je(),o!==null?(a=ke(),a!==null?(f=kt(),f!==null?r=[r,o,a,f]:(r=null,n=p)):(r=null,n=p)):(r=null,n=p)):(r=null,n=p),r}function Ii(){var r,o,a,f,p,m,y;if(p=n,m=n,r=O(),r!==null){for(o=[],y=n,a=k(),a!==null?(f=O(),f!==null?a=[a,f]:(a=null,n=y)):(a=null,n=y);a!==null;)o.push(a),y=n,a=k(),a!==null?(f=O(),f!==null?a=[a,f]:(a=null,n=y)):(a=null,n=y);o!==null?r=[r,o]:(r=null,n=m)}else r=null,n=m;return r===null&&(r=re()),r!==null&&(r=function(x,D){typeof D=="string"?A.display_name=D:A.display_name=D[1].reduce(function(J,me){return J+me[0]+me[1]},D[0])}(p,r)),r===null&&(n=p),r}function Go(){var r;return r=id(),r===null&&(r=sd(),r===null&&(r=Pe())),r}function id(){var r,o,a,f,p;return f=n,p=n,i.substr(n,1).toLowerCase()==="q"?(r=i.substr(n,1),n++):(r=null,c('"q"')),r!==null?(o=ee(),o!==null?(a=od(),a!==null?r=[r,o,a]:(r=null,n=p)):(r=null,n=p)):(r=null,n=p),r!==null&&(r=function(m,y){A.params||(A.params={}),A.params.q=y}(f,r[2])),r===null&&(n=f),r}function sd(){var r,o,a,f,p;return f=n,p=n,i.substr(n,7).toLowerCase()==="expires"?(r=i.substr(n,7),n+=7):(r=null,c('"expires"')),r!==null?(o=ee(),o!==null?(a=Xn(),a!==null?r=[r,o,a]:(r=null,n=p)):(r=null,n=p)):(r=null,n=p),r!==null&&(r=function(m,y){A.params||(A.params={}),A.params.expires=y}(f,r[2])),r===null&&(n=f),r}function Xn(){var r,o,a;if(a=n,o=v(),o!==null)for(r=[];o!==null;)r.push(o),o=v();else r=null;return r!==null&&(r=function(f,p){return parseInt(p.join(""))}(a,r)),r===null&&(n=a),r}function od(){var r,o,a,f,p,m,y,x;return m=n,y=n,i.charCodeAt(n)===48?(r="0",n++):(r=null,c('"0"')),r!==null?(x=n,i.charCodeAt(n)===46?(o=".",n++):(o=null,c('"."')),o!==null?(a=v(),a=a!==null?a:"",a!==null?(f=v(),f=f!==null?f:"",f!==null?(p=v(),p=p!==null?p:"",p!==null?o=[o,a,f,p]:(o=null,n=x)):(o=null,n=x)):(o=null,n=x)):(o=null,n=x),o=o!==null?o:"",o!==null?r=[r,o]:(r=null,n=y)):(r=null,n=y),r!==null&&(r=function(D){return parseFloat(i.substring(n,D))}(m)),r===null&&(n=m),r}function Pe(){var r,o,a,f,p,m;return f=n,p=n,r=O(),r!==null?(m=n,o=ee(),o!==null?(a=ud(),a!==null?o=[o,a]:(o=null,n=m)):(o=null,n=m),o=o!==null?o:"",o!==null?r=[r,o]:(r=null,n=p)):(r=null,n=p),r!==null&&(r=function(y,x,D){A.params||(A.params={}),typeof D>"u"?D=void 0:D=D[1],A.params[x.toLowerCase()]=D}(f,r[0],r[1])),r===null&&(n=f),r}function ud(){var r;return r=O(),r===null&&(r=nl(),r===null&&(r=yr())),r}function Bm(){var r,o,a,f,p,m;if(p=n,r=ad(),r!==null){for(o=[],m=n,a=oe(),a!==null?(f=Ko(),f!==null?a=[a,f]:(a=null,n=m)):(a=null,n=m);a!==null;)o.push(a),m=n,a=oe(),a!==null?(f=Ko(),f!==null?a=[a,f]:(a=null,n=m)):(a=null,n=m);o!==null?r=[r,o]:(r=null,n=p)}else r=null,n=p;return r}function ad(){var r;return i.substr(n,6).toLowerCase()==="render"?(r=i.substr(n,6),n+=6):(r=null,c('"render"')),r===null&&(i.substr(n,7).toLowerCase()==="session"?(r=i.substr(n,7),n+=7):(r=null,c('"session"')),r===null&&(i.substr(n,4).toLowerCase()==="icon"?(r=i.substr(n,4),n+=4):(r=null,c('"icon"')),r===null&&(i.substr(n,5).toLowerCase()==="alert"?(r=i.substr(n,5),n+=5):(r=null,c('"alert"')),r===null&&(r=O())))),r}function Ko(){var r;return r=cd(),r===null&&(r=Pe()),r}function cd(){var r,o,a,f;return f=n,i.substr(n,8).toLowerCase()==="handling"?(r=i.substr(n,8),n+=8):(r=null,c('"handling"')),r!==null?(o=ee(),o!==null?(i.substr(n,8).toLowerCase()==="optional"?(a=i.substr(n,8),n+=8):(a=null,c('"optional"')),a===null&&(i.substr(n,8).toLowerCase()==="required"?(a=i.substr(n,8),n+=8):(a=null,c('"required"')),a===null&&(a=O())),a!==null?r=[r,o,a]:(r=null,n=f)):(r=null,n=f)):(r=null,n=f),r}function qm(){var r,o,a,f,p,m;if(p=n,r=O(),r!==null){for(o=[],m=n,a=ae(),a!==null?(f=O(),f!==null?a=[a,f]:(a=null,n=m)):(a=null,n=m);a!==null;)o.push(a),m=n,a=ae(),a!==null?(f=O(),f!==null?a=[a,f]:(a=null,n=m)):(a=null,n=m);o!==null?r=[r,o]:(r=null,n=p)}else r=null,n=p;return r}function Vm(){var r,o,a;if(a=n,o=v(),o!==null)for(r=[];o!==null;)r.push(o),o=v();else r=null;return r!==null&&(r=function(f,p){A=parseInt(p.join(""))}(a,r)),r===null&&(n=a),r}function Wm(){var r,o;return o=n,r=fd(),r!==null&&(r=function(a){A=i.substring(n,a)}(o)),r===null&&(n=o),r}function fd(){var r,o,a,f,p,m,y,x;if(y=n,r=dd(),r!==null)if(o=fe(),o!==null)if(a=vd(),a!==null){for(f=[],x=n,p=oe(),p!==null?(m=Qo(),m!==null?p=[p,m]:(p=null,n=x)):(p=null,n=x);p!==null;)f.push(p),x=n,p=oe(),p!==null?(m=Qo(),m!==null?p=[p,m]:(p=null,n=x)):(p=null,n=x);f!==null?r=[r,o,a,f]:(r=null,n=y)}else r=null,n=y;else r=null,n=y;else r=null,n=y;return r}function dd(){var r;return r=hd(),r===null&&(r=pd()),r}function hd(){var r;return i.substr(n,4).toLowerCase()==="text"?(r=i.substr(n,4),n+=4):(r=null,c('"text"')),r===null&&(i.substr(n,5).toLowerCase()==="image"?(r=i.substr(n,5),n+=5):(r=null,c('"image"')),r===null&&(i.substr(n,5).toLowerCase()==="audio"?(r=i.substr(n,5),n+=5):(r=null,c('"audio"')),r===null&&(i.substr(n,5).toLowerCase()==="video"?(r=i.substr(n,5),n+=5):(r=null,c('"video"')),r===null&&(i.substr(n,11).toLowerCase()==="application"?(r=i.substr(n,11),n+=11):(r=null,c('"application"')),r===null&&(r=ki()))))),r}function pd(){var r;return i.substr(n,7).toLowerCase()==="message"?(r=i.substr(n,7),n+=7):(r=null,c('"message"')),r===null&&(i.substr(n,9).toLowerCase()==="multipart"?(r=i.substr(n,9),n+=9):(r=null,c('"multipart"')),r===null&&(r=ki())),r}function ki(){var r;return r=O(),r===null&&(r=_d()),r}function _d(){var r,o,a;return a=n,i.substr(n,2).toLowerCase()==="x-"?(r=i.substr(n,2),n+=2):(r=null,c('"x-"')),r!==null?(o=O(),o!==null?r=[r,o]:(r=null,n=a)):(r=null,n=a),r}function vd(){var r;return r=ki(),r===null&&(r=O()),r}function Qo(){var r,o,a,f;return f=n,r=O(),r!==null?(o=ee(),o!==null?(a=md(),a!==null?r=[r,o,a]:(r=null,n=f)):(r=null,n=f)):(r=null,n=f),r}function md(){var r;return r=O(),r===null&&(r=yr()),r}function Gm(){var r,o,a,f;return f=n,r=gd(),r!==null?(o=k(),o!==null?(a=Ri(),a!==null?r=[r,o,a]:(r=null,n=f)):(r=null,n=f)):(r=null,n=f),r}function gd(){var r,o,a;if(a=n,o=v(),o!==null)for(r=[];o!==null;)r.push(o),o=v();else r=null;return r!==null&&(r=function(f,p){A.value=parseInt(p.join(""))}(a,r)),r===null&&(n=a),r}function Km(){var r,o;return o=n,r=Xn(),r!==null&&(r=function(a,f){A=f}(o,r)),r===null&&(n=o),r}function Qm(){var r,o,a,f,p,m,y;if(p=n,m=n,r=al(),r!==null){for(o=[],y=n,a=oe(),a!==null?(f=Pe(),f!==null?a=[a,f]:(a=null,n=y)):(a=null,n=y);a!==null;)o.push(a),y=n,a=oe(),a!==null?(f=Pe(),f!==null?a=[a,f]:(a=null,n=y)):(a=null,n=y);o!==null?r=[r,o]:(r=null,n=m)}else r=null,n=m;return r!==null&&(r=function(x,D){A.event=D.join("").toLowerCase()}(p,r[0])),r===null&&(n=p),r}function al(){var r,o,a,f,p,m;if(p=n,r=$(),r!==null){for(o=[],m=n,i.charCodeAt(n)===46?(a=".",n++):(a=null,c('"."')),a!==null?(f=$(),f!==null?a=[a,f]:(a=null,n=m)):(a=null,n=m);a!==null;)o.push(a),m=n,i.charCodeAt(n)===46?(a=".",n++):(a=null,c('"."')),a!==null?(f=$(),f!==null?a=[a,f]:(a=null,n=m)):(a=null,n=m);o!==null?r=[r,o]:(r=null,n=p)}else r=null,n=p;return r}function Ym(){var r,o,a,f,p,m,y;if(p=n,m=n,r=ue(),r===null&&(r=Yn()),r!==null){for(o=[],y=n,a=oe(),a!==null?(f=Yo(),f!==null?a=[a,f]:(a=null,n=y)):(a=null,n=y);a!==null;)o.push(a),y=n,a=oe(),a!==null?(f=Yo(),f!==null?a=[a,f]:(a=null,n=y)):(a=null,n=y);o!==null?r=[r,o]:(r=null,n=m)}else r=null,n=m;return r!==null&&(r=function(x){var D=A.tag;try{A=new Sr(A.uri,A.display_name,A.params),D&&A.setParam("tag",D)}catch{A=-1}}()),r===null&&(n=p),r}function Yo(){var r;return r=Xo(),r===null&&(r=Pe()),r}function Xo(){var r,o,a,f,p;return f=n,p=n,i.substr(n,3).toLowerCase()==="tag"?(r=i.substr(n,3),n+=3):(r=null,c('"tag"')),r!==null?(o=ee(),o!==null?(a=O(),a!==null?r=[r,o,a]:(r=null,n=p)):(r=null,n=p)):(r=null,n=p),r!==null&&(r=function(m,y){A.tag=y}(f,r[2])),r===null&&(n=f),r}function Xm(){var r,o,a;if(a=n,o=v(),o!==null)for(r=[];o!==null;)r.push(o),o=v();else r=null;return r!==null&&(r=function(f,p){A=parseInt(p.join(""))}(a,r)),r===null&&(n=a),r}function Jm(){var r,o;return o=n,r=Xn(),r!==null&&(r=function(a,f){A=f}(o,r)),r===null&&(n=o),r}function Zm(){var r,o,a,f,p,m,y,x,D,J;for(x=n,D=n,r=[],o=Ii();o!==null;)r.push(o),o=Ii();if(r!==null)if(o=Je(),o!==null)if(a=ke(),a!==null)if(f=kt(),f!==null){for(p=[],J=n,m=oe(),m!==null?(y=Pe(),y!==null?m=[m,y]:(m=null,n=J)):(m=null,n=J);m!==null;)p.push(m),J=n,m=oe(),m!==null?(y=Pe(),y!==null?m=[m,y]:(m=null,n=J)):(m=null,n=J);p!==null?r=[r,o,a,f,p]:(r=null,n=D)}else r=null,n=D;else r=null,n=D;else r=null,n=D;else r=null,n=D;return r!==null&&(r=function(me){try{A=new Sr(A.uri,A.display_name,A.params)}catch{A=-1}}()),r===null&&(n=x),r}function eg(){var r;return r=Jo(),r}function Jo(){var r,o,a,f,p,m,y,x;if(y=n,i.substr(n,6).toLowerCase()==="digest"?(r=i.substr(n,6),n+=6):(r=null,c('"Digest"')),r!==null)if(o=k(),o!==null)if(a=xi(),a!==null){for(f=[],x=n,p=ae(),p!==null?(m=xi(),m!==null?p=[p,m]:(p=null,n=x)):(p=null,n=x);p!==null;)f.push(p),x=n,p=ae(),p!==null?(m=xi(),m!==null?p=[p,m]:(p=null,n=x)):(p=null,n=x);f!==null?r=[r,o,a,f]:(r=null,n=y)}else r=null,n=y;else r=null,n=y;else r=null,n=y;return r===null&&(r=yd()),r}function yd(){var r,o,a,f,p,m,y,x;if(y=n,r=O(),r!==null)if(o=k(),o!==null)if(a=cl(),a!==null){for(f=[],x=n,p=ae(),p!==null?(m=cl(),m!==null?p=[p,m]:(p=null,n=x)):(p=null,n=x);p!==null;)f.push(p),x=n,p=ae(),p!==null?(m=cl(),m!==null?p=[p,m]:(p=null,n=x)):(p=null,n=x);f!==null?r=[r,o,a,f]:(r=null,n=y)}else r=null,n=y;else r=null,n=y;else r=null,n=y;return r}function cl(){var r,o,a,f;return f=n,r=O(),r!==null?(o=ee(),o!==null?(a=O(),a===null&&(a=yr()),a!==null?r=[r,o,a]:(r=null,n=f)):(r=null,n=f)):(r=null,n=f),r}function xi(){var r;return r=Sd(),r===null&&(r=Cd(),r===null&&(r=Ed(),r===null&&(r=Rd(),r===null&&(r=Ad(),r===null&&(r=Id(),r===null&&(r=kd(),r===null&&(r=cl()))))))),r}function Sd(){var r,o,a,f;return f=n,i.substr(n,5).toLowerCase()==="realm"?(r=i.substr(n,5),n+=5):(r=null,c('"realm"')),r!==null?(o=ee(),o!==null?(a=Td(),a!==null?r=[r,o,a]:(r=null,n=f)):(r=null,n=f)):(r=null,n=f),r}function Td(){var r,o;return o=n,r=re(),r!==null&&(r=function(a,f){A.realm=f}(o,r)),r===null&&(n=o),r}function Cd(){var r,o,a,f,p,m,y,x,D;if(x=n,i.substr(n,6).toLowerCase()==="domain"?(r=i.substr(n,6),n+=6):(r=null,c('"domain"')),r!==null)if(o=ee(),o!==null)if(a=gn(),a!==null)if(f=Oi(),f!==null){if(p=[],D=n,y=C(),y!==null)for(m=[];y!==null;)m.push(y),y=C();else m=null;for(m!==null?(y=Oi(),y!==null?m=[m,y]:(m=null,n=D)):(m=null,n=D);m!==null;){if(p.push(m),D=n,y=C(),y!==null)for(m=[];y!==null;)m.push(y),y=C();else m=null;m!==null?(y=Oi(),y!==null?m=[m,y]:(m=null,n=D)):(m=null,n=D)}p!==null?(m=yn(),m!==null?r=[r,o,a,f,p,m]:(r=null,n=x)):(r=null,n=x)}else r=null,n=x;else r=null,n=x;else r=null,n=x;else r=null,n=x;return r}function Oi(){var r;return r=qo(),r===null&&(r=Ei()),r}function Ed(){var r,o,a,f;return f=n,i.substr(n,5).toLowerCase()==="nonce"?(r=i.substr(n,5),n+=5):(r=null,c('"nonce"')),r!==null?(o=ee(),o!==null?(a=wd(),a!==null?r=[r,o,a]:(r=null,n=f)):(r=null,n=f)):(r=null,n=f),r}function wd(){var r,o;return o=n,r=re(),r!==null&&(r=function(a,f){A.nonce=f}(o,r)),r===null&&(n=o),r}function Rd(){var r,o,a,f,p;return f=n,p=n,i.substr(n,6).toLowerCase()==="opaque"?(r=i.substr(n,6),n+=6):(r=null,c('"opaque"')),r!==null?(o=ee(),o!==null?(a=re(),a!==null?r=[r,o,a]:(r=null,n=p)):(r=null,n=p)):(r=null,n=p),r!==null&&(r=function(m,y){A.opaque=y}(f,r[2])),r===null&&(n=f),r}function Ad(){var r,o,a,f,p;return f=n,i.substr(n,5).toLowerCase()==="stale"?(r=i.substr(n,5),n+=5):(r=null,c('"stale"')),r!==null?(o=ee(),o!==null?(p=n,i.substr(n,4).toLowerCase()==="true"?(a=i.substr(n,4),n+=4):(a=null,c('"true"')),a!==null&&(a=function(m){A.stale=!0}()),a===null&&(n=p),a===null&&(p=n,i.substr(n,5).toLowerCase()==="false"?(a=i.substr(n,5),n+=5):(a=null,c('"false"')),a!==null&&(a=function(m){A.stale=!1}()),a===null&&(n=p)),a!==null?r=[r,o,a]:(r=null,n=f)):(r=null,n=f)):(r=null,n=f),r}function Id(){var r,o,a,f,p;return f=n,p=n,i.substr(n,9).toLowerCase()==="algorithm"?(r=i.substr(n,9),n+=9):(r=null,c('"algorithm"')),r!==null?(o=ee(),o!==null?(i.substr(n,3).toLowerCase()==="md5"?(a=i.substr(n,3),n+=3):(a=null,c('"MD5"')),a===null&&(i.substr(n,8).toLowerCase()==="md5-sess"?(a=i.substr(n,8),n+=8):(a=null,c('"MD5-sess"')),a===null&&(a=O())),a!==null?r=[r,o,a]:(r=null,n=p)):(r=null,n=p)):(r=null,n=p),r!==null&&(r=function(m,y){A.algorithm=y.toUpperCase()}(f,r[2])),r===null&&(n=f),r}function kd(){var r,o,a,f,p,m,y,x,D,J;if(x=n,i.substr(n,3).toLowerCase()==="qop"?(r=i.substr(n,3),n+=3):(r=null,c('"qop"')),r!==null)if(o=ee(),o!==null)if(a=gn(),a!==null){if(D=n,f=Ni(),f!==null){for(p=[],J=n,i.charCodeAt(n)===44?(m=",",n++):(m=null,c('","')),m!==null?(y=Ni(),y!==null?m=[m,y]:(m=null,n=J)):(m=null,n=J);m!==null;)p.push(m),J=n,i.charCodeAt(n)===44?(m=",",n++):(m=null,c('","')),m!==null?(y=Ni(),y!==null?m=[m,y]:(m=null,n=J)):(m=null,n=J);p!==null?f=[f,p]:(f=null,n=D)}else f=null,n=D;f!==null?(p=yn(),p!==null?r=[r,o,a,f,p]:(r=null,n=x)):(r=null,n=x)}else r=null,n=x;else r=null,n=x;else r=null,n=x;return r}function Ni(){var r,o;return o=n,i.substr(n,8).toLowerCase()==="auth-int"?(r=i.substr(n,8),n+=8):(r=null,c('"auth-int"')),r===null&&(i.substr(n,4).toLowerCase()==="auth"?(r=i.substr(n,4),n+=4):(r=null,c('"auth"')),r===null&&(r=O())),r!==null&&(r=function(a,f){A.qop||(A.qop=[]),A.qop.push(f.toLowerCase())}(o,r)),r===null&&(n=o),r}function tg(){var r,o,a,f,p,m;if(p=n,r=O(),r!==null){for(o=[],m=n,a=ae(),a!==null?(f=O(),f!==null?a=[a,f]:(a=null,n=m)):(a=null,n=m);a!==null;)o.push(a),m=n,a=ae(),a!==null?(f=O(),f!==null?a=[a,f]:(a=null,n=m)):(a=null,n=m);o!==null?r=[r,o]:(r=null,n=p)}else r=null,n=p;return r}function ng(){var r,o,a,f,p,m,y;if(p=n,m=n,r=bi(),r!==null){for(o=[],y=n,a=ae(),a!==null?(f=bi(),f!==null?a=[a,f]:(a=null,n=y)):(a=null,n=y);a!==null;)o.push(a),y=n,a=ae(),a!==null?(f=bi(),f!==null?a=[a,f]:(a=null,n=y)):(a=null,n=y);o!==null?r=[r,o]:(r=null,n=m)}else r=null,n=m;return r!==null&&(r=function(x){var D,J;for(J=A.multi_header.length,D=0;D<J;D++)if(A.multi_header[D].parsed===null){A=null;break}A!==null?A=A.multi_header:A=-1}()),r===null&&(n=p),r}function bi(){var r,o,a,f,p,m,y;if(p=n,m=n,r=Yn(),r!==null){for(o=[],y=n,a=oe(),a!==null?(f=Pe(),f!==null?a=[a,f]:(a=null,n=y)):(a=null,n=y);a!==null;)o.push(a),y=n,a=oe(),a!==null?(f=Pe(),f!==null?a=[a,f]:(a=null,n=y)):(a=null,n=y);o!==null?r=[r,o]:(r=null,n=m)}else r=null,n=m;return r!==null&&(r=function(x){var D;A.multi_header||(A.multi_header=[]);try{D=new Sr(A.uri,A.display_name,A.params),delete A.uri,delete A.display_name,delete A.params}catch{D=null}A.multi_header.push({possition:n,offset:x,parsed:D})}(p)),r===null&&(n=p),r}function rg(){var r,o,a,f,p,m,y;if(p=n,m=n,i.substr(n,3).toLowerCase()==="sip"?(r=i.substr(n,3),n+=3):(r=null,c('"SIP"')),r===null&&(r=O()),r!==null){for(o=[],y=n,a=oe(),a!==null?(f=Zo(),f!==null?a=[a,f]:(a=null,n=y)):(a=null,n=y);a!==null;)o.push(a),y=n,a=oe(),a!==null?(f=Zo(),f!==null?a=[a,f]:(a=null,n=y)):(a=null,n=y);o!==null?r=[r,o]:(r=null,n=m)}else r=null,n=m;return r!==null&&(r=function(x,D){if(A.protocol=D.toLowerCase(),A.params||(A.params={}),A.params.text&&A.params.text[0]==='"'){var J=A.params.text;A.text=J.substring(1,J.length-1),delete A.params.text}}(p,r[0])),r===null&&(n=p),r}function Zo(){var r;return r=xd(),r===null&&(r=Pe()),r}function xd(){var r,o,a,f,p,m;if(p=n,m=n,i.substr(n,5).toLowerCase()==="cause"?(r=i.substr(n,5),n+=5):(r=null,c('"cause"')),r!==null)if(o=ee(),o!==null){if(f=v(),f!==null)for(a=[];f!==null;)a.push(f),f=v();else a=null;a!==null?r=[r,o,a]:(r=null,n=m)}else r=null,n=m;else r=null,n=m;return r!==null&&(r=function(y,x){A.cause=parseInt(x.join(""))}(p,r[2])),r===null&&(n=p),r}function lg(){var r,o,a,f,p,m;if(p=n,r=O(),r!==null){for(o=[],m=n,a=ae(),a!==null?(f=O(),f!==null?a=[a,f]:(a=null,n=m)):(a=null,n=m);a!==null;)o.push(a),m=n,a=ae(),a!==null?(f=O(),f!==null?a=[a,f]:(a=null,n=m)):(a=null,n=m);o!==null?r=[r,o]:(r=null,n=p)}else r=null,n=p;return r}function ig(){var r,o,a,f,p,m;if(p=n,r=Pi(),r!==null){for(o=[],m=n,a=ae(),a!==null?(f=Pi(),f!==null?a=[a,f]:(a=null,n=m)):(a=null,n=m);a!==null;)o.push(a),m=n,a=ae(),a!==null?(f=Pi(),f!==null?a=[a,f]:(a=null,n=m)):(a=null,n=m);o!==null?r=[r,o]:(r=null,n=p)}else r=null,n=p;return r}function Pi(){var r,o,a,f,p,m;if(p=n,r=Yn(),r!==null){for(o=[],m=n,a=oe(),a!==null?(f=Pe(),f!==null?a=[a,f]:(a=null,n=m)):(a=null,n=m);a!==null;)o.push(a),m=n,a=oe(),a!==null?(f=Pe(),f!==null?a=[a,f]:(a=null,n=m)):(a=null,n=m);o!==null?r=[r,o]:(r=null,n=p)}else r=null,n=p;return r}function sg(){var r,o,a,f,p,m;if(p=n,r=Od(),r!==null){for(o=[],m=n,a=oe(),a!==null?(f=eu(),f!==null?a=[a,f]:(a=null,n=m)):(a=null,n=m);a!==null;)o.push(a),m=n,a=oe(),a!==null?(f=eu(),f!==null?a=[a,f]:(a=null,n=m)):(a=null,n=m);o!==null?r=[r,o]:(r=null,n=p)}else r=null,n=p;return r}function Od(){var r,o;return o=n,i.substr(n,6).toLowerCase()==="active"?(r=i.substr(n,6),n+=6):(r=null,c('"active"')),r===null&&(i.substr(n,7).toLowerCase()==="pending"?(r=i.substr(n,7),n+=7):(r=null,c('"pending"')),r===null&&(i.substr(n,10).toLowerCase()==="terminated"?(r=i.substr(n,10),n+=10):(r=null,c('"terminated"')),r===null&&(r=O()))),r!==null&&(r=function(a){A.state=i.substring(n,a)}(o)),r===null&&(n=o),r}function eu(){var r,o,a,f,p;return f=n,p=n,i.substr(n,6).toLowerCase()==="reason"?(r=i.substr(n,6),n+=6):(r=null,c('"reason"')),r!==null?(o=ee(),o!==null?(a=Nd(),a!==null?r=[r,o,a]:(r=null,n=p)):(r=null,n=p)):(r=null,n=p),r!==null&&(r=function(m,y){typeof y<"u"&&(A.reason=y)}(f,r[2])),r===null&&(n=f),r===null&&(f=n,p=n,i.substr(n,7).toLowerCase()==="expires"?(r=i.substr(n,7),n+=7):(r=null,c('"expires"')),r!==null?(o=ee(),o!==null?(a=Xn(),a!==null?r=[r,o,a]:(r=null,n=p)):(r=null,n=p)):(r=null,n=p),r!==null&&(r=function(m,y){typeof y<"u"&&(A.expires=y)}(f,r[2])),r===null&&(n=f),r===null&&(f=n,p=n,i.substr(n,11).toLowerCase()==="retry_after"?(r=i.substr(n,11),n+=11):(r=null,c('"retry_after"')),r!==null?(o=ee(),o!==null?(a=Xn(),a!==null?r=[r,o,a]:(r=null,n=p)):(r=null,n=p)):(r=null,n=p),r!==null&&(r=function(m,y){typeof y<"u"&&(A.retry_after=y)}(f,r[2])),r===null&&(n=f),r===null&&(r=Pe()))),r}function Nd(){var r;return i.substr(n,11).toLowerCase()==="deactivated"?(r=i.substr(n,11),n+=11):(r=null,c('"deactivated"')),r===null&&(i.substr(n,9).toLowerCase()==="probation"?(r=i.substr(n,9),n+=9):(r=null,c('"probation"')),r===null&&(i.substr(n,8).toLowerCase()==="rejected"?(r=i.substr(n,8),n+=8):(r=null,c('"rejected"')),r===null&&(i.substr(n,7).toLowerCase()==="timeout"?(r=i.substr(n,7),n+=7):(r=null,c('"timeout"')),r===null&&(i.substr(n,6).toLowerCase()==="giveup"?(r=i.substr(n,6),n+=6):(r=null,c('"giveup"')),r===null&&(i.substr(n,10).toLowerCase()==="noresource"?(r=i.substr(n,10),n+=10):(r=null,c('"noresource"')),r===null&&(i.substr(n,9).toLowerCase()==="invariant"?(r=i.substr(n,9),n+=9):(r=null,c('"invariant"')),r===null&&(r=O()))))))),r}function og(){var r;return r=Ie(),r=r!==null?r:"",r}function ug(){var r,o,a,f,p,m;if(p=n,r=O(),r!==null){for(o=[],m=n,a=ae(),a!==null?(f=O(),f!==null?a=[a,f]:(a=null,n=m)):(a=null,n=m);a!==null;)o.push(a),m=n,a=ae(),a!==null?(f=O(),f!==null?a=[a,f]:(a=null,n=m)):(a=null,n=m);o!==null?r=[r,o]:(r=null,n=p)}else r=null,n=p;return r=r!==null?r:"",r}function ag(){var r,o,a,f,p,m,y;if(p=n,m=n,r=ue(),r===null&&(r=Yn()),r!==null){for(o=[],y=n,a=oe(),a!==null?(f=tu(),f!==null?a=[a,f]:(a=null,n=y)):(a=null,n=y);a!==null;)o.push(a),y=n,a=oe(),a!==null?(f=tu(),f!==null?a=[a,f]:(a=null,n=y)):(a=null,n=y);o!==null?r=[r,o]:(r=null,n=m)}else r=null,n=m;return r!==null&&(r=function(x){var D=A.tag;try{A=new Sr(A.uri,A.display_name,A.params),D&&A.setParam("tag",D)}catch{A=-1}}()),r===null&&(n=p),r}function tu(){var r;return r=Xo(),r===null&&(r=Pe()),r}function cg(){var r,o,a,f,p,m;if(p=n,r=Di(),r!==null){for(o=[],m=n,a=ae(),a!==null?(f=Di(),f!==null?a=[a,f]:(a=null,n=m)):(a=null,n=m);a!==null;)o.push(a),m=n,a=ae(),a!==null?(f=Di(),f!==null?a=[a,f]:(a=null,n=m)):(a=null,n=m);o!==null?r=[r,o]:(r=null,n=p)}else r=null,n=p;return r}function Di(){var r,o,a,f,p,m,y,x;if(y=n,r=Fd(),r!==null)if(o=k(),o!==null)if(a=jd(),a!==null){for(f=[],x=n,p=oe(),p!==null?(m=nu(),m!==null?p=[p,m]:(p=null,n=x)):(p=null,n=x);p!==null;)f.push(p),x=n,p=oe(),p!==null?(m=nu(),m!==null?p=[p,m]:(p=null,n=x)):(p=null,n=x);f!==null?r=[r,o,a,f]:(r=null,n=y)}else r=null,n=y;else r=null,n=y;else r=null,n=y;return r}function nu(){var r;return r=bd(),r===null&&(r=Pd(),r===null&&(r=Dd(),r===null&&(r=Ud(),r===null&&(r=Ld(),r===null&&(r=Pe()))))),r}function bd(){var r,o,a,f,p;return f=n,p=n,i.substr(n,3).toLowerCase()==="ttl"?(r=i.substr(n,3),n+=3):(r=null,c('"ttl"')),r!==null?(o=ee(),o!==null?(a=ru(),a!==null?r=[r,o,a]:(r=null,n=p)):(r=null,n=p)):(r=null,n=p),r!==null&&(r=function(m,y){A.ttl=y}(f,r[2])),r===null&&(n=f),r}function Pd(){var r,o,a,f,p;return f=n,p=n,i.substr(n,5).toLowerCase()==="maddr"?(r=i.substr(n,5),n+=5):(r=null,c('"maddr"')),r!==null?(o=ee(),o!==null?(a=nl(),a!==null?r=[r,o,a]:(r=null,n=p)):(r=null,n=p)):(r=null,n=p),r!==null&&(r=function(m,y){A.maddr=y}(f,r[2])),r===null&&(n=f),r}function Dd(){var r,o,a,f,p;return f=n,p=n,i.substr(n,8).toLowerCase()==="received"?(r=i.substr(n,8),n+=8):(r=null,c('"received"')),r!==null?(o=ee(),o!==null?(a=rl(),a===null&&(a=zo()),a!==null?r=[r,o,a]:(r=null,n=p)):(r=null,n=p)):(r=null,n=p),r!==null&&(r=function(m,y){A.received=y}(f,r[2])),r===null&&(n=f),r}function Ud(){var r,o,a,f,p;return f=n,p=n,i.substr(n,6).toLowerCase()==="branch"?(r=i.substr(n,6),n+=6):(r=null,c('"branch"')),r!==null?(o=ee(),o!==null?(a=O(),a!==null?r=[r,o,a]:(r=null,n=p)):(r=null,n=p)):(r=null,n=p),r!==null&&(r=function(m,y){A.branch=y}(f,r[2])),r===null&&(n=f),r}function Ld(){var r,o,a,f,p;return f=n,i.substr(n,5).toLowerCase()==="rport"?(r=i.substr(n,5),n+=5):(r=null,c('"rport"')),r!==null?(p=n,o=ee(),o!==null?(a=Md(),a!==null?o=[o,a]:(o=null,n=p)):(o=null,n=p),o=o!==null?o:"",o!==null?r=[r,o]:(r=null,n=f)):(r=null,n=f),r}function Md(){var r,o,a,f,p,m,y;return m=n,y=n,r=v(),r=r!==null?r:"",r!==null?(o=v(),o=o!==null?o:"",o!==null?(a=v(),a=a!==null?a:"",a!==null?(f=v(),f=f!==null?f:"",f!==null?(p=v(),p=p!==null?p:"",p!==null?r=[r,o,a,f,p]:(r=null,n=y)):(r=null,n=y)):(r=null,n=y)):(r=null,n=y)):(r=null,n=y),r!==null&&(r=function(x,D){A.rport=parseInt(D.join(""))}(m,r)),r===null&&(n=m),r}function Fd(){var r,o,a,f,p,m;return m=n,r=Hd(),r!==null?(o=fe(),o!==null?(a=O(),a!==null?(f=fe(),f!==null?(p=$d(),p!==null?r=[r,o,a,f,p]:(r=null,n=m)):(r=null,n=m)):(r=null,n=m)):(r=null,n=m)):(r=null,n=m),r}function Hd(){var r,o;return o=n,i.substr(n,3).toLowerCase()==="sip"?(r=i.substr(n,3),n+=3):(r=null,c('"SIP"')),r===null&&(r=O()),r!==null&&(r=function(a,f){A.protocol=f}(o,r)),r===null&&(n=o),r}function $d(){var r,o;return o=n,i.substr(n,3).toLowerCase()==="udp"?(r=i.substr(n,3),n+=3):(r=null,c('"UDP"')),r===null&&(i.substr(n,3).toLowerCase()==="tcp"?(r=i.substr(n,3),n+=3):(r=null,c('"TCP"')),r===null&&(i.substr(n,3).toLowerCase()==="tls"?(r=i.substr(n,3),n+=3):(r=null,c('"TLS"')),r===null&&(i.substr(n,4).toLowerCase()==="sctp"?(r=i.substr(n,4),n+=4):(r=null,c('"SCTP"')),r===null&&(r=O())))),r!==null&&(r=function(a,f){A.transport=f}(o,r)),r===null&&(n=o),r}function jd(){var r,o,a,f,p;return f=n,r=zd(),r!==null?(p=n,o=Kn(),o!==null?(a=Bd(),a!==null?o=[o,a]:(o=null,n=p)):(o=null,n=p),o=o!==null?o:"",o!==null?r=[r,o]:(r=null,n=f)):(r=null,n=f),r}function zd(){var r,o;return o=n,r=rl(),r===null&&(r=jo(),r===null&&(r=Ho())),r!==null&&(r=function(a){A.host=i.substring(n,a)}(o)),r===null&&(n=o),r}function Bd(){var r,o,a,f,p,m,y;return m=n,y=n,r=v(),r=r!==null?r:"",r!==null?(o=v(),o=o!==null?o:"",o!==null?(a=v(),a=a!==null?a:"",a!==null?(f=v(),f=f!==null?f:"",f!==null?(p=v(),p=p!==null?p:"",p!==null?r=[r,o,a,f,p]:(r=null,n=y)):(r=null,n=y)):(r=null,n=y)):(r=null,n=y)):(r=null,n=y),r!==null&&(r=function(x,D){A.port=parseInt(D.join(""))}(m,r)),r===null&&(n=m),r}function ru(){var r,o,a,f,p;return f=n,p=n,r=v(),r!==null?(o=v(),o=o!==null?o:"",o!==null?(a=v(),a=a!==null?a:"",a!==null?r=[r,o,a]:(r=null,n=p)):(r=null,n=p)):(r=null,n=p),r!==null&&(r=function(m,y){return parseInt(y.join(""))}(f,r)),r===null&&(n=f),r}function fg(){var r;return r=Jo(),r}function dg(){var r,o,a,f,p,m;if(p=n,r=qd(),r!==null){for(o=[],m=n,a=oe(),a!==null?(f=lu(),f!==null?a=[a,f]:(a=null,n=m)):(a=null,n=m);a!==null;)o.push(a),m=n,a=oe(),a!==null?(f=lu(),f!==null?a=[a,f]:(a=null,n=m)):(a=null,n=m);o!==null?r=[r,o]:(r=null,n=p)}else r=null,n=p;return r}function qd(){var r,o;return o=n,r=Xn(),r!==null&&(r=function(a,f){A.expires=f}(o,r)),r===null&&(n=o),r}function lu(){var r;return r=Vd(),r===null&&(r=Pe()),r}function Vd(){var r,o,a,f,p;return f=n,p=n,i.substr(n,9).toLowerCase()==="refresher"?(r=i.substr(n,9),n+=9):(r=null,c('"refresher"')),r!==null?(o=ee(),o!==null?(i.substr(n,3).toLowerCase()==="uac"?(a=i.substr(n,3),n+=3):(a=null,c('"uac"')),a===null&&(i.substr(n,3).toLowerCase()==="uas"?(a=i.substr(n,3),n+=3):(a=null,c('"uas"'))),a!==null?r=[r,o,a]:(r=null,n=p)):(r=null,n=p)):(r=null,n=p),r!==null&&(r=function(m,y){A.refresher=y.toLowerCase()}(f,r[2])),r===null&&(n=f),r}function hg(){var r,o,a,f;return f=n,r=O(),r!==null?(o=X(),o!==null?(a=Wd(),a!==null?r=[r,o,a]:(r=null,n=f)):(r=null,n=f)):(r=null,n=f),r}function Wd(){var r,o;for(r=[],o=$e(),o===null&&(o=H(),o===null&&(o=k()));o!==null;)r.push(o),o=$e(),o===null&&(o=H(),o===null&&(o=k()));return r}function pg(){var r,o;for(r=[],o=R();o!==null;)r.push(o),o=R();return r}function _g(){var r,o,a;return a=n,i.substr(n,5)==="uuid:"?(r="uuid:",n+=5):(r=null,c('"uuid:"')),r!==null?(o=Gd(),o!==null?r=[r,o]:(r=null,n=a)):(r=null,n=a),r}function Gd(){var r,o,a,f,p,m,y,x,D,J,me;return J=n,me=n,r=Kd(),r!==null?(i.charCodeAt(n)===45?(o="-",n++):(o=null,c('"-"')),o!==null?(a=nn(),a!==null?(i.charCodeAt(n)===45?(f="-",n++):(f=null,c('"-"')),f!==null?(p=nn(),p!==null?(i.charCodeAt(n)===45?(m="-",n++):(m=null,c('"-"')),m!==null?(y=nn(),y!==null?(i.charCodeAt(n)===45?(x="-",n++):(x=null,c('"-"')),x!==null?(D=Qd(),D!==null?r=[r,o,a,f,p,m,y,x,D]:(r=null,n=me)):(r=null,n=me)):(r=null,n=me)):(r=null,n=me)):(r=null,n=me)):(r=null,n=me)):(r=null,n=me)):(r=null,n=me)):(r=null,n=me),r!==null&&(r=function(Gt,Ui){A=i.substring(n+5,Gt)}(J,r[0])),r===null&&(n=J),r}function nn(){var r,o,a,f,p;return p=n,r=S(),r!==null?(o=S(),o!==null?(a=S(),a!==null?(f=S(),f!==null?r=[r,o,a,f]:(r=null,n=p)):(r=null,n=p)):(r=null,n=p)):(r=null,n=p),r}function Kd(){var r,o,a;return a=n,r=nn(),r!==null?(o=nn(),o!==null?r=[r,o]:(r=null,n=a)):(r=null,n=a),r}function Qd(){var r,o,a,f;return f=n,r=nn(),r!==null?(o=nn(),o!==null?(a=nn(),a!==null?r=[r,o,a]:(r=null,n=f)):(r=null,n=f)):(r=null,n=f),r}function vg(){var r,o,a,f,p,m,y;if(p=n,m=n,r=ue(),r===null&&(r=Yn()),r!==null){for(o=[],y=n,a=oe(),a!==null?(f=Pe(),f!==null?a=[a,f]:(a=null,n=y)):(a=null,n=y);a!==null;)o.push(a),y=n,a=oe(),a!==null?(f=Pe(),f!==null?a=[a,f]:(a=null,n=y)):(a=null,n=y);o!==null?r=[r,o]:(r=null,n=m)}else r=null,n=m;return r!==null&&(r=function(x){try{A=new Sr(A.uri,A.display_name,A.params)}catch{A=-1}}()),r===null&&(n=p),r}function mg(){var r,o,a,f,p,m;if(p=n,r=Yd(),r!==null){for(o=[],m=n,a=oe(),a!==null?(f=iu(),f!==null?a=[a,f]:(a=null,n=m)):(a=null,n=m);a!==null;)o.push(a),m=n,a=oe(),a!==null?(f=iu(),f!==null?a=[a,f]:(a=null,n=m)):(a=null,n=m);o!==null?r=[r,o]:(r=null,n=p)}else r=null,n=p;return r}function Yd(){var r,o,a,f,p,m;return f=n,p=n,r=Z(),r!==null?(m=n,i.charCodeAt(n)===64?(o="@",n++):(o=null,c('"@"')),o!==null?(a=Z(),a!==null?o=[o,a]:(o=null,n=m)):(o=null,n=m),o=o!==null?o:"",o!==null?r=[r,o]:(r=null,n=p)):(r=null,n=p),r!==null&&(r=function(y){A.call_id=i.substring(n,y)}(f)),r===null&&(n=f),r}function iu(){var r;return r=Xd(),r===null&&(r=Jd(),r===null&&(r=Zd(),r===null&&(r=Pe()))),r}function Xd(){var r,o,a,f,p;return f=n,p=n,i.substr(n,6)==="to-tag"?(r="to-tag",n+=6):(r=null,c('"to-tag"')),r!==null?(o=ee(),o!==null?(a=O(),a!==null?r=[r,o,a]:(r=null,n=p)):(r=null,n=p)):(r=null,n=p),r!==null&&(r=function(m,y){A.to_tag=y}(f,r[2])),r===null&&(n=f),r}function Jd(){var r,o,a,f,p;return f=n,p=n,i.substr(n,8)==="from-tag"?(r="from-tag",n+=8):(r=null,c('"from-tag"')),r!==null?(o=ee(),o!==null?(a=O(),a!==null?r=[r,o,a]:(r=null,n=p)):(r=null,n=p)):(r=null,n=p),r!==null&&(r=function(m,y){A.from_tag=y}(f,r[2])),r===null&&(n=f),r}function Zd(){var r,o;return o=n,i.substr(n,10)==="early-only"?(r="early-only",n+=10):(r=null,c('"early-only"')),r!==null&&(r=function(a){A.early_only=!0}()),r===null&&(n=o),r}function gg(r){r.sort();for(var o=null,a=[],f=0;f<r.length;f++)r[f]!==o&&(a.push(r[f]),o=r[f]);return a}function yg(){for(var r=1,o=1,a=!1,f=0;f<Math.max(n,d);f++){var p=i.charAt(f);p===`
`?(a||r++,o=1,a=!1):p==="\r"||p==="\u2028"||p==="\u2029"?(r++,o=1,a=!0):(o++,a=!1)}return{line:r,column:o}}var eh=Wn(),Sr=lf(),A={},Sg=u[s]();if(Sg===null||n!==i.length){var su=Math.max(n,d),Tg=su<i.length?i.charAt(su):null,th=yg();return new this.SyntaxError(gg(h),Tg,su,th.line,th.column),-1}return A},toSource:function(){return this._source}};return t.SyntaxError=function(l,i,s,u,n){function d(h,c){var _,v;switch(h.length){case 0:_="end of input";break;case 1:_=h[0];break;default:_=h.slice(0,h.length-1).join(", ")+" or "+h[h.length-1]}return v=c?e(c):"end of input","Expected "+_+" but "+v+" found."}this.name="SyntaxError",this.expected=l,this.found=i,this.message=d(l,i),this.offset=s,this.line=u,this.column=n},t.SyntaxError.prototype=Error.prototype,t}()),Uu}var Lu,pp;function Wn(){if(pp)return Lu;pp=1;function e(c,_){var v;if(typeof Symbol>"u"||c[Symbol.iterator]==null){if(Array.isArray(c)||(v=t(c))||_){v&&(c=v);var g=0,S=function(){};return{s:S,n:function(){return g>=c.length?{done:!0}:{done:!1,value:c[g++]}},e:function(T){throw T},f:S}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var E=!0,R=!1,F;return{s:function(){v=c[Symbol.iterator]()},n:function(){var T=v.next();return E=T.done,T},e:function(T){R=!0,F=T},f:function(){try{!E&&v.return!=null&&v.return()}finally{if(R)throw F}}}}function t(c,_){if(c){if(typeof c=="string")return l(c,_);var v=Object.prototype.toString.call(c).slice(8,-1);if(v==="Object"&&c.constructor&&(v=c.constructor.name),v==="Map"||v==="Set")return Array.from(c);if(v==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(v))return l(c,_)}}function l(c,_){(_==null||_>c.length)&&(_=c.length);for(var v=0,g=new Array(_);v<_;v++)g[v]=c[v];return g}function i(c,_){if(!(c instanceof _))throw new TypeError("Cannot call a class as a function")}function s(c,_){for(var v=0;v<_.length;v++){var g=_[v];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(c,g.key,g)}}function u(c,_,v){return _&&s(c.prototype,_),v&&s(c,v),c}var n=Me,d=lt(),h=tn();return Lu=function(){u(c,null,[{key:"parse",value:function(v){if(v=h.parse(v,"SIP_URI"),v!==-1)return v}}]);function c(_,v,g,S){var E=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{},R=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{};if(i(this,c),!g)throw new TypeError('missing or invalid "host" parameter');this._parameters={},this._headers={},this._scheme=_||n.SIP,this._user=v,this._host=g,this._port=S;for(var F in E)Object.prototype.hasOwnProperty.call(E,F)&&this.setParam(F,E[F]);for(var C in R)Object.prototype.hasOwnProperty.call(R,C)&&this.setHeader(C,R[C])}return u(c,[{key:"setParam",value:function(v,g){v&&(this._parameters[v.toLowerCase()]=typeof g>"u"||g===null?null:g.toString())}},{key:"getParam",value:function(v){if(v)return this._parameters[v.toLowerCase()]}},{key:"hasParam",value:function(v){if(v)return this._parameters.hasOwnProperty(v.toLowerCase())&&!0||!1}},{key:"deleteParam",value:function(v){if(v=v.toLowerCase(),this._parameters.hasOwnProperty(v)){var g=this._parameters[v];return delete this._parameters[v],g}}},{key:"clearParams",value:function(){this._parameters={}}},{key:"setHeader",value:function(v,g){this._headers[d.headerize(v)]=Array.isArray(g)?g:[g]}},{key:"getHeader",value:function(v){if(v)return this._headers[d.headerize(v)]}},{key:"hasHeader",value:function(v){if(v)return this._headers.hasOwnProperty(d.headerize(v))&&!0||!1}},{key:"deleteHeader",value:function(v){if(v=d.headerize(v),this._headers.hasOwnProperty(v)){var g=this._headers[v];return delete this._headers[v],g}}},{key:"clearHeaders",value:function(){this._headers={}}},{key:"clone",value:function(){return new c(this._scheme,this._user,this._host,this._port,JSON.parse(JSON.stringify(this._parameters)),JSON.parse(JSON.stringify(this._headers)))}},{key:"toString",value:function(){var v=[],g="".concat(this._scheme,":");this._user&&(g+="".concat(d.escapeUser(this._user),"@")),g+=this._host,(this._port||this._port===0)&&(g+=":".concat(this._port));for(var S in this._parameters)Object.prototype.hasOwnProperty.call(this._parameters,S)&&(g+=";".concat(S),this._parameters[S]!==null&&(g+="=".concat(this._parameters[S])));for(var E in this._headers)if(Object.prototype.hasOwnProperty.call(this._headers,E)){var R=e(this._headers[E]),F;try{for(R.s();!(F=R.n()).done;){var C=F.value;v.push("".concat(E,"=").concat(C))}}catch(T){R.e(T)}finally{R.f()}}return v.length>0&&(g+="?".concat(v.join("&"))),g}},{key:"toAor",value:function(v){var g="".concat(this._scheme,":");return this._user&&(g+="".concat(d.escapeUser(this._user),"@")),g+=this._host,v&&(this._port||this._port===0)&&(g+=":".concat(this._port)),g}},{key:"scheme",get:function(){return this._scheme},set:function(v){this._scheme=v.toLowerCase()}},{key:"user",get:function(){return this._user},set:function(v){this._user=v}},{key:"host",get:function(){return this._host},set:function(v){this._host=v.toLowerCase()}},{key:"port",get:function(){return this._port},set:function(v){this._port=v===0?v:parseInt(v,10)||null}}]),c}(),Lu}var _p;function lt(){if(_p)return Oe;_p=1;function e(_){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?e=function(g){return typeof g}:e=function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g},e(_)}function t(_,v){var g;if(typeof Symbol>"u"||_[Symbol.iterator]==null){if(Array.isArray(_)||(g=l(_))||v){g&&(_=g);var S=0,E=function(){};return{s:E,n:function(){return S>=_.length?{done:!0}:{done:!1,value:_[S++]}},e:function(w){throw w},f:E}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var R=!0,F=!1,C;return{s:function(){g=_[Symbol.iterator]()},n:function(){var w=g.next();return R=w.done,w},e:function(w){F=!0,C=w},f:function(){try{!R&&g.return!=null&&g.return()}finally{if(F)throw C}}}}function l(_,v){if(_){if(typeof _=="string")return i(_,v);var g=Object.prototype.toString.call(_).slice(8,-1);if(g==="Object"&&_.constructor&&(g=_.constructor.name),g==="Map"||g==="Set")return Array.from(_);if(g==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(g))return i(_,v)}}function i(_,v){(v==null||v>_.length)&&(v=_.length);for(var g=0,S=new Array(v);g<v;g++)S[g]=_[g];return S}var s=Me,u=Wn(),n=tn();Oe.str_utf8_length=function(_){return unescape(encodeURIComponent(_)).length};var d=Oe.isFunction=function(_){return _!==void 0?Object.prototype.toString.call(_)==="[object Function]":!1};Oe.isString=function(_){return _!==void 0?Object.prototype.toString.call(_)==="[object String]":!1},Oe.isDecimal=function(_){return!isNaN(_)&&parseFloat(_)===parseInt(_,10)},Oe.isEmpty=function(_){return _===null||_===""||_===void 0||Array.isArray(_)&&_.length===0||typeof _=="number"&&isNaN(_)},Oe.hasMethods=function(_){for(var v=arguments.length,g=new Array(v>1?v-1:0),S=1;S<v;S++)g[S-1]=arguments[S];for(var E=0,R=g;E<R.length;E++){var F=R[E];if(d(_[F]))return!1}return!0};var h=Oe.createRandomToken=function(_){var v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:32,g,S,E="";for(g=0;g<_;g++)S=Math.random()*v|0,E+=S.toString(v);return E};Oe.newTag=function(){return h(10)},Oe.newUUID=function(){var _="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(v){var g=Math.random()*16|0,S=v==="x"?g:g&3|8;return S.toString(16)});return _},Oe.hostType=function(_){if(_){if(_=n.parse(_,"host"),_!==-1)return _.host_type}else return};var c=Oe.escapeUser=function(_){return encodeURIComponent(decodeURIComponent(_)).replace(/%3A/ig,":").replace(/%2B/ig,"+").replace(/%3F/ig,"?").replace(/%2F/ig,"/")};return Oe.normalizeTarget=function(_,v){if(_){if(_ instanceof u)return _;if(typeof _=="string"){var g=_.split("@"),S,E;switch(g.length){case 1:if(!v)return;S=_,E=v;break;case 2:S=g[0],E=g[1];break;default:S=g.slice(0,g.length-1).join("@"),E=g[g.length-1]}S=S.replace(/^(sips?|tel):/i,""),/^[-.()]*\+?[0-9\-.()]+$/.test(S)&&(S=S.replace(/[-.()]/g,"")),_="".concat(s.SIP,":").concat(c(S),"@").concat(E);var R;return(R=u.parse(_))?R:void 0}else return}else return},Oe.headerize=function(_){var v={"Call-Id":"Call-ID",Cseq:"CSeq","Www-Authenticate":"WWW-Authenticate"},g=_.toLowerCase().replace(/_/g,"-").split("-"),S="",E=g.length,R;for(R=0;R<E;R++)R!==0&&(S+="-"),S+=g[R].charAt(0).toUpperCase()+g[R].substring(1);return v[S]&&(S=v[S]),S},Oe.sipErrorCause=function(_){for(var v in s.SIP_ERROR_CAUSES)if(s.SIP_ERROR_CAUSES[v].indexOf(_)!==-1)return s.causes[v];return s.causes.SIP_FAILURE_CODE},Oe.getRandomTestNetIP=function(){function _(v,g){return Math.floor(Math.random()*(g-v+1)+v)}return"192.0.2.".concat(_(1,254))},Oe.calculateMD5=function(_){function v(re,te){return re<<te|re>>>32-te}function g(re,te){var le=re&2147483648,ue=te&2147483648,ke=re&1073741824,je=te&1073741824,Te=(re&1073741823)+(te&1073741823);return ke&je?Te^2147483648^le^ue:ke|je?Te&1073741824?Te^3221225472^le^ue:Te^1073741824^le^ue:Te^le^ue}function S(re,te,le){return re&te|~re&le}function E(re,te,le){return re&le|te&~le}function R(re,te,le){return re^te^le}function F(re,te,le){return te^(re|~le)}function C(re,te,le,ue,ke,je,Te){return re=g(re,g(g(S(te,le,ue),ke),Te)),g(v(re,je),te)}function T(re,te,le,ue,ke,je,Te){return re=g(re,g(g(E(te,le,ue),ke),Te)),g(v(re,je),te)}function w(re,te,le,ue,ke,je,Te){return re=g(re,g(g(R(te,le,ue),ke),Te)),g(v(re,je),te)}function I(re,te,le,ue,ke,je,Te){return re=g(re,g(g(F(te,le,ue),ke),Te)),g(v(re,je),te)}function L(re){for(var te,le=re.length,ue=le+8,ke=(ue-ue%64)/64,je=(ke+1)*16,Te=new Array(je-1),Qn=0,dt=0;dt<le;)te=(dt-dt%4)/4,Qn=dt%4*8,Te[te]=Te[te]|re.charCodeAt(dt)<<Qn,dt++;return te=(dt-dt%4)/4,Qn=dt%4*8,Te[te]=Te[te]|128<<Qn,Te[je-2]=le<<3,Te[je-1]=le>>>29,Te}function q(re){var te="",le="",ue,ke;for(ke=0;ke<=3;ke++)ue=re>>>ke*8&255,le="0".concat(ue.toString(16)),te=te+le.substr(le.length-2,2);return te}function B(re){for(var te="",le=0;le<re.length;le++){var ue=re.charCodeAt(le);ue<128?te+=String.fromCharCode(ue):ue>127&&ue<2048?(te+=String.fromCharCode(ue>>6|192),te+=String.fromCharCode(ue&63|128)):(te+=String.fromCharCode(ue>>12|224),te+=String.fromCharCode(ue>>6&63|128),te+=String.fromCharCode(ue&63|128))}return te}var k=[],b,X,Ie,$e,ie,H,z,O,$,G=7,Z=12,ne=17,fe=22,ee=5,It=9,it=14,kt=20,Je=4,ae=11,oe=16,Kn=23,gn=6,yn=10,Sn=15,Tn=21;for(_=B(_),k=L(_),H=1732584193,z=4023233417,O=2562383102,$=271733878,b=0;b<k.length;b+=16)X=H,Ie=z,$e=O,ie=$,H=C(H,z,O,$,k[b+0],G,3614090360),$=C($,H,z,O,k[b+1],Z,3905402710),O=C(O,$,H,z,k[b+2],ne,606105819),z=C(z,O,$,H,k[b+3],fe,3250441966),H=C(H,z,O,$,k[b+4],G,4118548399),$=C($,H,z,O,k[b+5],Z,1200080426),O=C(O,$,H,z,k[b+6],ne,2821735955),z=C(z,O,$,H,k[b+7],fe,4249261313),H=C(H,z,O,$,k[b+8],G,1770035416),$=C($,H,z,O,k[b+9],Z,2336552879),O=C(O,$,H,z,k[b+10],ne,4294925233),z=C(z,O,$,H,k[b+11],fe,2304563134),H=C(H,z,O,$,k[b+12],G,1804603682),$=C($,H,z,O,k[b+13],Z,4254626195),O=C(O,$,H,z,k[b+14],ne,2792965006),z=C(z,O,$,H,k[b+15],fe,1236535329),H=T(H,z,O,$,k[b+1],ee,4129170786),$=T($,H,z,O,k[b+6],It,3225465664),O=T(O,$,H,z,k[b+11],it,643717713),z=T(z,O,$,H,k[b+0],kt,3921069994),H=T(H,z,O,$,k[b+5],ee,3593408605),$=T($,H,z,O,k[b+10],It,38016083),O=T(O,$,H,z,k[b+15],it,3634488961),z=T(z,O,$,H,k[b+4],kt,3889429448),H=T(H,z,O,$,k[b+9],ee,568446438),$=T($,H,z,O,k[b+14],It,3275163606),O=T(O,$,H,z,k[b+3],it,4107603335),z=T(z,O,$,H,k[b+8],kt,1163531501),H=T(H,z,O,$,k[b+13],ee,2850285829),$=T($,H,z,O,k[b+2],It,4243563512),O=T(O,$,H,z,k[b+7],it,1735328473),z=T(z,O,$,H,k[b+12],kt,2368359562),H=w(H,z,O,$,k[b+5],Je,4294588738),$=w($,H,z,O,k[b+8],ae,2272392833),O=w(O,$,H,z,k[b+11],oe,1839030562),z=w(z,O,$,H,k[b+14],Kn,4259657740),H=w(H,z,O,$,k[b+1],Je,2763975236),$=w($,H,z,O,k[b+4],ae,1272893353),O=w(O,$,H,z,k[b+7],oe,4139469664),z=w(z,O,$,H,k[b+10],Kn,3200236656),H=w(H,z,O,$,k[b+13],Je,681279174),$=w($,H,z,O,k[b+0],ae,3936430074),O=w(O,$,H,z,k[b+3],oe,3572445317),z=w(z,O,$,H,k[b+6],Kn,76029189),H=w(H,z,O,$,k[b+9],Je,3654602809),$=w($,H,z,O,k[b+12],ae,3873151461),O=w(O,$,H,z,k[b+15],oe,530742520),z=w(z,O,$,H,k[b+2],Kn,3299628645),H=I(H,z,O,$,k[b+0],gn,4096336452),$=I($,H,z,O,k[b+7],yn,1126891415),O=I(O,$,H,z,k[b+14],Sn,2878612391),z=I(z,O,$,H,k[b+5],Tn,4237533241),H=I(H,z,O,$,k[b+12],gn,1700485571),$=I($,H,z,O,k[b+3],yn,2399980690),O=I(O,$,H,z,k[b+10],Sn,4293915773),z=I(z,O,$,H,k[b+1],Tn,2240044497),H=I(H,z,O,$,k[b+8],gn,1873313359),$=I($,H,z,O,k[b+15],yn,4264355552),O=I(O,$,H,z,k[b+6],Sn,2734768916),z=I(z,O,$,H,k[b+13],Tn,1309151649),H=I(H,z,O,$,k[b+4],gn,4149444226),$=I($,H,z,O,k[b+11],yn,3174756917),O=I(O,$,H,z,k[b+2],Sn,718787259),z=I(z,O,$,H,k[b+9],Tn,3951481745),H=g(H,X),z=g(z,Ie),O=g(O,$e),$=g($,ie);var yr=q(H)+q(z)+q(O)+q($);return yr.toLowerCase()},Oe.closeMediaStream=function(_){if(_)try{var v;if(_.getTracks){v=_.getTracks();var g=t(v),S;try{for(g.s();!(S=g.n()).done;){var E=S.value;E.stop()}}catch(L){g.e(L)}finally{g.f()}}else{v=_.getAudioTracks();var R=t(v),F;try{for(R.s();!(F=R.n()).done;){var C=F.value;C.stop()}}catch(L){R.e(L)}finally{R.f()}v=_.getVideoTracks();var T=t(v),w;try{for(T.s();!(w=T.n()).done;){var I=w.value;I.stop()}}catch(L){T.e(L)}finally{T.f()}}}catch{(typeof _.stop=="function"||e(_.stop)==="object")&&_.stop()}},Oe.cloneArray=function(_){return _&&_.slice()||[]},Oe.cloneObject=function(_){var v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return _&&Object.assign({},_)||v},Oe}var sf={exports:{}},qr=typeof Reflect=="object"?Reflect:null,vp=qr&&typeof qr.apply=="function"?qr.apply:function(t,l,i){return Function.prototype.apply.call(t,l,i)},ws;qr&&typeof qr.ownKeys=="function"?ws=qr.ownKeys:Object.getOwnPropertySymbols?ws=function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:ws=function(t){return Object.getOwnPropertyNames(t)};function oS(e){console&&console.warn&&console.warn(e)}var ym=Number.isNaN||function(t){return t!==t};function pe(){pe.init.call(this)}sf.exports=pe;sf.exports.once=fS;pe.EventEmitter=pe;pe.prototype._events=void 0;pe.prototype._eventsCount=0;pe.prototype._maxListeners=void 0;var mp=10;function Uo(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}Object.defineProperty(pe,"defaultMaxListeners",{enumerable:!0,get:function(){return mp},set:function(e){if(typeof e!="number"||e<0||ym(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");mp=e}});pe.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};pe.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||ym(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this};function Sm(e){return e._maxListeners===void 0?pe.defaultMaxListeners:e._maxListeners}pe.prototype.getMaxListeners=function(){return Sm(this)};pe.prototype.emit=function(t){for(var l=[],i=1;i<arguments.length;i++)l.push(arguments[i]);var s=t==="error",u=this._events;if(u!==void 0)s=s&&u.error===void 0;else if(!s)return!1;if(s){var n;if(l.length>0&&(n=l[0]),n instanceof Error)throw n;var d=new Error("Unhandled error."+(n?" ("+n.message+")":""));throw d.context=n,d}var h=u[t];if(h===void 0)return!1;if(typeof h=="function")vp(h,this,l);else for(var c=h.length,_=Rm(h,c),i=0;i<c;++i)vp(_[i],this,l);return!0};function Tm(e,t,l,i){var s,u,n;if(Uo(l),u=e._events,u===void 0?(u=e._events=Object.create(null),e._eventsCount=0):(u.newListener!==void 0&&(e.emit("newListener",t,l.listener?l.listener:l),u=e._events),n=u[t]),n===void 0)n=u[t]=l,++e._eventsCount;else if(typeof n=="function"?n=u[t]=i?[l,n]:[n,l]:i?n.unshift(l):n.push(l),s=Sm(e),s>0&&n.length>s&&!n.warned){n.warned=!0;var d=new Error("Possible EventEmitter memory leak detected. "+n.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");d.name="MaxListenersExceededWarning",d.emitter=e,d.type=t,d.count=n.length,oS(d)}return e}pe.prototype.addListener=function(t,l){return Tm(this,t,l,!1)};pe.prototype.on=pe.prototype.addListener;pe.prototype.prependListener=function(t,l){return Tm(this,t,l,!0)};function uS(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function Cm(e,t,l){var i={fired:!1,wrapFn:void 0,target:e,type:t,listener:l},s=uS.bind(i);return s.listener=l,i.wrapFn=s,s}pe.prototype.once=function(t,l){return Uo(l),this.on(t,Cm(this,t,l)),this};pe.prototype.prependOnceListener=function(t,l){return Uo(l),this.prependListener(t,Cm(this,t,l)),this};pe.prototype.removeListener=function(t,l){var i,s,u,n,d;if(Uo(l),s=this._events,s===void 0)return this;if(i=s[t],i===void 0)return this;if(i===l||i.listener===l)--this._eventsCount===0?this._events=Object.create(null):(delete s[t],s.removeListener&&this.emit("removeListener",t,i.listener||l));else if(typeof i!="function"){for(u=-1,n=i.length-1;n>=0;n--)if(i[n]===l||i[n].listener===l){d=i[n].listener,u=n;break}if(u<0)return this;u===0?i.shift():aS(i,u),i.length===1&&(s[t]=i[0]),s.removeListener!==void 0&&this.emit("removeListener",t,d||l)}return this};pe.prototype.off=pe.prototype.removeListener;pe.prototype.removeAllListeners=function(t){var l,i,s;if(i=this._events,i===void 0)return this;if(i.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):i[t]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete i[t]),this;if(arguments.length===0){var u=Object.keys(i),n;for(s=0;s<u.length;++s)n=u[s],n!=="removeListener"&&this.removeAllListeners(n);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(l=i[t],typeof l=="function")this.removeListener(t,l);else if(l!==void 0)for(s=l.length-1;s>=0;s--)this.removeListener(t,l[s]);return this};function Em(e,t,l){var i=e._events;if(i===void 0)return[];var s=i[t];return s===void 0?[]:typeof s=="function"?l?[s.listener||s]:[s]:l?cS(s):Rm(s,s.length)}pe.prototype.listeners=function(t){return Em(this,t,!0)};pe.prototype.rawListeners=function(t){return Em(this,t,!1)};pe.listenerCount=function(e,t){return typeof e.listenerCount=="function"?e.listenerCount(t):wm.call(e,t)};pe.prototype.listenerCount=wm;function wm(e){var t=this._events;if(t!==void 0){var l=t[e];if(typeof l=="function")return 1;if(l!==void 0)return l.length}return 0}pe.prototype.eventNames=function(){return this._eventsCount>0?ws(this._events):[]};function Rm(e,t){for(var l=new Array(t),i=0;i<t;++i)l[i]=e[i];return l}function aS(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function cS(e){for(var t=new Array(e.length),l=0;l<t.length;++l)t[l]=e[l].listener||e[l];return t}function fS(e,t){return new Promise(function(l,i){function s(n){e.removeListener(t,u),i(n)}function u(){typeof e.removeListener=="function"&&e.removeListener("error",s),l([].slice.call(arguments))}Am(e,t,u,{once:!0}),t!=="error"&&dS(e,s,{once:!0})})}function dS(e,t,l){typeof e.on=="function"&&Am(e,"error",t,l)}function Am(e,t,l,i){if(typeof e.on=="function")i.once?e.once(t,l):e.on(t,l);else if(typeof e.addEventListener=="function")e.addEventListener(t,function s(u){i.once&&e.removeEventListener(t,s),l(u)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}var Gn=sf.exports,Ya={exports:{}},Mu,gp;function hS(){if(gp)return Mu;gp=1;var e=1e3,t=e*60,l=t*60,i=l*24,s=i*7,u=i*365.25;Mu=function(_,v){v=v||{};var g=typeof _;if(g==="string"&&_.length>0)return n(_);if(g==="number"&&isFinite(_))return v.long?h(_):d(_);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(_))};function n(_){if(_=String(_),!(_.length>100)){var v=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(_);if(v){var g=parseFloat(v[1]),S=(v[2]||"ms").toLowerCase();switch(S){case"years":case"year":case"yrs":case"yr":case"y":return g*u;case"weeks":case"week":case"w":return g*s;case"days":case"day":case"d":return g*i;case"hours":case"hour":case"hrs":case"hr":case"h":return g*l;case"minutes":case"minute":case"mins":case"min":case"m":return g*t;case"seconds":case"second":case"secs":case"sec":case"s":return g*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return g;default:return}}}}function d(_){var v=Math.abs(_);return v>=i?Math.round(_/i)+"d":v>=l?Math.round(_/l)+"h":v>=t?Math.round(_/t)+"m":v>=e?Math.round(_/e)+"s":_+"ms"}function h(_){var v=Math.abs(_);return v>=i?c(_,v,i,"day"):v>=l?c(_,v,l,"hour"):v>=t?c(_,v,t,"minute"):v>=e?c(_,v,e,"second"):_+" ms"}function c(_,v,g,S){var E=v>=g*1.5;return Math.round(_/g)+" "+S+(E?"s":"")}return Mu}function pS(e){l.debug=l,l.default=l,l.coerce=h,l.disable=n,l.enable=s,l.enabled=d,l.humanize=hS(),l.destroy=c,Object.keys(e).forEach(_=>{l[_]=e[_]}),l.names=[],l.skips=[],l.formatters={};function t(_){let v=0;for(let g=0;g<_.length;g++)v=(v<<5)-v+_.charCodeAt(g),v|=0;return l.colors[Math.abs(v)%l.colors.length]}l.selectColor=t;function l(_){let v,g=null,S,E;function R(...F){if(!R.enabled)return;const C=R,T=Number(new Date),w=T-(v||T);C.diff=w,C.prev=v,C.curr=T,v=T,F[0]=l.coerce(F[0]),typeof F[0]!="string"&&F.unshift("%O");let I=0;F[0]=F[0].replace(/%([a-zA-Z%])/g,(q,B)=>{if(q==="%%")return"%";I++;const k=l.formatters[B];if(typeof k=="function"){const b=F[I];q=k.call(C,b),F.splice(I,1),I--}return q}),l.formatArgs.call(C,F),(C.log||l.log).apply(C,F)}return R.namespace=_,R.useColors=l.useColors(),R.color=l.selectColor(_),R.extend=i,R.destroy=l.destroy,Object.defineProperty(R,"enabled",{enumerable:!0,configurable:!1,get:()=>g!==null?g:(S!==l.namespaces&&(S=l.namespaces,E=l.enabled(_)),E),set:F=>{g=F}}),typeof l.init=="function"&&l.init(R),R}function i(_,v){const g=l(this.namespace+(typeof v>"u"?":":v)+_);return g.log=this.log,g}function s(_){l.save(_),l.namespaces=_,l.names=[],l.skips=[];const v=(typeof _=="string"?_:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(const g of v)g[0]==="-"?l.skips.push(g.slice(1)):l.names.push(g)}function u(_,v){let g=0,S=0,E=-1,R=0;for(;g<_.length;)if(S<v.length&&(v[S]===_[g]||v[S]==="*"))v[S]==="*"?(E=S,R=g,S++):(g++,S++);else if(E!==-1)S=E+1,R++,g=R;else return!1;for(;S<v.length&&v[S]==="*";)S++;return S===v.length}function n(){const _=[...l.names,...l.skips.map(v=>"-"+v)].join(",");return l.enable(""),_}function d(_){for(const v of l.skips)if(u(_,v))return!1;for(const v of l.names)if(u(_,v))return!0;return!1}function h(_){return _ instanceof Error?_.stack||_.message:_}function c(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return l.enable(l.load()),l}var _S=pS;(function(e,t){var l={};t.formatArgs=s,t.save=u,t.load=n,t.useColors=i,t.storage=d(),t.destroy=(()=>{let c=!1;return()=>{c||(c=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function i(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let c;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(c=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(c[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function s(c){if(c[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+c[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const _="color: "+this.color;c.splice(1,0,_,"color: inherit");let v=0,g=0;c[0].replace(/%[a-zA-Z%]/g,S=>{S!=="%%"&&(v++,S==="%c"&&(g=v))}),c.splice(g,0,_)}t.log=console.debug||console.log||(()=>{});function u(c){try{c?t.storage.setItem("debug",c):t.storage.removeItem("debug")}catch{}}function n(){let c;try{c=t.storage.getItem("debug")||t.storage.getItem("DEBUG")}catch{}return!c&&typeof process<"u"&&"env"in process&&(c=l.DEBUG),c}function d(){try{return localStorage}catch{}}e.exports=_S(t);const{formatters:h}=e.exports;h.j=function(c){try{return JSON.stringify(c)}catch(_){return"[UnexpectedJSONParseError]: "+_.message}}})(Ya,Ya.exports);var of=Ya.exports;function vS(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mS(e,t){for(var l=0;l<t.length;l++){var i=t[l];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function gS(e,t,l){return t&&mS(e.prototype,t),e}var Er=of,wr="JsSIP",Ve=function(){function e(t){vS(this,e),t?(this._debug=Er.default("".concat(wr,":").concat(t)),this._warn=Er.default("".concat(wr,":WARN:").concat(t)),this._error=Er.default("".concat(wr,":ERROR:").concat(t))):(this._debug=Er.default(wr),this._warn=Er.default("".concat(wr,":WARN")),this._error=Er.default("".concat(wr,":ERROR"))),this._debug.log=console.info.bind(console),this._warn.log=console.warn.bind(console),this._error.log=console.error.bind(console)}return gS(e,[{key:"debug",get:function(){return this._debug}},{key:"warn",get:function(){return this._warn}},{key:"error",get:function(){return this._error}}]),e}(),Wt={},Im={},km={exports:{}},yp=km.exports={v:[{name:"version",reg:/^(\d*)$/}],o:[{name:"origin",reg:/^(\S*) (\d*) (\d*) (\S*) IP(\d) (\S*)/,names:["username","sessionId","sessionVersion","netType","ipVer","address"],format:"%s %s %d %s IP%d %s"}],s:[{name:"name"}],i:[{name:"description"}],u:[{name:"uri"}],e:[{name:"email"}],p:[{name:"phone"}],z:[{name:"timezones"}],r:[{name:"repeats"}],t:[{name:"timing",reg:/^(\d*) (\d*)/,names:["start","stop"],format:"%d %d"}],c:[{name:"connection",reg:/^IN IP(\d) (\S*)/,names:["version","ip"],format:"IN IP%d %s"}],b:[{push:"bandwidth",reg:/^(TIAS|AS|CT|RR|RS):(\d*)/,names:["type","limit"],format:"%s:%s"}],m:[{reg:/^(\w*) (\d*) ([\w/]*)(?: (.*))?/,names:["type","port","protocol","payloads"],format:"%s %d %s %s"}],a:[{push:"rtp",reg:/^rtpmap:(\d*) ([\w\-.]*)(?:\s*\/(\d*)(?:\s*\/(\S*))?)?/,names:["payload","codec","rate","encoding"],format:function(e){return e.encoding?"rtpmap:%d %s/%s/%s":e.rate?"rtpmap:%d %s/%s":"rtpmap:%d %s"}},{push:"fmtp",reg:/^fmtp:(\d*) ([\S| ]*)/,names:["payload","config"],format:"fmtp:%d %s"},{name:"control",reg:/^control:(.*)/,format:"control:%s"},{name:"rtcp",reg:/^rtcp:(\d*)(?: (\S*) IP(\d) (\S*))?/,names:["port","netType","ipVer","address"],format:function(e){return e.address!=null?"rtcp:%d %s IP%d %s":"rtcp:%d"}},{push:"rtcpFbTrrInt",reg:/^rtcp-fb:(\*|\d*) trr-int (\d*)/,names:["payload","value"],format:"rtcp-fb:%s trr-int %d"},{push:"rtcpFb",reg:/^rtcp-fb:(\*|\d*) ([\w-_]*)(?: ([\w-_]*))?/,names:["payload","type","subtype"],format:function(e){return e.subtype!=null?"rtcp-fb:%s %s %s":"rtcp-fb:%s %s"}},{push:"ext",reg:/^extmap:(\d+)(?:\/(\w+))?(?: (urn:ietf:params:rtp-hdrext:encrypt))? (\S*)(?: (\S*))?/,names:["value","direction","encrypt-uri","uri","config"],format:function(e){return"extmap:%d"+(e.direction?"/%s":"%v")+(e["encrypt-uri"]?" %s":"%v")+" %s"+(e.config?" %s":"")}},{name:"extmapAllowMixed",reg:/^(extmap-allow-mixed)/},{push:"crypto",reg:/^crypto:(\d*) ([\w_]*) (\S*)(?: (\S*))?/,names:["id","suite","config","sessionConfig"],format:function(e){return e.sessionConfig!=null?"crypto:%d %s %s %s":"crypto:%d %s %s"}},{name:"setup",reg:/^setup:(\w*)/,format:"setup:%s"},{name:"connectionType",reg:/^connection:(new|existing)/,format:"connection:%s"},{name:"mid",reg:/^mid:([^\s]*)/,format:"mid:%s"},{name:"msid",reg:/^msid:(.*)/,format:"msid:%s"},{name:"ptime",reg:/^ptime:(\d*(?:\.\d*)*)/,format:"ptime:%d"},{name:"maxptime",reg:/^maxptime:(\d*(?:\.\d*)*)/,format:"maxptime:%d"},{name:"direction",reg:/^(sendrecv|recvonly|sendonly|inactive)/},{name:"icelite",reg:/^(ice-lite)/},{name:"iceUfrag",reg:/^ice-ufrag:(\S*)/,format:"ice-ufrag:%s"},{name:"icePwd",reg:/^ice-pwd:(\S*)/,format:"ice-pwd:%s"},{name:"fingerprint",reg:/^fingerprint:(\S*) (\S*)/,names:["type","hash"],format:"fingerprint:%s %s"},{push:"candidates",reg:/^candidate:(\S*) (\d*) (\S*) (\d*) (\S*) (\d*) typ (\S*)(?: raddr (\S*) rport (\d*))?(?: tcptype (\S*))?(?: generation (\d*))?(?: network-id (\d*))?(?: network-cost (\d*))?/,names:["foundation","component","transport","priority","ip","port","type","raddr","rport","tcptype","generation","network-id","network-cost"],format:function(e){var t="candidate:%s %d %s %d %s %d typ %s";return t+=e.raddr!=null?" raddr %s rport %d":"%v%v",t+=e.tcptype!=null?" tcptype %s":"%v",e.generation!=null&&(t+=" generation %d"),t+=e["network-id"]!=null?" network-id %d":"%v",t+=e["network-cost"]!=null?" network-cost %d":"%v",t}},{name:"endOfCandidates",reg:/^(end-of-candidates)/},{name:"remoteCandidates",reg:/^remote-candidates:(.*)/,format:"remote-candidates:%s"},{name:"iceOptions",reg:/^ice-options:(\S*)/,format:"ice-options:%s"},{push:"ssrcs",reg:/^ssrc:(\d*) ([\w_-]*)(?::(.*))?/,names:["id","attribute","value"],format:function(e){var t="ssrc:%d";return e.attribute!=null&&(t+=" %s",e.value!=null&&(t+=":%s")),t}},{push:"ssrcGroups",reg:/^ssrc-group:([\x21\x23\x24\x25\x26\x27\x2A\x2B\x2D\x2E\w]*) (.*)/,names:["semantics","ssrcs"],format:"ssrc-group:%s %s"},{name:"msidSemantic",reg:/^msid-semantic:\s?(\w*) (\S*)/,names:["semantic","token"],format:"msid-semantic: %s %s"},{push:"groups",reg:/^group:(\w*) (.*)/,names:["type","mids"],format:"group:%s %s"},{name:"rtcpMux",reg:/^(rtcp-mux)/},{name:"rtcpRsize",reg:/^(rtcp-rsize)/},{name:"sctpmap",reg:/^sctpmap:([\w_/]*) (\S*)(?: (\S*))?/,names:["sctpmapNumber","app","maxMessageSize"],format:function(e){return e.maxMessageSize!=null?"sctpmap:%s %s %s":"sctpmap:%s %s"}},{name:"xGoogleFlag",reg:/^x-google-flag:([^\s]*)/,format:"x-google-flag:%s"},{push:"rids",reg:/^rid:([\d\w]+) (\w+)(?: ([\S| ]*))?/,names:["id","direction","params"],format:function(e){return e.params?"rid:%s %s %s":"rid:%s %s"}},{push:"imageattrs",reg:new RegExp("^imageattr:(\\d+|\\*)[\\s\\t]+(send|recv)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*)(?:[\\s\\t]+(recv|send)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*))?"),names:["pt","dir1","attrs1","dir2","attrs2"],format:function(e){return"imageattr:%s %s %s"+(e.dir2?" %s %s":"")}},{name:"simulcast",reg:new RegExp("^simulcast:(send|recv) ([a-zA-Z0-9\\-_~;,]+)(?:\\s?(send|recv) ([a-zA-Z0-9\\-_~;,]+))?$"),names:["dir1","list1","dir2","list2"],format:function(e){return"simulcast:%s %s"+(e.dir2?" %s %s":"")}},{name:"simulcast_03",reg:/^simulcast:[\s\t]+([\S+\s\t]+)$/,names:["value"],format:"simulcast: %s"},{name:"framerate",reg:/^framerate:(\d+(?:$|\.\d+))/,format:"framerate:%s"},{name:"sourceFilter",reg:/^source-filter: *(excl|incl) (\S*) (IP4|IP6|\*) (\S*) (.*)/,names:["filterMode","netType","addressTypes","destAddress","srcList"],format:"source-filter: %s %s %s %s %s"},{name:"bundleOnly",reg:/^(bundle-only)/},{name:"label",reg:/^label:(.+)/,format:"label:%s"},{name:"sctpPort",reg:/^sctp-port:(\d+)$/,format:"sctp-port:%s"},{name:"maxMessageSize",reg:/^max-message-size:(\d+)$/,format:"max-message-size:%s"},{push:"tsRefClocks",reg:/^ts-refclk:([^\s=]*)(?:=(\S*))?/,names:["clksrc","clksrcExt"],format:function(e){return"ts-refclk:%s"+(e.clksrcExt!=null?"=%s":"")}},{name:"mediaClk",reg:/^mediaclk:(?:id=(\S*))? *([^\s=]*)(?:=(\S*))?(?: *rate=(\d+)\/(\d+))?/,names:["id","mediaClockName","mediaClockValue","rateNumerator","rateDenominator"],format:function(e){var t="mediaclk:";return t+=e.id!=null?"id=%s %s":"%v%s",t+=e.mediaClockValue!=null?"=%s":"",t+=e.rateNumerator!=null?" rate=%s":"",t+=e.rateDenominator!=null?"/%s":"",t}},{name:"keywords",reg:/^keywds:(.+)$/,format:"keywds:%s"},{name:"content",reg:/^content:(.+)/,format:"content:%s"},{name:"bfcpFloorCtrl",reg:/^floorctrl:(c-only|s-only|c-s)/,format:"floorctrl:%s"},{name:"bfcpConfId",reg:/^confid:(\d+)/,format:"confid:%s"},{name:"bfcpUserId",reg:/^userid:(\d+)/,format:"userid:%s"},{name:"bfcpFloorId",reg:/^floorid:(.+) (?:m-stream|mstrm):(.+)/,names:["id","mStream"],format:"floorid:%s mstrm:%s"},{push:"invalid",names:["value"]}]};Object.keys(yp).forEach(function(e){var t=yp[e];t.forEach(function(l){l.reg||(l.reg=/(.*)/),l.format||(l.format="%s")})});var uf=km.exports;(function(e){var t=function(d){return String(Number(d))===d?Number(d):d},l=function(d,h,c,_){if(_&&!c)h[_]=t(d[1]);else for(var v=0;v<c.length;v+=1)d[v+1]!=null&&(h[c[v]]=t(d[v+1]))},i=function(d,h,c){var _=d.name&&d.names;d.push&&!h[d.push]?h[d.push]=[]:_&&!h[d.name]&&(h[d.name]={});var v=d.push?{}:_?h[d.name]:h;l(c.match(d.reg),v,d.names,d.name),d.push&&h[d.push].push(v)},s=uf,u=RegExp.prototype.test.bind(/^([a-z])=(.*)/);e.parse=function(d){var h={},c=[],_=h;return d.split(/(\r\n|\r|\n)/).filter(u).forEach(function(v){var g=v[0],S=v.slice(2);g==="m"&&(c.push({rtp:[],fmtp:[]}),_=c[c.length-1]);for(var E=0;E<(s[g]||[]).length;E+=1){var R=s[g][E];if(R.reg.test(S))return i(R,_,S)}}),h.media=c,h};var n=function(d,h){var c=h.split(/=(.+)/,2);return c.length===2?d[c[0]]=t(c[1]):c.length===1&&h.length>1&&(d[c[0]]=void 0),d};e.parseParams=function(d){return d.split(/;\s?/).reduce(n,{})},e.parseFmtpConfig=e.parseParams,e.parsePayloads=function(d){return d.toString().split(" ").map(Number)},e.parseRemoteCandidates=function(d){for(var h=[],c=d.split(" ").map(t),_=0;_<c.length;_+=3)h.push({component:c[_],ip:c[_+1],port:c[_+2]});return h},e.parseImageAttributes=function(d){return d.split(" ").map(function(h){return h.substring(1,h.length-1).split(",").reduce(n,{})})},e.parseSimulcastStreamList=function(d){return d.split(";").map(function(h){return h.split(",").map(function(c){var _,v=!1;return c[0]!=="~"?_=t(c):(_=t(c.substring(1,c.length)),v=!0),{scid:_,paused:v}})})}})(Im);var Fu=uf,yS=/%[sdv%]/g,SS=function(e){var t=1,l=arguments,i=l.length;return e.replace(yS,function(s){if(t>=i)return s;var u=l[t];switch(t+=1,s){case"%%":return"%";case"%s":return String(u);case"%d":return Number(u);case"%v":return""}})},yl=function(e,t,l){var i=t.format instanceof Function?t.format(t.push?l:l[t.name]):t.format,s=[e+"="+i];if(t.names)for(var u=0;u<t.names.length;u+=1){var n=t.names[u];t.name?s.push(l[t.name][n]):s.push(l[t.names[u]])}else s.push(l[t.name]);return SS.apply(null,s)},TS=["v","o","s","i","u","e","p","c","b","t","r","z","a"],CS=["i","c","b","a"],ES=function(e,t){t=t||{},e.version==null&&(e.version=0),e.name==null&&(e.name=" "),e.media.forEach(function(u){u.payloads==null&&(u.payloads="")});var l=t.outerOrder||TS,i=t.innerOrder||CS,s=[];return l.forEach(function(u){Fu[u].forEach(function(n){n.name in e&&e[n.name]!=null?s.push(yl(u,n,e)):n.push in e&&e[n.push]!=null&&e[n.push].forEach(function(d){s.push(yl(u,n,d))})})}),e.media.forEach(function(u){s.push(yl("m",Fu.m[0],u)),i.forEach(function(n){Fu[n].forEach(function(d){d.name in u&&u[d.name]!=null?s.push(yl(n,d,u)):d.push in u&&u[d.push]!=null&&u[d.push].forEach(function(h){s.push(yl(n,d,h))})})})}),s.join(`\r
`)+`\r
`},gr=Im,wS=ES,RS=uf;Wt.grammar=RS;Wt.write=wS;Wt.parse=gr.parse;Wt.parseParams=gr.parseParams;Wt.parseFmtpConfig=gr.parseFmtpConfig;Wt.parsePayloads=gr.parsePayloads;Wt.parseRemoteCandidates=gr.parseRemoteCandidates;Wt.parseImageAttributes=gr.parseImageAttributes;Wt.parseSimulcastStreamList=gr.parseSimulcastStreamList;function Rs(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Rs=function(l){return typeof l}:Rs=function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},Rs(e)}function af(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Xa(e,t)}function Xa(e,t){return Xa=Object.setPrototypeOf||function(i,s){return i.__proto__=s,i},Xa(e,t)}function cf(e){var t=kS();return function(){var i=io(e),s;if(t){var u=io(this).constructor;s=Reflect.construct(i,arguments,u)}else s=i.apply(this,arguments);return AS(this,s)}}function AS(e,t){return t&&(Rs(t)==="object"||typeof t=="function")?t:IS(e)}function IS(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kS(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function io(e){return io=Object.setPrototypeOf?Object.getPrototypeOf:function(l){return l.__proto__||Object.getPrototypeOf(l)},io(e)}function Pt(e,t){var l;if(typeof Symbol>"u"||e[Symbol.iterator]==null){if(Array.isArray(e)||(l=xS(e))||t){l&&(e=l);var i=0,s=function(){};return{s,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(c){throw c},f:s}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var u=!0,n=!1,d;return{s:function(){l=e[Symbol.iterator]()},n:function(){var c=l.next();return u=c.done,c},e:function(c){n=!0,d=c},f:function(){try{!u&&l.return!=null&&l.return()}finally{if(n)throw d}}}}function xS(e,t){if(e){if(typeof e=="string")return Sp(e,t);var l=Object.prototype.toString.call(e).slice(8,-1);if(l==="Object"&&e.constructor&&(l=e.constructor.name),l==="Map"||l==="Set")return Array.from(e);if(l==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(l))return Sp(e,t)}}function Sp(e,t){(t==null||t>e.length)&&(t=e.length);for(var l=0,i=new Array(t);l<t;l++)i[l]=e[l];return i}function di(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function OS(e,t){for(var l=0;l<t.length;l++){var i=t[l];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Lo(e,t,l){return t&&OS(e.prototype,t),e}var xm=Wt,NS=Ve,Qe=Me,Ue=lt(),Tp=lf(),bS=tn(),Hu=new NS("SIPMessage"),Om=function(){function e(t,l,i,s,u,n){if(di(this,e),!t||!l||!i)return null;s=s||{},this.ua=i,this.headers={},this.method=t,this.ruri=l,this.body=n,this.extraHeaders=Ue.cloneArray(u),this.ua.configuration.extra_headers&&(this.extraHeaders=this.extraHeaders.concat(this.ua.configuration.extra_headers)),s.route_set?this.setHeader("route",s.route_set):i.configuration.use_preloaded_route&&this.setHeader("route","<".concat(i.transport.sip_uri,";lr>")),this.setHeader("via",""),this.setHeader("max-forwards",Qe.MAX_FORWARDS);var d=s.to_uri||l,h=s.to_tag?{tag:s.to_tag}:null,c=typeof s.to_display_name<"u"?s.to_display_name:null;this.to=new Tp(d,c,h),this.setHeader("to",this.to.toString());var _=s.from_uri||i.configuration.uri,v={tag:s.from_tag||Ue.newTag()},g;typeof s.from_display_name<"u"?g=s.from_display_name:i.configuration.display_name?g=i.configuration.display_name:g=null,this.from=new Tp(_,g,v),this.setHeader("from",this.from.toString());var S=s.call_id||i.configuration.jssip_id+Ue.createRandomToken(15);this.call_id=S,this.setHeader("call-id",S);var E=s.cseq||Math.floor(Math.random()*1e4);this.cseq=E,this.setHeader("cseq","".concat(E," ").concat(t))}return Lo(e,[{key:"setHeader",value:function(l,i){for(var s=new RegExp("^\\s*".concat(l,"\\s*:"),"i"),u=0;u<this.extraHeaders.length;u++)s.test(this.extraHeaders[u])&&this.extraHeaders.splice(u,1);this.headers[Ue.headerize(l)]=Array.isArray(i)?i:[i]}},{key:"getHeader",value:function(l){var i=this.headers[Ue.headerize(l)];if(i){if(i[0])return i[0]}else{var s=new RegExp("^\\s*".concat(l,"\\s*:"),"i"),u=Pt(this.extraHeaders),n;try{for(u.s();!(n=u.n()).done;){var d=n.value;if(s.test(d))return d.substring(d.indexOf(":")+1).trim()}}catch(h){u.e(h)}finally{u.f()}}}},{key:"getHeaders",value:function(l){var i=this.headers[Ue.headerize(l)],s=[];if(i){var u=Pt(i),n;try{for(u.s();!(n=u.n()).done;){var d=n.value;s.push(d)}}catch(g){u.e(g)}finally{u.f()}return s}else{var h=new RegExp("^\\s*".concat(l,"\\s*:"),"i"),c=Pt(this.extraHeaders),_;try{for(c.s();!(_=c.n()).done;){var v=_.value;h.test(v)&&s.push(v.substring(v.indexOf(":")+1).trim())}}catch(g){c.e(g)}finally{c.f()}return s}}},{key:"hasHeader",value:function(l){if(this.headers[Ue.headerize(l)])return!0;var i=new RegExp("^\\s*".concat(l,"\\s*:"),"i"),s=Pt(this.extraHeaders),u;try{for(s.s();!(u=s.n()).done;){var n=u.value;if(i.test(n))return!0}}catch(d){s.e(d)}finally{s.f()}return!1}},{key:"parseSDP",value:function(l){return!l&&this.sdp?this.sdp:(this.sdp=xm.parse(this.body||""),this.sdp)}},{key:"toString",value:function(){var l="".concat(this.method," ").concat(this.ruri,` SIP/2.0\r
`);for(var i in this.headers)if(Object.prototype.hasOwnProperty.call(this.headers,i)){var s=Pt(this.headers[i]),u;try{for(s.s();!(u=s.n()).done;){var n=u.value;l+="".concat(i,": ").concat(n,`\r
`)}}catch(S){s.e(S)}finally{s.f()}}var d=Pt(this.extraHeaders),h;try{for(d.s();!(h=d.n()).done;){var c=h.value;l+="".concat(c.trim(),`\r
`)}}catch(S){d.e(S)}finally{d.f()}var _=[];switch(this.method){case Qe.REGISTER:_.push("path","gruu");break;case Qe.INVITE:this.ua.configuration.session_timers&&_.push("timer"),(this.ua.contact.pub_gruu||this.ua.contact.temp_gruu)&&_.push("gruu"),_.push("ice","replaces");break;case Qe.UPDATE:this.ua.configuration.session_timers&&_.push("timer"),_.push("ice");break}_.push("outbound");var v=this.ua.configuration.user_agent||Qe.USER_AGENT;if(l+="Allow: ".concat(Qe.ALLOWED_METHODS,`\r
`),l+="Supported: ".concat(_,`\r
`),l+="User-Agent: ".concat(v,`\r
`),this.body){var g=Ue.str_utf8_length(this.body);l+="Content-Length: ".concat(g,`\r
\r
`),l+=this.body}else l+=`Content-Length: 0\r
\r
`;return l}},{key:"clone",value:function(){var l=new e(this.method,this.ruri,this.ua);return Object.keys(this.headers).forEach(function(i){l.headers[i]=this.headers[i].slice()},this),l.body=this.body,l.extraHeaders=Ue.cloneArray(this.extraHeaders),l.to=this.to,l.from=this.from,l.call_id=this.call_id,l.cseq=this.cseq,l}}]),e}(),PS=function(e){af(l,e);var t=cf(l);function l(i,s,u,n,d){var h;return di(this,l),h=t.call(this,Qe.INVITE,i,s,u,n,d),h.transaction=null,h}return Lo(l,[{key:"cancel",value:function(s){this.transaction.cancel(s)}},{key:"clone",value:function(){var s=new l(this.ruri,this.ua);return Object.keys(this.headers).forEach(function(u){s.headers[u]=this.headers[u].slice()},this),s.body=this.body,s.extraHeaders=Ue.cloneArray(this.extraHeaders),s.to=this.to,s.from=this.from,s.call_id=this.call_id,s.cseq=this.cseq,s.transaction=this.transaction,s}}]),l}(Om),Nm=function(){function e(){di(this,e),this.data=null,this.headers=null,this.method=null,this.via=null,this.via_branch=null,this.call_id=null,this.cseq=null,this.from=null,this.from_tag=null,this.to=null,this.to_tag=null,this.body=null,this.sdp=null}return Lo(e,[{key:"addHeader",value:function(l,i){var s={raw:i};l=Ue.headerize(l),this.headers[l]?this.headers[l].push(s):this.headers[l]=[s]}},{key:"getHeader",value:function(l){var i=this.headers[Ue.headerize(l)];if(i){if(i[0])return i[0].raw}else return}},{key:"getHeaders",value:function(l){var i=this.headers[Ue.headerize(l)],s=[];if(!i)return[];var u=Pt(i),n;try{for(u.s();!(n=u.n()).done;){var d=n.value;s.push(d.raw)}}catch(h){u.e(h)}finally{u.f()}return s}},{key:"hasHeader",value:function(l){return!!this.headers[Ue.headerize(l)]}},{key:"parseHeader",value:function(l){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(l=Ue.headerize(l),this.headers[l]){if(i>=this.headers[l].length){Hu.debug('not so many "'.concat(l,'" headers present'));return}}else{Hu.debug('header "'.concat(l,'" not present'));return}var s=this.headers[l][i],u=s.raw;if(s.parsed)return s.parsed;var n=bS.parse(u,l.replace(/-/g,"_"));if(n===-1){this.headers[l].splice(i,1),Hu.debug('error parsing "'.concat(l,'" header field with value "').concat(u,'"'));return}else return s.parsed=n,n}},{key:"s",value:function(l,i){return this.parseHeader(l,i)}},{key:"setHeader",value:function(l,i){var s={raw:i};this.headers[Ue.headerize(l)]=[s]}},{key:"parseSDP",value:function(l){return!l&&this.sdp?this.sdp:(this.sdp=xm.parse(this.body||""),this.sdp)}},{key:"toString",value:function(){return this.data}}]),e}(),DS=function(e){af(l,e);var t=cf(l);function l(i){var s;return di(this,l),s=t.call(this),s.ua=i,s.headers={},s.ruri=null,s.transport=null,s.server_transaction=null,s}return Lo(l,[{key:"reply",value:function(s,u,n,d,h,c){var _=[],v=this.getHeader("To");if(s=s||null,u=u||null,!s||s<100||s>699)throw new TypeError("Invalid status_code: ".concat(s));if(u&&typeof u!="string"&&!(u instanceof String))throw new TypeError("Invalid reason_phrase: ".concat(u));u=u||Qe.REASON_PHRASE[s]||"",n=Ue.cloneArray(n),this.ua.configuration.extra_headers&&(n=n.concat(this.ua.configuration.extra_headers));var g="SIP/2.0 ".concat(s," ").concat(u,`\r
`);if(this.method===Qe.INVITE&&s>100&&s<=200){var S=this.getHeaders("record-route"),E=Pt(S),R;try{for(E.s();!(R=E.n()).done;){var F=R.value;g+="Record-Route: ".concat(F,`\r
`)}}catch(b){E.e(b)}finally{E.f()}}var C=this.getHeaders("via"),T=Pt(C),w;try{for(T.s();!(w=T.n()).done;){var I=w.value;g+="Via: ".concat(I,`\r
`)}}catch(b){T.e(b)}finally{T.f()}!this.to_tag&&s>100?v+=";tag=".concat(Ue.newTag()):this.to_tag&&!this.s("to").hasParam("tag")&&(v+=";tag=".concat(this.to_tag)),g+="To: ".concat(v,`\r
`),g+="From: ".concat(this.getHeader("From"),`\r
`),g+="Call-ID: ".concat(this.call_id,`\r
`),g+="CSeq: ".concat(this.cseq," ").concat(this.method,`\r
`);var L=Pt(n),q;try{for(L.s();!(q=L.n()).done;){var B=q.value;g+="".concat(B.trim(),`\r
`)}}catch(b){L.e(b)}finally{L.f()}switch(this.method){case Qe.INVITE:this.ua.configuration.session_timers&&_.push("timer"),(this.ua.contact.pub_gruu||this.ua.contact.temp_gruu)&&_.push("gruu"),_.push("ice","replaces");break;case Qe.UPDATE:this.ua.configuration.session_timers&&_.push("timer"),d&&_.push("ice"),_.push("replaces")}if(_.push("outbound"),this.method===Qe.OPTIONS?(g+="Allow: ".concat(Qe.ALLOWED_METHODS,`\r
`),g+="Accept: ".concat(Qe.ACCEPTED_BODY_TYPES,`\r
`)):s===405?g+="Allow: ".concat(Qe.ALLOWED_METHODS,`\r
`):s===415&&(g+="Accept: ".concat(Qe.ACCEPTED_BODY_TYPES,`\r
`)),g+="Supported: ".concat(_,`\r
`),d){var k=Ue.str_utf8_length(d);g+=`Content-Type: application/sdp\r
`,g+="Content-Length: ".concat(k,`\r
\r
`),g+=d}else g+="Content-Length: ".concat(0,`\r
\r
`);this.server_transaction.receiveResponse(s,g,h,c)}},{key:"reply_sl",value:function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,n=this.getHeaders("via");if(!s||s<100||s>699)throw new TypeError("Invalid status_code: ".concat(s));if(u&&typeof u!="string"&&!(u instanceof String))throw new TypeError("Invalid reason_phrase: ".concat(u));u=u||Qe.REASON_PHRASE[s]||"";var d="SIP/2.0 ".concat(s," ").concat(u,`\r
`),h=Pt(n),c;try{for(h.s();!(c=h.n()).done;){var _=c.value;d+="Via: ".concat(_,`\r
`)}}catch(R){h.e(R)}finally{h.f()}var v=this.getHeader("To");if(!this.to_tag&&s>100?v+=";tag=".concat(Ue.newTag()):this.to_tag&&!this.s("to").hasParam("tag")&&(v+=";tag=".concat(this.to_tag)),d+="To: ".concat(v,`\r
`),d+="From: ".concat(this.getHeader("From"),`\r
`),d+="Call-ID: ".concat(this.call_id,`\r
`),d+="CSeq: ".concat(this.cseq," ").concat(this.method,`\r
`),this.ua.configuration.extra_headers){var g=Pt(this.ua.configuration.extra_headers),S;try{for(g.s();!(S=g.n()).done;){var E=S.value;d+="".concat(E.trim(),`\r
`)}}catch(R){g.e(R)}finally{g.f()}}d+="Content-Length: ".concat(0,`\r
\r
`),this.transport.send(d)}}]),l}(Nm),US=function(e){af(l,e);var t=cf(l);function l(){var i;return di(this,l),i=t.call(this),i.headers={},i.status_code=null,i.reason_phrase=null,i}return l}(Nm),mn={OutgoingRequest:Om,InitialOutgoingInviteRequest:PS,IncomingRequest:DS,IncomingResponse:US};function LS(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function MS(e,t){for(var l=0;l<t.length;l++){var i=t[l];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function FS(e,t,l){return t&&MS(e.prototype,t),e}var HS=Ve,rn=lt(),Ht=new HS("DigestAuthentication"),$S=function(){function e(t){LS(this,e),this._credentials=t,this._cnonce=null,this._nc=0,this._ncHex="00000000",this._algorithm=null,this._realm=null,this._nonce=null,this._opaque=null,this._stale=null,this._qop=null,this._method=null,this._uri=null,this._ha1=null,this._response=null}return FS(e,[{key:"get",value:function(l){switch(l){case"realm":return this._realm;case"ha1":return this._ha1;default:Ht.warn('get() | cannot get "%s" parameter',l);return}}},{key:"authenticate",value:function(l,i){var s=l.method,u=l.ruri,n=l.body,d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(this._algorithm=i.algorithm,this._realm=i.realm,this._nonce=i.nonce,this._opaque=i.opaque,this._stale=i.stale,this._algorithm){if(this._algorithm!=="MD5")return Ht.warn('authenticate() | challenge with Digest algorithm different than "MD5", authentication aborted'),!1}else this._algorithm="MD5";if(!this._nonce)return Ht.warn("authenticate() | challenge without Digest nonce, authentication aborted"),!1;if(!this._realm)return Ht.warn("authenticate() | challenge without Digest realm, authentication aborted"),!1;if(!this._credentials.password){if(!this._credentials.ha1)return Ht.warn("authenticate() | no plain SIP password nor ha1 provided, authentication aborted"),!1;if(this._credentials.realm!==this._realm)return Ht.warn('authenticate() | no plain SIP password, and stored `realm` does not match the given `realm`, cannot authenticate [stored:"%s", given:"%s"]',this._credentials.realm,this._realm),!1}if(i.qop)if(i.qop.indexOf("auth-int")>-1)this._qop="auth-int";else if(i.qop.indexOf("auth")>-1)this._qop="auth";else return Ht.warn('authenticate() | challenge without Digest qop different than "auth" or "auth-int", authentication aborted'),!1;else this._qop=null;this._method=s,this._uri=u,this._cnonce=d||rn.createRandomToken(12),this._nc+=1;var h=Number(this._nc).toString(16);this._ncHex="00000000".substr(0,8-h.length)+h,this._nc===4294967296&&(this._nc=1,this._ncHex="00000001"),this._credentials.password?this._ha1=rn.calculateMD5("".concat(this._credentials.username,":").concat(this._realm,":").concat(this._credentials.password)):this._ha1=this._credentials.ha1;var c,_;return this._qop==="auth"?(c="".concat(this._method,":").concat(this._uri),_=rn.calculateMD5(c),Ht.debug('authenticate() | using qop=auth [a2:"%s"]',c),this._response=rn.calculateMD5("".concat(this._ha1,":").concat(this._nonce,":").concat(this._ncHex,":").concat(this._cnonce,":auth:").concat(_))):this._qop==="auth-int"?(c="".concat(this._method,":").concat(this._uri,":").concat(rn.calculateMD5(n||"")),_=rn.calculateMD5(c),Ht.debug('authenticate() | using qop=auth-int [a2:"%s"]',c),this._response=rn.calculateMD5("".concat(this._ha1,":").concat(this._nonce,":").concat(this._ncHex,":").concat(this._cnonce,":auth-int:").concat(_))):this._qop===null&&(c="".concat(this._method,":").concat(this._uri),_=rn.calculateMD5(c),Ht.debug('authenticate() | using qop=null [a2:"%s"]',c),this._response=rn.calculateMD5("".concat(this._ha1,":").concat(this._nonce,":").concat(_))),Ht.debug("authenticate() | response generated"),!0}},{key:"toString",value:function(){var l=[];if(!this._response)throw new Error("response field does not exist, cannot generate Authorization header");return l.push("algorithm=".concat(this._algorithm)),l.push('username="'.concat(this._credentials.username,'"')),l.push('realm="'.concat(this._realm,'"')),l.push('nonce="'.concat(this._nonce,'"')),l.push('uri="'.concat(this._uri,'"')),l.push('response="'.concat(this._response,'"')),this._opaque&&l.push('opaque="'.concat(this._opaque,'"')),this._qop&&(l.push("qop=".concat(this._qop)),l.push('cnonce="'.concat(this._cnonce,'"')),l.push("nc=".concat(this._ncHex))),"Digest ".concat(l.join(", "))}}]),e}(),ln=500,jS=4e3,zS=5e3,bm={T1:ln,T2:jS,TIMER_B:64*ln,TIMER_D:0*ln,TIMER_F:64*ln,TIMER_H:64*ln,TIMER_I:0*ln,TIMER_J:0*ln,TIMER_K:0*zS,TIMER_L:64*ln,TIMER_M:64*ln,PROVISIONAL_RESPONSE_INTERVAL:6e4};function As(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?As=function(l){return typeof l}:As=function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},As(e)}function hi(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function BS(e,t){for(var l=0;l<t.length;l++){var i=t[l];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function pi(e,t,l){return t&&BS(e.prototype,t),e}function _i(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ja(e,t)}function Ja(e,t){return Ja=Object.setPrototypeOf||function(i,s){return i.__proto__=s,i},Ja(e,t)}function vi(e){var t=VS();return function(){var i=so(e),s;if(t){var u=so(this).constructor;s=Reflect.construct(i,arguments,u)}else s=i.apply(this,arguments);return qS(this,s)}}function qS(e,t){return t&&(As(t)==="object"||typeof t=="function")?t:jn(e)}function jn(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function VS(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function so(e){return so=Object.setPrototypeOf?Object.getPrototypeOf:function(l){return l.__proto__||Object.getPrototypeOf(l)},so(e)}var mi=Gn.EventEmitter,gi=Ve,$l=Me,Cp=mn,en=bm,Ep=new gi("NonInviteClientTransaction"),Zi=new gi("InviteClientTransaction"),WS=new gi("AckClientTransaction"),wp=new gi("NonInviteServerTransaction"),es=new gi("InviteServerTransaction"),W={STATUS_TRYING:1,STATUS_PROCEEDING:2,STATUS_CALLING:3,STATUS_ACCEPTED:4,STATUS_COMPLETED:5,STATUS_TERMINATED:6,STATUS_CONFIRMED:7,NON_INVITE_CLIENT:"nict",NON_INVITE_SERVER:"nist",INVITE_CLIENT:"ict",INVITE_SERVER:"ist"},GS=function(e){_i(l,e);var t=vi(l);function l(i,s,u,n){var d;hi(this,l),d=t.call(this),d.type=W.NON_INVITE_CLIENT,d.id="z9hG4bK".concat(Math.floor(Math.random()*1e7)),d.ua=i,d.transport=s,d.request=u,d.eventHandlers=n;var h="SIP/2.0/".concat(s.via_transport);return h+=" ".concat(i.configuration.via_host,";branch=").concat(d.id),d.request.setHeader("via",h),d.ua.newTransaction(jn(d)),d}return pi(l,[{key:"stateChanged",value:function(s){this.state=s,this.emit("stateChanged")}},{key:"send",value:function(){var s=this;this.stateChanged(W.STATUS_TRYING),this.F=setTimeout(function(){s.timer_F()},en.TIMER_F),this.transport.send(this.request)||this.onTransportError()}},{key:"onTransportError",value:function(){Ep.debug("transport error occurred, deleting transaction ".concat(this.id)),clearTimeout(this.F),clearTimeout(this.K),this.stateChanged(W.STATUS_TERMINATED),this.ua.destroyTransaction(this),this.eventHandlers.onTransportError()}},{key:"timer_F",value:function(){Ep.debug("Timer F expired for transaction ".concat(this.id)),this.stateChanged(W.STATUS_TERMINATED),this.ua.destroyTransaction(this),this.eventHandlers.onRequestTimeout()}},{key:"timer_K",value:function(){this.stateChanged(W.STATUS_TERMINATED),this.ua.destroyTransaction(this)}},{key:"receiveResponse",value:function(s){var u=this,n=s.status_code;if(n<200)switch(this.state){case W.STATUS_TRYING:case W.STATUS_PROCEEDING:this.stateChanged(W.STATUS_PROCEEDING),this.eventHandlers.onReceiveResponse(s);break}else switch(this.state){case W.STATUS_TRYING:case W.STATUS_PROCEEDING:this.stateChanged(W.STATUS_COMPLETED),clearTimeout(this.F),n===408?this.eventHandlers.onRequestTimeout():this.eventHandlers.onReceiveResponse(s),this.K=setTimeout(function(){u.timer_K()},en.TIMER_K);break;case W.STATUS_COMPLETED:break}}},{key:"C",get:function(){return W}}]),l}(mi),KS=function(e){_i(l,e);var t=vi(l);function l(i,s,u,n){var d;hi(this,l),d=t.call(this),d.type=W.INVITE_CLIENT,d.id="z9hG4bK".concat(Math.floor(Math.random()*1e7)),d.ua=i,d.transport=s,d.request=u,d.eventHandlers=n,u.transaction=jn(d);var h="SIP/2.0/".concat(s.via_transport);return h+=" ".concat(i.configuration.via_host,";branch=").concat(d.id),d.request.setHeader("via",h),d.ua.newTransaction(jn(d)),d}return pi(l,[{key:"stateChanged",value:function(s){this.state=s,this.emit("stateChanged")}},{key:"send",value:function(){var s=this;this.stateChanged(W.STATUS_CALLING),this.B=setTimeout(function(){s.timer_B()},en.TIMER_B),this.transport.send(this.request)||this.onTransportError()}},{key:"onTransportError",value:function(){clearTimeout(this.B),clearTimeout(this.D),clearTimeout(this.M),this.state!==W.STATUS_ACCEPTED&&(Zi.debug("transport error occurred, deleting transaction ".concat(this.id)),this.eventHandlers.onTransportError()),this.stateChanged(W.STATUS_TERMINATED),this.ua.destroyTransaction(this)}},{key:"timer_M",value:function(){Zi.debug("Timer M expired for transaction ".concat(this.id)),this.state===W.STATUS_ACCEPTED&&(clearTimeout(this.B),this.stateChanged(W.STATUS_TERMINATED),this.ua.destroyTransaction(this))}},{key:"timer_B",value:function(){Zi.debug("Timer B expired for transaction ".concat(this.id)),this.state===W.STATUS_CALLING&&(this.stateChanged(W.STATUS_TERMINATED),this.ua.destroyTransaction(this),this.eventHandlers.onRequestTimeout())}},{key:"timer_D",value:function(){Zi.debug("Timer D expired for transaction ".concat(this.id)),clearTimeout(this.B),this.stateChanged(W.STATUS_TERMINATED),this.ua.destroyTransaction(this)}},{key:"sendACK",value:function(s){var u=this,n=new Cp.OutgoingRequest($l.ACK,this.request.ruri,this.ua,{route_set:this.request.getHeaders("route"),call_id:this.request.getHeader("call-id"),cseq:this.request.cseq});n.setHeader("from",this.request.getHeader("from")),n.setHeader("via",this.request.getHeader("via")),n.setHeader("to",s.getHeader("to")),this.D=setTimeout(function(){u.timer_D()},en.TIMER_D),this.transport.send(n)}},{key:"cancel",value:function(s){if(this.state===W.STATUS_PROCEEDING){var u=new Cp.OutgoingRequest($l.CANCEL,this.request.ruri,this.ua,{route_set:this.request.getHeaders("route"),call_id:this.request.getHeader("call-id"),cseq:this.request.cseq});u.setHeader("from",this.request.getHeader("from")),u.setHeader("via",this.request.getHeader("via")),u.setHeader("to",this.request.getHeader("to")),s&&u.setHeader("reason",s),this.transport.send(u)}}},{key:"receiveResponse",value:function(s){var u=this,n=s.status_code;if(n>=100&&n<=199)switch(this.state){case W.STATUS_CALLING:this.stateChanged(W.STATUS_PROCEEDING),this.eventHandlers.onReceiveResponse(s);break;case W.STATUS_PROCEEDING:this.eventHandlers.onReceiveResponse(s);break}else if(n>=200&&n<=299)switch(this.state){case W.STATUS_CALLING:case W.STATUS_PROCEEDING:this.stateChanged(W.STATUS_ACCEPTED),this.M=setTimeout(function(){u.timer_M()},en.TIMER_M),this.eventHandlers.onReceiveResponse(s);break;case W.STATUS_ACCEPTED:this.eventHandlers.onReceiveResponse(s);break}else if(n>=300&&n<=699)switch(this.state){case W.STATUS_CALLING:case W.STATUS_PROCEEDING:this.stateChanged(W.STATUS_COMPLETED),this.sendACK(s),this.eventHandlers.onReceiveResponse(s);break;case W.STATUS_COMPLETED:this.sendACK(s);break}}},{key:"C",get:function(){return W}}]),l}(mi),QS=function(e){_i(l,e);var t=vi(l);function l(i,s,u,n){var d;hi(this,l),d=t.call(this),d.id="z9hG4bK".concat(Math.floor(Math.random()*1e7)),d.transport=s,d.request=u,d.eventHandlers=n;var h="SIP/2.0/".concat(s.via_transport);return h+=" ".concat(i.configuration.via_host,";branch=").concat(d.id),d.request.setHeader("via",h),d}return pi(l,[{key:"send",value:function(){this.transport.send(this.request)||this.onTransportError()}},{key:"onTransportError",value:function(){WS.debug("transport error occurred for transaction ".concat(this.id)),this.eventHandlers.onTransportError()}},{key:"C",get:function(){return W}}]),l}(mi),YS=function(e){_i(l,e);var t=vi(l);function l(i,s,u){var n;return hi(this,l),n=t.call(this),n.type=W.NON_INVITE_SERVER,n.id=u.via_branch,n.ua=i,n.transport=s,n.request=u,n.last_response="",u.server_transaction=jn(n),n.state=W.STATUS_TRYING,i.newTransaction(jn(n)),n}return pi(l,[{key:"stateChanged",value:function(s){this.state=s,this.emit("stateChanged")}},{key:"timer_J",value:function(){wp.debug("Timer J expired for transaction ".concat(this.id)),this.stateChanged(W.STATUS_TERMINATED),this.ua.destroyTransaction(this)}},{key:"onTransportError",value:function(){this.transportError||(this.transportError=!0,wp.debug("transport error occurred, deleting transaction ".concat(this.id)),clearTimeout(this.J),this.stateChanged(W.STATUS_TERMINATED),this.ua.destroyTransaction(this))}},{key:"receiveResponse",value:function(s,u,n,d){var h=this;if(s===100)switch(this.state){case W.STATUS_TRYING:this.stateChanged(W.STATUS_PROCEEDING),this.transport.send(u)||this.onTransportError();break;case W.STATUS_PROCEEDING:this.last_response=u,this.transport.send(u)?n&&n():(this.onTransportError(),d&&d());break}else if(s>=200&&s<=699)switch(this.state){case W.STATUS_TRYING:case W.STATUS_PROCEEDING:this.stateChanged(W.STATUS_COMPLETED),this.last_response=u,this.J=setTimeout(function(){h.timer_J()},en.TIMER_J),this.transport.send(u)?n&&n():(this.onTransportError(),d&&d());break;case W.STATUS_COMPLETED:break}}},{key:"C",get:function(){return W}}]),l}(mi),XS=function(e){_i(l,e);var t=vi(l);function l(i,s,u){var n;return hi(this,l),n=t.call(this),n.type=W.INVITE_SERVER,n.id=u.via_branch,n.ua=i,n.transport=s,n.request=u,n.last_response="",u.server_transaction=jn(n),n.state=W.STATUS_PROCEEDING,i.newTransaction(jn(n)),n.resendProvisionalTimer=null,u.reply(100),n}return pi(l,[{key:"stateChanged",value:function(s){this.state=s,this.emit("stateChanged")}},{key:"timer_H",value:function(){es.debug("Timer H expired for transaction ".concat(this.id)),this.state===W.STATUS_COMPLETED&&es.debug("ACK not received, dialog will be terminated"),this.stateChanged(W.STATUS_TERMINATED),this.ua.destroyTransaction(this)}},{key:"timer_I",value:function(){this.stateChanged(W.STATUS_TERMINATED),this.ua.destroyTransaction(this)}},{key:"timer_L",value:function(){es.debug("Timer L expired for transaction ".concat(this.id)),this.state===W.STATUS_ACCEPTED&&(this.stateChanged(W.STATUS_TERMINATED),this.ua.destroyTransaction(this))}},{key:"onTransportError",value:function(){this.transportError||(this.transportError=!0,es.debug("transport error occurred, deleting transaction ".concat(this.id)),this.resendProvisionalTimer!==null&&(clearInterval(this.resendProvisionalTimer),this.resendProvisionalTimer=null),clearTimeout(this.L),clearTimeout(this.H),clearTimeout(this.I),this.stateChanged(W.STATUS_TERMINATED),this.ua.destroyTransaction(this))}},{key:"resend_provisional",value:function(){this.transport.send(this.last_response)||this.onTransportError()}},{key:"receiveResponse",value:function(s,u,n,d){var h=this;if(s>=100&&s<=199)switch(this.state){case W.STATUS_PROCEEDING:this.transport.send(u)||this.onTransportError(),this.last_response=u;break}if(s>100&&s<=199&&this.state===W.STATUS_PROCEEDING)this.resendProvisionalTimer===null&&(this.resendProvisionalTimer=setInterval(function(){h.resend_provisional()},en.PROVISIONAL_RESPONSE_INTERVAL));else if(s>=200&&s<=299)switch(this.state){case W.STATUS_PROCEEDING:this.stateChanged(W.STATUS_ACCEPTED),this.last_response=u,this.L=setTimeout(function(){h.timer_L()},en.TIMER_L),this.resendProvisionalTimer!==null&&(clearInterval(this.resendProvisionalTimer),this.resendProvisionalTimer=null);case W.STATUS_ACCEPTED:this.transport.send(u)?n&&n():(this.onTransportError(),d&&d());break}else if(s>=300&&s<=699)switch(this.state){case W.STATUS_PROCEEDING:this.resendProvisionalTimer!==null&&(clearInterval(this.resendProvisionalTimer),this.resendProvisionalTimer=null),this.transport.send(u)?(this.stateChanged(W.STATUS_COMPLETED),this.H=setTimeout(function(){h.timer_H()},en.TIMER_H),n&&n()):(this.onTransportError(),d&&d());break}}},{key:"C",get:function(){return W}}]),l}(mi);function JS(e,t){var l=e._transactions,i;switch(t.method){case $l.INVITE:if(i=l.ist[t.via_branch],i){switch(i.state){case W.STATUS_PROCEEDING:i.transport.send(i.last_response);break;case W.STATUS_ACCEPTED:break}return!0}break;case $l.ACK:if(i=l.ist[t.via_branch],i){if(i.state===W.STATUS_ACCEPTED)return!1;if(i.state===W.STATUS_COMPLETED)return i.state=W.STATUS_CONFIRMED,i.I=setTimeout(function(){i.timer_I()},en.TIMER_I),!0}else return!1;break;case $l.CANCEL:return i=l.ist[t.via_branch],i?(t.reply_sl(200),i.state!==W.STATUS_PROCEEDING):(t.reply_sl(481),!0);default:if(i=l.nist[t.via_branch],i){switch(i.state){case W.STATUS_TRYING:break;case W.STATUS_PROCEEDING:case W.STATUS_COMPLETED:i.transport.send(i.last_response);break}return!0}break}}var yi={C:W,NonInviteClientTransaction:GS,InviteClientTransaction:KS,AckClientTransaction:QS,NonInviteServerTransaction:YS,InviteServerTransaction:XS,checkTransaction:JS};function ZS(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function eT(e,t){for(var l=0;l<t.length;l++){var i=t[l];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function tT(e,t,l){return t&&eT(e.prototype,t),e}var nT=Ve,Rp=Me,rT=$S,$u=yi,lT=new nT("RequestSender"),ju={onRequestTimeout:function(){},onTransportError:function(){},onReceiveResponse:function(){},onAuthenticated:function(){}},Si=function(){function e(t,l,i){ZS(this,e),this._ua=t,this._eventHandlers=i,this._method=l.method,this._request=l,this._auth=null,this._challenged=!1,this._staled=!1;for(var s in ju)Object.prototype.hasOwnProperty.call(ju,s)&&(this._eventHandlers[s]||(this._eventHandlers[s]=ju[s]));t.status===t.C.STATUS_USER_CLOSED&&(this._method!==Rp.BYE||this._method!==Rp.ACK)&&this._eventHandlers.onTransportError()}return tT(e,[{key:"send",value:function(){var l=this,i={onRequestTimeout:function(){l._eventHandlers.onRequestTimeout()},onTransportError:function(){l._eventHandlers.onTransportError()},onReceiveResponse:function(u){l._receiveResponse(u)}};switch(this._method){case"INVITE":this.clientTransaction=new $u.InviteClientTransaction(this._ua,this._ua.transport,this._request,i);break;case"ACK":this.clientTransaction=new $u.AckClientTransaction(this._ua,this._ua.transport,this._request,i);break;default:this.clientTransaction=new $u.NonInviteClientTransaction(this._ua,this._ua.transport,this._request,i)}this._ua._configuration.authorization_jwt&&this._request.setHeader("Authorization",this._ua._configuration.authorization_jwt),this.clientTransaction.send()}},{key:"_receiveResponse",value:function(l){var i,s,u=l.status_code;if((u===401||u===407)&&(this._ua.configuration.password!==null||this._ua.configuration.ha1!==null)){if(l.status_code===401?(i=l.parseHeader("www-authenticate"),s="authorization"):(i=l.parseHeader("proxy-authenticate"),s="proxy-authorization"),!i){lT.debug("".concat(l.status_code," with wrong or missing challenge, cannot authenticate")),this._eventHandlers.onReceiveResponse(l);return}if(!this._challenged||!this._staled&&i.stale===!0){if(this._auth||(this._auth=new rT({username:this._ua.configuration.authorization_user,password:this._ua.configuration.password,realm:this._ua.configuration.realm,ha1:this._ua.configuration.ha1})),!this._auth.authenticate(this._request,i)){this._eventHandlers.onReceiveResponse(l);return}this._challenged=!0,this._ua.set("realm",this._auth.get("realm")),this._ua.set("ha1",this._auth.get("ha1")),i.stale&&(this._staled=!0),this._request=this._request.clone(),this._request.cseq+=1,this._request.setHeader("cseq","".concat(this._request.cseq," ").concat(this._method)),this._request.setHeader(s,this._auth.toString()),this._eventHandlers.onAuthenticated(this._request),this.send()}else this._eventHandlers.onReceiveResponse(l)}else this._eventHandlers.onReceiveResponse(l)}}]),e}();function iT(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sT(e,t){for(var l=0;l<t.length;l++){var i=t[l];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function oT(e,t,l){return t&&sT(e.prototype,t),e}var uT=Ve,zu=lt(),Jn=Me,Ap=mn,Ip=Si,Sl=new uT("Registrator"),ts=10,aT=function(){function e(t,l){iT(this,e),this._reg_id=1,this._ua=t,this._transport=l,this._registrar=t.configuration.registrar_server,this._expires=t.configuration.register_expires,this._call_id=zu.createRandomToken(22),this._cseq=0,this._to_uri=t.configuration.uri,this._registrationTimer=null,this._registering=!1,this._registered=!1,this._contact=this._ua.contact.toString(),this._contact+=";+sip.ice",this._extraHeaders=[],this._extraContactParams="",this._sipInstance='"<urn:uuid:'.concat(this._ua.configuration.instance_id,'>"'),this._contact+=";reg-id=".concat(this._reg_id),this._contact+=";+sip.instance=".concat(this._sipInstance)}return oT(e,[{key:"setExtraHeaders",value:function(l){Array.isArray(l)||(l=[]),this._extraHeaders=l.slice()}},{key:"setExtraContactParams",value:function(l){l instanceof Object||(l={}),this._extraContactParams="";for(var i in l)if(Object.prototype.hasOwnProperty.call(l,i)){var s=l[i];this._extraContactParams+=";".concat(i),s&&(this._extraContactParams+="=".concat(s))}}},{key:"register",value:function(){var l=this;if(this._registering){Sl.debug("Register request in progress...");return}var i=this._extraHeaders.slice();i.push("Contact: ".concat(this._contact,";expires=").concat(this._expires).concat(this._extraContactParams)),i.push("Expires: ".concat(this._expires));var s=new Ap.OutgoingRequest(Jn.REGISTER,this._registrar,this._ua,{to_uri:this._to_uri,call_id:this._call_id,cseq:this._cseq+=1},i),u=new Ip(this._ua,s,{onRequestTimeout:function(){l._registrationFailure(null,Jn.causes.REQUEST_TIMEOUT)},onTransportError:function(){l._registrationFailure(null,Jn.causes.CONNECTION_ERROR)},onAuthenticated:function(){l._cseq+=1},onReceiveResponse:function(d){if(d.cseq===l._cseq)switch(l._registrationTimer!==null&&(clearTimeout(l._registrationTimer),l._registrationTimer=null),!0){case/^1[0-9]{2}$/.test(d.status_code):break;case/^2[0-9]{2}$/.test(d.status_code):{if(l._registering=!1,!d.hasHeader("Contact")){Sl.debug("no Contact header in response to REGISTER, response ignored");break}var h=d.headers.Contact.reduce(function(S,E){return S.concat(E.parsed)},[]),c=h.find(function(S){return l._sipInstance===S.getParam("+sip.instance")&&l._reg_id===parseInt(S.getParam("reg-id"))});if(c||(c=h.find(function(S){return S.uri.user===l._ua.contact.uri.user})),!c){Sl.debug("no Contact header pointing to us, response ignored");break}var _=c.getParam("expires");!_&&d.hasHeader("expires")&&(_=d.getHeader("expires")),_||(_=l._expires),_=Number(_),_<ts&&(_=ts);var v=_>64?_*1e3/2+Math.floor((_/2-32)*1e3*Math.random()):_*1e3-5e3;l._registrationTimer=setTimeout(function(){l._registrationTimer=null,l._ua.listeners("registrationExpiring").length===0?l.register():l._ua.emit("registrationExpiring")},v),c.hasParam("temp-gruu")&&(l._ua.contact.temp_gruu=c.getParam("temp-gruu").replace(/"/g,"")),c.hasParam("pub-gruu")&&(l._ua.contact.pub_gruu=c.getParam("pub-gruu").replace(/"/g,"")),l._registered||(l._registered=!0,l._ua.registered({response:d}));break}case/^423$/.test(d.status_code):{d.hasHeader("min-expires")?(l._expires=Number(d.getHeader("min-expires")),l._expires<ts&&(l._expires=ts),l.register()):(Sl.debug("423 response received for REGISTER without Min-Expires"),l._registrationFailure(d,Jn.causes.SIP_FAILURE_CODE));break}default:{var g=zu.sipErrorCause(d.status_code);l._registrationFailure(d,g)}}}});this._registering=!0,u.send()}},{key:"unregister",value:function(){var l=this,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!this._registered){Sl.debug("already unregistered");return}this._registered=!1,this._registrationTimer!==null&&(clearTimeout(this._registrationTimer),this._registrationTimer=null);var s=this._extraHeaders.slice();i.all?s.push("Contact: *".concat(this._extraContactParams)):s.push("Contact: ".concat(this._contact,";expires=0").concat(this._extraContactParams)),s.push("Expires: 0");var u=new Ap.OutgoingRequest(Jn.REGISTER,this._registrar,this._ua,{to_uri:this._to_uri,call_id:this._call_id,cseq:this._cseq+=1},s),n=new Ip(this._ua,u,{onRequestTimeout:function(){l._unregistered(null,Jn.causes.REQUEST_TIMEOUT)},onTransportError:function(){l._unregistered(null,Jn.causes.CONNECTION_ERROR)},onAuthenticated:function(){l._cseq+=1},onReceiveResponse:function(h){switch(!0){case/^1[0-9]{2}$/.test(h.status_code):break;case/^2[0-9]{2}$/.test(h.status_code):l._unregistered(h);break;default:{var c=zu.sipErrorCause(h.status_code);l._unregistered(h,c)}}}});n.send()}},{key:"close",value:function(){this._registered&&this.unregister()}},{key:"onTransportClosed",value:function(){this._registering=!1,this._registrationTimer!==null&&(clearTimeout(this._registrationTimer),this._registrationTimer=null),this._registered&&(this._registered=!1,this._ua.unregistered({}))}},{key:"_registrationFailure",value:function(l,i){this._registering=!1,this._ua.registrationFailed({response:l||null,cause:i}),this._registered&&(this._registered=!1,this._ua.unregistered({response:l||null,cause:i}))}},{key:"_unregistered",value:function(l,i){this._registering=!1,this._registered=!1,this._ua.unregistered({response:l||null,cause:i||null})}},{key:"registered",get:function(){return this._registered}}]),e}();function cT(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fT(e,t){for(var l=0;l<t.length;l++){var i=t[l];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function dT(e,t,l){return t&&fT(e.prototype,t),e}var Bu=Me,ns=yi,hT=Si,qu={onRequestTimeout:function(){},onTransportError:function(){},onSuccessResponse:function(){},onErrorResponse:function(){},onAuthenticated:function(){},onDialogError:function(){}},pT=function(){function e(t,l,i){cT(this,e),this._dialog=t,this._ua=t._ua,this._request=l,this._eventHandlers=i,this._reattempt=!1,this._reattemptTimer=null;for(var s in qu)Object.prototype.hasOwnProperty.call(qu,s)&&(this._eventHandlers[s]||(this._eventHandlers[s]=qu[s]))}return dT(e,[{key:"send",value:function(){var l=this,i=new hT(this._ua,this._request,{onRequestTimeout:function(){l._eventHandlers.onRequestTimeout()},onTransportError:function(){l._eventHandlers.onTransportError()},onAuthenticated:function(n){l._eventHandlers.onAuthenticated(n)},onReceiveResponse:function(n){l._receiveResponse(n)}});if(i.send(),(this._request.method===Bu.INVITE||this._request.method===Bu.UPDATE&&this._request.body)&&i.clientTransaction.state!==ns.C.STATUS_TERMINATED){this._dialog.uac_pending_reply=!0;var s=function u(){(i.clientTransaction.state===ns.C.STATUS_ACCEPTED||i.clientTransaction.state===ns.C.STATUS_COMPLETED||i.clientTransaction.state===ns.C.STATUS_TERMINATED)&&(i.clientTransaction.removeListener("stateChanged",u),l._dialog.uac_pending_reply=!1)};i.clientTransaction.on("stateChanged",s)}}},{key:"_receiveResponse",value:function(l){var i=this;l.status_code===408||l.status_code===481?this._eventHandlers.onDialogError(l):l.method===Bu.INVITE&&l.status_code===491?this._reattempt?l.status_code>=200&&l.status_code<300?this._eventHandlers.onSuccessResponse(l):l.status_code>=300&&this._eventHandlers.onErrorResponse(l):(this._request.cseq=this._dialog.local_seqnum+=1,this._reattemptTimer=setTimeout(function(){i._dialog.isTerminated()||(i._reattempt=!0,i.send())},1e3)):l.status_code>=200&&l.status_code<300?this._eventHandlers.onSuccessResponse(l):l.status_code>=300&&this._eventHandlers.onErrorResponse(l)}},{key:"request",get:function(){return this._request}}]),e}();function _T(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kp(e,t){for(var l=0;l<t.length;l++){var i=t[l];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function xp(e,t,l){return t&&kp(e.prototype,t),l&&kp(e,l),e}var vT=Ve,Op=mn,En=Me,Tl=yi,mT=pT,Vu=lt(),Wu=new vT("Dialog"),wn={STATUS_EARLY:1,STATUS_CONFIRMED:2,STATUS_TERMINATED:3},gT=function(){xp(e,null,[{key:"C",get:function(){return wn}}]);function e(t,l,i){var s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:wn.STATUS_CONFIRMED;if(_T(this,e),this._owner=t,this._ua=t._ua,this._uac_pending_reply=!1,this._uas_pending_reply=!1,!l.hasHeader("contact"))return{error:"unable to create a Dialog without Contact header field"};l instanceof Op.IncomingResponse&&(s=l.status_code<200?wn.STATUS_EARLY:wn.STATUS_CONFIRMED);var u=l.parseHeader("contact");i==="UAS"?(this._id={call_id:l.call_id,local_tag:l.to_tag,remote_tag:l.from_tag,toString:function(){return this.call_id+this.local_tag+this.remote_tag}},this._state=s,this._remote_seqnum=l.cseq,this._local_uri=l.parseHeader("to").uri,this._remote_uri=l.parseHeader("from").uri,this._remote_target=u.uri,this._route_set=l.getHeaders("record-route"),this._ack_seqnum=this._remote_seqnum):i==="UAC"&&(this._id={call_id:l.call_id,local_tag:l.from_tag,remote_tag:l.to_tag,toString:function(){return this.call_id+this.local_tag+this.remote_tag}},this._state=s,this._local_seqnum=l.cseq,this._local_uri=l.parseHeader("from").uri,this._remote_uri=l.parseHeader("to").uri,this._remote_target=u.uri,this._route_set=l.getHeaders("record-route").reverse(),this._ack_seqnum=null),this._ua.newDialog(this),Wu.debug("new ".concat(i," dialog created with status ").concat(this._state===wn.STATUS_EARLY?"EARLY":"CONFIRMED"))}return xp(e,[{key:"isTerminated",value:function(){return this._status===wn.STATUS_TERMINATED}},{key:"update",value:function(l,i){this._state=wn.STATUS_CONFIRMED,Wu.debug("dialog ".concat(this._id.toString(),"  changed to CONFIRMED state")),i==="UAC"&&(this._route_set=l.getHeaders("record-route").reverse())}},{key:"terminate",value:function(){Wu.debug("dialog ".concat(this._id.toString()," deleted")),this._ua.destroyDialog(this),this._state=wn.STATUS_TERMINATED}},{key:"sendRequest",value:function(l){var i=this,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},u=Vu.cloneArray(s.extraHeaders),n=Vu.cloneObject(s.eventHandlers),d=s.body||null,h=this._createRequest(l,u,d);n.onAuthenticated=function(){i._local_seqnum+=1};var c=new mT(this,h,n);return c.send(),h}},{key:"receiveRequest",value:function(l){this._checkInDialogRequest(l)&&(l.method===En.ACK&&this._ack_seqnum!==null?this._ack_seqnum=null:l.method===En.INVITE&&(this._ack_seqnum=l.cseq),this._owner.receiveRequest(l))}},{key:"_createRequest",value:function(l,i,s){i=Vu.cloneArray(i),this._local_seqnum||(this._local_seqnum=Math.floor(Math.random()*1e4));var u=l===En.CANCEL||l===En.ACK?this._local_seqnum:this._local_seqnum+=1,n=new Op.OutgoingRequest(l,this._remote_target,this._ua,{cseq:u,call_id:this._id.call_id,from_uri:this._local_uri,from_tag:this._id.local_tag,to_uri:this._remote_uri,to_tag:this._id.remote_tag,route_set:this._route_set},i,s);return n}},{key:"_checkInDialogRequest",value:function(l){var i=this;if(!this._remote_seqnum)this._remote_seqnum=l.cseq;else if(l.cseq<this._remote_seqnum)if(l.method===En.ACK){if(this._ack_seqnum===null||l.cseq!==this._ack_seqnum)return!1}else return l.reply(500),!1;else l.cseq>this._remote_seqnum&&(this._remote_seqnum=l.cseq);if(l.method===En.INVITE||l.method===En.UPDATE&&l.body){if(this._uac_pending_reply===!0)l.reply(491);else if(this._uas_pending_reply===!0){var s=(Math.random()*10|0)+1;return l.reply(500,null,["Retry-After:".concat(s)]),!1}else{this._uas_pending_reply=!0;var u=function n(){(l.server_transaction.state===Tl.C.STATUS_ACCEPTED||l.server_transaction.state===Tl.C.STATUS_COMPLETED||l.server_transaction.state===Tl.C.STATUS_TERMINATED)&&(l.server_transaction.removeListener("stateChanged",n),i._uas_pending_reply=!1)};l.server_transaction.on("stateChanged",u)}l.hasHeader("contact")&&l.server_transaction.on("stateChanged",function(){l.server_transaction.state===Tl.C.STATUS_ACCEPTED&&(i._remote_target=l.parseHeader("contact").uri)})}else l.method===En.NOTIFY&&l.hasHeader("contact")&&l.server_transaction.on("stateChanged",function(){l.server_transaction.state===Tl.C.STATUS_COMPLETED&&(i._remote_target=l.parseHeader("contact").uri)});return!0}},{key:"id",get:function(){return this._id}},{key:"local_seqnum",get:function(){return this._local_seqnum},set:function(l){this._local_seqnum=l}},{key:"owner",get:function(){return this._owner}},{key:"uac_pending_reply",get:function(){return this._uac_pending_reply},set:function(l){this._uac_pending_reply=l}},{key:"uas_pending_reply",get:function(){return this._uas_pending_reply}}]),e}(),ff={exports:{}};function Is(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Is=function(l){return typeof l}:Is=function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},Is(e)}function yT(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ST(e,t){for(var l=0;l<t.length;l++){var i=t[l];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function TT(e,t,l){return t&&ST(e.prototype,t),e}function CT(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Za(e,t)}function Za(e,t){return Za=Object.setPrototypeOf||function(i,s){return i.__proto__=s,i},Za(e,t)}function ET(e){var t=AT();return function(){var i=oo(e),s;if(t){var u=oo(this).constructor;s=Reflect.construct(i,arguments,u)}else s=i.apply(this,arguments);return wT(this,s)}}function wT(e,t){return t&&(Is(t)==="object"||typeof t=="function")?t:RT(e)}function RT(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function AT(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function oo(e){return oo=Object.setPrototypeOf?Object.getPrototypeOf:function(l){return l.__proto__||Object.getPrototypeOf(l)},oo(e)}var IT=Gn.EventEmitter,kT=Ve,xT=Me,OT=Vn,Np=lt(),NT=new kT("RTCSession:DTMF"),Pm={MIN_DURATION:70,MAX_DURATION:6e3,DEFAULT_DURATION:100,MIN_INTER_TONE_GAP:50,DEFAULT_INTER_TONE_GAP:500};ff.exports=function(e){CT(l,e);var t=ET(l);function l(i){var s;return yT(this,l),s=t.call(this),s._session=i,s._direction=null,s._tone=null,s._duration=null,s._request=null,s}return TT(l,[{key:"send",value:function(s){var u=this,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(s===void 0)throw new TypeError("Not enough arguments");if(this._direction="outgoing",this._session.status!==this._session.C.STATUS_CONFIRMED&&this._session.status!==this._session.C.STATUS_WAITING_FOR_ACK)throw new OT.InvalidStateError(this._session.status);var d=Np.cloneArray(n.extraHeaders);if(this.eventHandlers=Np.cloneObject(n.eventHandlers),typeof s=="string")s=s.toUpperCase();else if(typeof s=="number")s=s.toString();else throw new TypeError("Invalid tone: ".concat(s));if(s.match(/^[0-9A-DR#*]$/))this._tone=s;else throw new TypeError("Invalid tone: ".concat(s));this._duration=n.duration,d.push("Content-Type: application/dtmf-relay");var h="Signal=".concat(this._tone,`\r
`);h+="Duration=".concat(this._duration),this._session.newDTMF({originator:"local",dtmf:this,request:this._request}),this._session.sendRequest(xT.INFO,{extraHeaders:d,eventHandlers:{onSuccessResponse:function(_){u.emit("succeeded",{originator:"remote",response:_})},onErrorResponse:function(_){u.eventHandlers.onFailed&&u.eventHandlers.onFailed(),u.emit("failed",{originator:"remote",response:_})},onRequestTimeout:function(){u._session.onRequestTimeout()},onTransportError:function(){u._session.onTransportError()},onDialogError:function(){u._session.onDialogError()}},body:h})}},{key:"init_incoming",value:function(s){var u=/^(Signal\s*?=\s*?)([0-9A-D#*]{1})(\s)?.*/,n=/^(Duration\s?=\s?)([0-9]{1,4})(\s)?.*/;if(this._direction="incoming",this._request=s,s.reply(200),s.body){var d=s.body.split(`
`);d.length>=1&&u.test(d[0])&&(this._tone=d[0].replace(u,"$2")),d.length>=2&&n.test(d[1])&&(this._duration=parseInt(d[1].replace(n,"$2"),10))}this._duration||(this._duration=Pm.DEFAULT_DURATION),this._tone?this._session.newDTMF({originator:"remote",dtmf:this,request:s}):NT.debug("invalid INFO DTMF received, discarded")}},{key:"tone",get:function(){return this._tone}},{key:"duration",get:function(){return this._duration}}]),l}(IT);ff.exports.C=Pm;var bT=ff.exports;function ks(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ks=function(l){return typeof l}:ks=function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},ks(e)}function PT(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function DT(e,t){for(var l=0;l<t.length;l++){var i=t[l];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function UT(e,t,l){return t&&DT(e.prototype,t),e}function LT(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ec(e,t)}function ec(e,t){return ec=Object.setPrototypeOf||function(i,s){return i.__proto__=s,i},ec(e,t)}function MT(e){var t=$T();return function(){var i=uo(e),s;if(t){var u=uo(this).constructor;s=Reflect.construct(i,arguments,u)}else s=i.apply(this,arguments);return FT(this,s)}}function FT(e,t){return t&&(ks(t)==="object"||typeof t=="function")?t:HT(e)}function HT(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $T(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function uo(e){return uo=Object.setPrototypeOf?Object.getPrototypeOf:function(l){return l.__proto__||Object.getPrototypeOf(l)},uo(e)}var jT=Gn.EventEmitter,zT=Me,BT=Vn,qT=lt(),VT=function(e){LT(l,e);var t=MT(l);function l(i){var s;return PT(this,l),s=t.call(this),s._session=i,s._direction=null,s._contentType=null,s._body=null,s}return UT(l,[{key:"send",value:function(s,u){var n=this,d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(this._direction="outgoing",s===void 0)throw new TypeError("Not enough arguments");if(this._session.status!==this._session.C.STATUS_CONFIRMED&&this._session.status!==this._session.C.STATUS_WAITING_FOR_ACK)throw new BT.InvalidStateError(this._session.status);this._contentType=s,this._body=u;var h=qT.cloneArray(d.extraHeaders);h.push("Content-Type: ".concat(s)),this._session.newInfo({originator:"local",info:this,request:this.request}),this._session.sendRequest(zT.INFO,{extraHeaders:h,eventHandlers:{onSuccessResponse:function(_){n.emit("succeeded",{originator:"remote",response:_})},onErrorResponse:function(_){n.emit("failed",{originator:"remote",response:_})},onTransportError:function(){n._session.onTransportError()},onRequestTimeout:function(){n._session.onRequestTimeout()},onDialogError:function(){n._session.onDialogError()}},body:u})}},{key:"init_incoming",value:function(s){this._direction="incoming",this.request=s,s.reply(200),this._contentType=s.hasHeader("Content-Type")?s.getHeader("Content-Type").toLowerCase():void 0,this._body=s.body,this._session.newInfo({originator:"remote",info:this,request:s})}},{key:"contentType",get:function(){return this._contentType}},{key:"body",get:function(){return this._body}}]),l}(jT);function WT(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function GT(e,t){for(var l=0;l<t.length;l++){var i=t[l];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function KT(e,t,l){return t&&GT(e.prototype,t),e}var QT=Ve,bp=Me,YT=new QT("RTCSession:ReferNotifier"),Gu={event_type:"refer",body_type:"message/sipfrag;version=2.0",expires:300},XT=function(){function e(t,l,i){WT(this,e),this._session=t,this._id=l,this._expires=i||Gu.expires,this._active=!0,this.notify(100)}return KT(e,[{key:"notify",value:function(l,i){if(YT.debug("notify()"),this._active!==!1){i=i||bp.REASON_PHRASE[l]||"";var s;l>=200?s="terminated;reason=noresource":s="active;expires=".concat(this._expires),this._session.sendRequest(bp.NOTIFY,{extraHeaders:["Event: ".concat(Gu.event_type,";id=").concat(this._id),"Subscription-State: ".concat(s),"Content-Type: ".concat(Gu.body_type)],body:"SIP/2.0 ".concat(l," ").concat(i),eventHandlers:{onErrorResponse:function(){this._active=!1}}})}}}]),e}();function xs(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?xs=function(l){return typeof l}:xs=function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},xs(e)}function JT(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ZT(e,t){for(var l=0;l<t.length;l++){var i=t[l];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function eC(e,t,l){return t&&ZT(e.prototype,t),e}function tC(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&tc(e,t)}function tc(e,t){return tc=Object.setPrototypeOf||function(i,s){return i.__proto__=s,i},tc(e,t)}function nC(e){var t=iC();return function(){var i=ao(e),s;if(t){var u=ao(this).constructor;s=Reflect.construct(i,arguments,u)}else s=i.apply(this,arguments);return rC(this,s)}}function rC(e,t){return t&&(xs(t)==="object"||typeof t=="function")?t:lC(e)}function lC(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function iC(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function ao(e){return ao=Object.setPrototypeOf?Object.getPrototypeOf:function(l){return l.__proto__||Object.getPrototypeOf(l)},ao(e)}var sC=Gn.EventEmitter,oC=Ve,Cl=Me,uC=tn(),Pp=lt(),Zn=new oC("RTCSession:ReferSubscriber"),aC=function(e){tC(l,e);var t=nC(l);function l(i){var s;return JT(this,l),s=t.call(this),s._id=null,s._session=i,s}return eC(l,[{key:"sendRefer",value:function(s){var u=this,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Zn.debug("sendRefer()");var d=Pp.cloneArray(n.extraHeaders),h=Pp.cloneObject(n.eventHandlers);for(var c in h)Object.prototype.hasOwnProperty.call(h,c)&&this.on(c,h[c]);var _=null;n.replaces&&(_=n.replaces._request.call_id,_+=";to-tag=".concat(n.replaces._to_tag),_+=";from-tag=".concat(n.replaces._from_tag),_=encodeURIComponent(_));var v="Refer-To: <".concat(s).concat(_?"?Replaces=".concat(_):"",">");if(d.push(v),!d.some(function(E){return E.toLowerCase().startsWith("referred-by:")})){var g="Referred-By: <".concat(this._session._ua._configuration.uri._scheme,":").concat(this._session._ua._configuration.uri._user,"@").concat(this._session._ua._configuration.uri._host,">");d.push(g)}d.push("Contact: ".concat(this._session.contact));var S=this._session.sendRequest(Cl.REFER,{extraHeaders:d,eventHandlers:{onSuccessResponse:function(R){u._requestSucceeded(R)},onErrorResponse:function(R){u._requestFailed(R,Cl.causes.REJECTED)},onTransportError:function(){u._requestFailed(null,Cl.causes.CONNECTION_ERROR)},onRequestTimeout:function(){u._requestFailed(null,Cl.causes.REQUEST_TIMEOUT)},onDialogError:function(){u._requestFailed(null,Cl.causes.DIALOG_ERROR)}}});this._id=S.cseq}},{key:"receiveNotify",value:function(s){if(Zn.debug("receiveNotify()"),!!s.body){var u=uC.parse(s.body.trim().split(`\r
`,1)[0],"Status_Line");if(u===-1){Zn.debug('receiveNotify() | error parsing NOTIFY body: "'.concat(s.body,'"'));return}switch(!0){case/^100$/.test(u.status_code):this.emit("trying",{request:s,status_line:u});break;case/^1[0-9]{2}$/.test(u.status_code):this.emit("progress",{request:s,status_line:u});break;case/^2[0-9]{2}$/.test(u.status_code):this.emit("accepted",{request:s,status_line:u});break;default:this.emit("failed",{request:s,status_line:u});break}}}},{key:"_requestSucceeded",value:function(s){Zn.debug("REFER succeeded"),Zn.debug('emit "requestSucceeded"'),this.emit("requestSucceeded",{response:s})}},{key:"_requestFailed",value:function(s,u){Zn.debug("REFER failed"),Zn.debug('emit "requestFailed"'),this.emit("requestFailed",{response:s||null,cause:u})}},{key:"id",get:function(){return this._id}}]),l}(sC);function Os(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Os=function(l){return typeof l}:Os=function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},Os(e)}function sn(e,t){var l;if(typeof Symbol>"u"||e[Symbol.iterator]==null){if(Array.isArray(e)||(l=cC(e))||t){l&&(e=l);var i=0,s=function(){};return{s,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(c){throw c},f:s}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var u=!0,n=!1,d;return{s:function(){l=e[Symbol.iterator]()},n:function(){var c=l.next();return u=c.done,c},e:function(c){n=!0,d=c},f:function(){try{!u&&l.return!=null&&l.return()}finally{if(n)throw d}}}}function cC(e,t){if(e){if(typeof e=="string")return Dp(e,t);var l=Object.prototype.toString.call(e).slice(8,-1);if(l==="Object"&&e.constructor&&(l=e.constructor.name),l==="Map"||l==="Set")return Array.from(e);if(l==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(l))return Dp(e,t)}}function Dp(e,t){(t==null||t>e.length)&&(t=e.length);for(var l=0,i=new Array(t);l<t;l++)i[l]=e[l];return i}function fC(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Up(e,t){for(var l=0;l<t.length;l++){var i=t[l];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Lp(e,t,l){return t&&Up(e.prototype,t),l&&Up(e,l),e}function dC(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&nc(e,t)}function nc(e,t){return nc=Object.setPrototypeOf||function(i,s){return i.__proto__=s,i},nc(e,t)}function hC(e){var t=vC();return function(){var i=co(e),s;if(t){var u=co(this).constructor;s=Reflect.construct(i,arguments,u)}else s=i.apply(this,arguments);return pC(this,s)}}function pC(e,t){return t&&(Os(t)==="object"||typeof t=="function")?t:_C(e)}function _C(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vC(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function co(e){return co=Object.setPrototypeOf?Object.getPrototypeOf:function(l){return l.__proto__||Object.getPrototypeOf(l)},co(e)}var mC=Gn.EventEmitter,Mp=Wt,gC=Ve,V=Me,er=Vn,Fp=yi,Ce=lt(),El=bm,yC=mn,rs=gT,SC=Si,St=bT,Hp=VT,TC=XT,CC=aC,$p=Wn(),P=new gC("RTCSession"),M={STATUS_NULL:0,STATUS_INVITE_SENT:1,STATUS_1XX_RECEIVED:2,STATUS_INVITE_RECEIVED:3,STATUS_WAITING_FOR_ANSWER:4,STATUS_ANSWERED:5,STATUS_WAITING_FOR_ACK:6,STATUS_CANCELED:7,STATUS_TERMINATED:8,STATUS_CONFIRMED:9},ls=["audio","video"],EC=function(e){dC(l,e);var t=hC(l);Lp(l,null,[{key:"C",get:function(){return M}}]);function l(i){var s;return fC(this,l),P.debug("new"),s=t.call(this),s._id=null,s._ua=i,s._status=M.STATUS_NULL,s._dialog=null,s._earlyDialogs={},s._contact=null,s._from_tag=null,s._to_tag=null,s._connection=null,s._connectionPromiseQueue=Promise.resolve(),s._request=null,s._is_canceled=!1,s._cancel_reason="",s._is_confirmed=!1,s._late_sdp=!1,s._rtcOfferConstraints=null,s._rtcAnswerConstraints=null,s._localMediaStream=null,s._localMediaStreamLocallyGenerated=!1,s._rtcReady=!0,s._iceReady=!1,s._timers={ackTimer:null,expiresTimer:null,invite2xxTimer:null,userNoAnswerTimer:null},s._direction=null,s._local_identity=null,s._remote_identity=null,s._start_time=null,s._end_time=null,s._tones=null,s._audioMuted=!1,s._videoMuted=!1,s._localHold=!1,s._remoteHold=!1,s._sessionTimers={enabled:s._ua.configuration.session_timers,refreshMethod:s._ua.configuration.session_timers_refresh_method,defaultExpires:V.SESSION_EXPIRES,currentExpires:null,running:!1,refresher:!1,timer:null},s._referSubscribers={},s._data={},s}return Lp(l,[{key:"isInProgress",value:function(){switch(this._status){case M.STATUS_NULL:case M.STATUS_INVITE_SENT:case M.STATUS_1XX_RECEIVED:case M.STATUS_INVITE_RECEIVED:case M.STATUS_WAITING_FOR_ANSWER:return!0;default:return!1}}},{key:"isEstablished",value:function(){switch(this._status){case M.STATUS_ANSWERED:case M.STATUS_WAITING_FOR_ACK:case M.STATUS_CONFIRMED:return!0;default:return!1}}},{key:"isEnded",value:function(){switch(this._status){case M.STATUS_CANCELED:case M.STATUS_TERMINATED:return!0;default:return!1}}},{key:"isMuted",value:function(){return{audio:this._audioMuted,video:this._videoMuted}}},{key:"isOnHold",value:function(){return{local:this._localHold,remote:this._remoteHold}}},{key:"connect",value:function(s){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;P.debug("connect()");var d=s,h=Ce.cloneObject(u.eventHandlers),c=Ce.cloneArray(u.extraHeaders),_=Ce.cloneObject(u.mediaConstraints,{audio:!0,video:!0}),v=u.mediaStream||null,g=Ce.cloneObject(u.pcConfig,{iceServers:[]}),S=u.rtcConstraints||null,E=u.rtcOfferConstraints||null;if(this._rtcOfferConstraints=E,this._rtcAnswerConstraints=u.rtcAnswerConstraints||null,this._data=u.data||this._data,s===void 0)throw new TypeError("Not enough arguments");if(this._status!==M.STATUS_NULL)throw new er.InvalidStateError(this._status);if(!window.RTCPeerConnection)throw new er.NotSupportedError("WebRTC not supported");if(s=this._ua.normalizeTarget(s),!s)throw new TypeError("Invalid target: ".concat(d));this._sessionTimers.enabled&&Ce.isDecimal(u.sessionTimersExpires)&&(u.sessionTimersExpires>=V.MIN_SESSION_EXPIRES?this._sessionTimers.defaultExpires=u.sessionTimersExpires:this._sessionTimers.defaultExpires=V.SESSION_EXPIRES);for(var R in h)Object.prototype.hasOwnProperty.call(h,R)&&this.on(R,h[R]);this._from_tag=Ce.newTag();var F=u.anonymous||!1,C={from_tag:this._from_tag};this._contact=this._ua.contact.toString({anonymous:F,outbound:!0}),F?(C.from_display_name="Anonymous",C.from_uri=new $p("sip","anonymous","anonymous.invalid"),c.push("P-Preferred-Identity: ".concat(this._ua.configuration.uri.toString())),c.push("Privacy: id")):u.fromUserName&&(C.from_uri=new $p("sip",u.fromUserName,this._ua.configuration.uri.host),c.push("P-Preferred-Identity: ".concat(this._ua.configuration.uri.toString()))),u.fromDisplayName&&(C.from_display_name=u.fromDisplayName),c.push("Contact: ".concat(this._contact)),c.push("Content-Type: application/sdp"),this._sessionTimers.enabled&&c.push("Session-Expires: ".concat(this._sessionTimers.defaultExpires).concat(this._ua.configuration.session_timers_force_refresher?";refresher=uac":"")),this._request=new yC.InitialOutgoingInviteRequest(s,this._ua,C,c),this._id=this._request.call_id+this._from_tag,this._createRTCConnection(g,S),this._direction="outgoing",this._local_identity=this._request.from,this._remote_identity=this._request.to,n&&n(this),this._newRTCSession("local",this._request),this._sendInitialRequest(_,E,v)}},{key:"init_incoming",value:function(s,u){var n=this;P.debug("init_incoming()");var d,h=s.hasHeader("Content-Type")?s.getHeader("Content-Type").toLowerCase():void 0;if(s.body&&h!=="application/sdp"){s.reply(415);return}if(this._status=M.STATUS_INVITE_RECEIVED,this._from_tag=s.from_tag,this._id=s.call_id+this._from_tag,this._request=s,this._contact=this._ua.contact.toString(),s.hasHeader("expires")&&(d=s.getHeader("expires")*1e3),s.to_tag=Ce.newTag(),!this._createDialog(s,"UAS",!0)){s.reply(500,"Missing Contact header field");return}s.body?this._late_sdp=!1:this._late_sdp=!0,this._status=M.STATUS_WAITING_FOR_ANSWER,this._timers.userNoAnswerTimer=setTimeout(function(){s.reply(408),n._failed("local",null,V.causes.NO_ANSWER)},this._ua.configuration.no_answer_timeout),d&&(this._timers.expiresTimer=setTimeout(function(){n._status===M.STATUS_WAITING_FOR_ANSWER&&(s.reply(487),n._failed("system",null,V.causes.EXPIRES))},d)),this._direction="incoming",this._local_identity=s.to,this._remote_identity=s.from,u&&u(this),this._newRTCSession("remote",s),this._status!==M.STATUS_TERMINATED&&(s.reply(180,null,["Contact: ".concat(this._contact)]),this._progress("local",null))}},{key:"answer",value:function(){var s=this,u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};P.debug("answer()");var n=this._request,d=Ce.cloneArray(u.extraHeaders),h=Ce.cloneObject(u.mediaConstraints),c=u.mediaStream||null,_=Ce.cloneObject(u.pcConfig,{iceServers:[]}),v=u.rtcConstraints||null,g=u.rtcAnswerConstraints||null,S=Ce.cloneObject(u.rtcOfferConstraints),E,R=!1,F=!1,C=!1,T=!1;if(this._rtcAnswerConstraints=g,this._rtcOfferConstraints=u.rtcOfferConstraints||null,this._data=u.data||this._data,this._direction!=="incoming")throw new er.NotSupportedError('"answer" not supported for outgoing RTCSession');if(this._status!==M.STATUS_WAITING_FOR_ANSWER)throw new er.InvalidStateError(this._status);if(this._sessionTimers.enabled&&Ce.isDecimal(u.sessionTimersExpires)&&(u.sessionTimersExpires>=V.MIN_SESSION_EXPIRES?this._sessionTimers.defaultExpires=u.sessionTimersExpires:this._sessionTimers.defaultExpires=V.SESSION_EXPIRES),this._status=M.STATUS_ANSWERED,!this._createDialog(n,"UAS")){n.reply(500,"Error creating dialog");return}clearTimeout(this._timers.userNoAnswerTimer),d.unshift("Contact: ".concat(this._contact));var w=n.parseSDP();Array.isArray(w.media)||(w.media=[w.media]);var I=sn(w.media),L;try{for(I.s();!(L=I.n()).done;){var q=L.value;q.type==="audio"&&(R=!0,(!q.direction||q.direction==="sendrecv")&&(C=!0)),q.type==="video"&&(F=!0,(!q.direction||q.direction==="sendrecv")&&(T=!0))}}catch(ie){I.e(ie)}finally{I.f()}if(c&&h.audio===!1){E=c.getAudioTracks();var B=sn(E),k;try{for(B.s();!(k=B.n()).done;){var b=k.value;c.removeTrack(b)}}catch(ie){B.e(ie)}finally{B.f()}}if(c&&h.video===!1){E=c.getVideoTracks();var X=sn(E),Ie;try{for(X.s();!(Ie=X.n()).done;){var $e=Ie.value;c.removeTrack($e)}}catch(ie){X.e(ie)}finally{X.f()}}!c&&h.audio===void 0&&(h.audio=C),!c&&h.video===void 0&&(h.video=T),!c&&!R&&!S.offerToReceiveAudio&&(h.audio=!1),!c&&!F&&!S.offerToReceiveVideo&&(h.video=!1),this._createRTCConnection(_,v),Promise.resolve().then(function(){if(c)return c;if(h.audio||h.video)return s._localMediaStreamLocallyGenerated=!0,navigator.mediaDevices.getUserMedia(h).catch(function(ie){throw s._status===M.STATUS_TERMINATED?new Error("terminated"):(n.reply(480),s._failed("local",null,V.causes.USER_DENIED_MEDIA_ACCESS),P.warn('emit "getusermediafailed" [error:%o]',ie),s.emit("getusermediafailed",ie),new Error("getUserMedia() failed"))})}).then(function(ie){if(s._status===M.STATUS_TERMINATED)throw new Error("terminated");s._localMediaStream=ie,ie&&ie.getTracks().forEach(function(H){s._connection.addTrack(H,ie)})}).then(function(){if(!s._late_sdp){var ie={originator:"remote",type:"offer",sdp:n.body};P.debug('emit "sdp"'),s.emit("sdp",ie);var H=new RTCSessionDescription({type:"offer",sdp:ie.sdp});return s._connectionPromiseQueue=s._connectionPromiseQueue.then(function(){return s._connection.setRemoteDescription(H)}).catch(function(z){throw n.reply(488),s._failed("system",null,V.causes.WEBRTC_ERROR),P.warn('emit "peerconnection:setremotedescriptionfailed" [error:%o]',z),s.emit("peerconnection:setremotedescriptionfailed",z),new Error("peerconnection.setRemoteDescription() failed")}),s._connectionPromiseQueue}}).then(function(){if(s._status===M.STATUS_TERMINATED)throw new Error("terminated");return s._connecting(n),s._late_sdp?s._createLocalDescription("offer",s._rtcOfferConstraints).catch(function(){throw n.reply(500),new Error("_createLocalDescription() failed")}):s._createLocalDescription("answer",g).catch(function(){throw n.reply(500),new Error("_createLocalDescription() failed")})}).then(function(ie){if(s._status===M.STATUS_TERMINATED)throw new Error("terminated");s._handleSessionTimersInIncomingRequest(n,d),n.reply(200,null,d,ie,function(){s._status=M.STATUS_WAITING_FOR_ACK,s._setInvite2xxTimer(n,ie),s._setACKTimer(),s._accepted("local")},function(){s._failed("system",null,V.causes.CONNECTION_ERROR)})}).catch(function(ie){s._status!==M.STATUS_TERMINATED&&P.warn(ie)})}},{key:"terminate",value:function(){var s=this,u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};P.debug("terminate()");var n=u.cause||V.causes.BYE,d=Ce.cloneArray(u.extraHeaders),h=u.body,c,_=u.status_code,v=u.reason_phrase;if(this._status===M.STATUS_TERMINATED)throw new er.InvalidStateError(this._status);switch(this._status){case M.STATUS_NULL:case M.STATUS_INVITE_SENT:case M.STATUS_1XX_RECEIVED:if(P.debug("canceling session"),_&&(_<200||_>=700))throw new TypeError("Invalid status_code: ".concat(_));_&&(v=v||V.REASON_PHRASE[_]||"",c="SIP ;cause=".concat(_,' ;text="').concat(v,'"')),this._status===M.STATUS_NULL||this._status===M.STATUS_INVITE_SENT?(this._is_canceled=!0,this._cancel_reason=c):this._status===M.STATUS_1XX_RECEIVED&&this._request.cancel(c),this._status=M.STATUS_CANCELED,this._failed("local",null,V.causes.CANCELED);break;case M.STATUS_WAITING_FOR_ANSWER:case M.STATUS_ANSWERED:if(P.debug("rejecting session"),_=_||480,_<300||_>=700)throw new TypeError("Invalid status_code: ".concat(_));this._request.reply(_,v,d,h),this._failed("local",null,V.causes.REJECTED);break;case M.STATUS_WAITING_FOR_ACK:case M.STATUS_CONFIRMED:if(P.debug("terminating session"),v=u.reason_phrase||V.REASON_PHRASE[_]||"",_&&(_<200||_>=700))throw new TypeError("Invalid status_code: ".concat(_));if(_&&d.push("Reason: SIP ;cause=".concat(_,'; text="').concat(v,'"')),this._status===M.STATUS_WAITING_FOR_ACK&&this._direction==="incoming"&&this._request.server_transaction.state!==Fp.C.STATUS_TERMINATED){var g=this._dialog;this.receiveRequest=function(S){var E=S.method;E===V.ACK&&(s.sendRequest(V.BYE,{extraHeaders:d,body:h}),g.terminate())},this._request.server_transaction.on("stateChanged",function(){s._request.server_transaction.state===Fp.C.STATUS_TERMINATED&&(s.sendRequest(V.BYE,{extraHeaders:d,body:h}),g.terminate())}),this._ended("local",null,n),this._dialog=g,this._ua.newDialog(g)}else this.sendRequest(V.BYE,{extraHeaders:d,body:h}),this._ended("local",null,n)}}},{key:"sendDTMF",value:function(s){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};P.debug("sendDTMF() | tones: %s",s);var n=0,d=u.duration||null,h=u.interToneGap||null,c=u.transportType||V.DTMF_TRANSPORT.INFO;if(s===void 0)throw new TypeError("Not enough arguments");if(this._status!==M.STATUS_CONFIRMED&&this._status!==M.STATUS_WAITING_FOR_ACK&&this._status!==M.STATUS_1XX_RECEIVED)throw new er.InvalidStateError(this._status);if(c!==V.DTMF_TRANSPORT.INFO&&c!==V.DTMF_TRANSPORT.RFC2833)throw new TypeError("invalid transportType: ".concat(c));if(typeof s=="number"&&(s=s.toString()),!s||typeof s!="string"||!s.match(/^[0-9A-DR#*,]+$/i))throw new TypeError("Invalid tones: ".concat(s));if(d&&!Ce.isDecimal(d))throw new TypeError("Invalid tone duration: ".concat(d));if(d?d<St.C.MIN_DURATION?(P.debug('"duration" value is lower than the minimum allowed, setting it to '.concat(St.C.MIN_DURATION," milliseconds")),d=St.C.MIN_DURATION):d>St.C.MAX_DURATION?(P.debug('"duration" value is greater than the maximum allowed, setting it to '.concat(St.C.MAX_DURATION," milliseconds")),d=St.C.MAX_DURATION):d=Math.abs(d):d=St.C.DEFAULT_DURATION,u.duration=d,h&&!Ce.isDecimal(h))throw new TypeError("Invalid interToneGap: ".concat(h));if(h?h<St.C.MIN_INTER_TONE_GAP?(P.debug('"interToneGap" value is lower than the minimum allowed, setting it to '.concat(St.C.MIN_INTER_TONE_GAP," milliseconds")),h=St.C.MIN_INTER_TONE_GAP):h=Math.abs(h):h=St.C.DEFAULT_INTER_TONE_GAP,c===V.DTMF_TRANSPORT.RFC2833){var _=this._getDTMFRTPSender();_&&(s=_.toneBuffer+s,_.insertDTMF(s,d,h));return}if(this._tones){this._tones+=s;return}this._tones=s,v.call(this);function v(){var g=this,S;if(this._status===M.STATUS_TERMINATED||!this._tones||n>=this._tones.length){this._tones=null;return}var E=this._tones[n];if(n+=1,E===",")S=2e3;else{var R=new St(this);u.eventHandlers={onFailed:function(){g._tones=null}},R.send(E,u),S=d+h}setTimeout(v.bind(this),S)}}},{key:"sendInfo",value:function(s,u){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(P.debug("sendInfo()"),this._status!==M.STATUS_CONFIRMED&&this._status!==M.STATUS_WAITING_FOR_ACK&&this._status!==M.STATUS_1XX_RECEIVED)throw new er.InvalidStateError(this._status);var d=new Hp(this);d.send(s,u,n)}},{key:"mute",value:function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{audio:!0,video:!1};P.debug("mute()");var u=!1,n=!1;this._audioMuted===!1&&s.audio&&(u=!0,this._audioMuted=!0,this._toggleMuteAudio(!0)),this._videoMuted===!1&&s.video&&(n=!0,this._videoMuted=!0,this._toggleMuteVideo(!0)),(u===!0||n===!0)&&this._onmute({audio:u,video:n})}},{key:"unmute",value:function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{audio:!0,video:!0};P.debug("unmute()");var u=!1,n=!1;this._audioMuted===!0&&s.audio&&(u=!0,this._audioMuted=!1,this._localHold===!1&&this._toggleMuteAudio(!1)),this._videoMuted===!0&&s.video&&(n=!0,this._videoMuted=!1,this._localHold===!1&&this._toggleMuteVideo(!1)),(u===!0||n===!0)&&this._onunmute({audio:u,video:n})}},{key:"hold",value:function(){var s=this,u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;if(P.debug("hold()"),this._status!==M.STATUS_WAITING_FOR_ACK&&this._status!==M.STATUS_CONFIRMED||this._localHold===!0||!this._isReadyToReOffer())return!1;this._localHold=!0,this._onhold("local");var d={succeeded:function(){n&&n()},failed:function(){s.terminate({cause:V.causes.WEBRTC_ERROR,status_code:500,reason_phrase:"Hold Failed"})}};return u.useUpdate?this._sendUpdate({sdpOffer:!0,eventHandlers:d,extraHeaders:u.extraHeaders}):this._sendReinvite({eventHandlers:d,extraHeaders:u.extraHeaders}),!0}},{key:"unhold",value:function(){var s=this,u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;if(P.debug("unhold()"),this._status!==M.STATUS_WAITING_FOR_ACK&&this._status!==M.STATUS_CONFIRMED||this._localHold===!1||!this._isReadyToReOffer())return!1;this._localHold=!1,this._onunhold("local");var d={succeeded:function(){n&&n()},failed:function(){s.terminate({cause:V.causes.WEBRTC_ERROR,status_code:500,reason_phrase:"Unhold Failed"})}};return u.useUpdate?this._sendUpdate({sdpOffer:!0,eventHandlers:d,extraHeaders:u.extraHeaders}):this._sendReinvite({eventHandlers:d,extraHeaders:u.extraHeaders}),!0}},{key:"renegotiate",value:function(){var s=this,u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;P.debug("renegotiate()");var d=u.rtcOfferConstraints||null;if(this._status!==M.STATUS_WAITING_FOR_ACK&&this._status!==M.STATUS_CONFIRMED||!this._isReadyToReOffer())return!1;var h={succeeded:function(){n&&n()},failed:function(){s.terminate({cause:V.causes.WEBRTC_ERROR,status_code:500,reason_phrase:"Media Renegotiation Failed"})}};return this._setLocalMediaStatus(),u.useUpdate?this._sendUpdate({sdpOffer:!0,eventHandlers:h,rtcOfferConstraints:d,extraHeaders:u.extraHeaders}):this._sendReinvite({eventHandlers:h,rtcOfferConstraints:d,extraHeaders:u.extraHeaders}),!0}},{key:"refer",value:function(s,u){var n=this;P.debug("refer()");var d=s;if(this._status!==M.STATUS_WAITING_FOR_ACK&&this._status!==M.STATUS_CONFIRMED)return!1;if(s=this._ua.normalizeTarget(s),!s)throw new TypeError("Invalid target: ".concat(d));var h=new CC(this);h.sendRefer(s,u);var c=h.id;return this._referSubscribers[c]=h,h.on("requestFailed",function(){delete n._referSubscribers[c]}),h.on("accepted",function(){delete n._referSubscribers[c]}),h.on("failed",function(){delete n._referSubscribers[c]}),h}},{key:"sendRequest",value:function(s,u){return P.debug("sendRequest()"),this._dialog.sendRequest(s,u)}},{key:"receiveRequest",value:function(s){var u=this;if(P.debug("receiveRequest()"),s.method===V.CANCEL)(this._status===M.STATUS_WAITING_FOR_ANSWER||this._status===M.STATUS_ANSWERED)&&(this._status=M.STATUS_CANCELED,this._request.reply(487),this._failed("remote",s,V.causes.CANCELED));else switch(s.method){case V.ACK:if(this._status!==M.STATUS_WAITING_FOR_ACK)return;if(this._status=M.STATUS_CONFIRMED,clearTimeout(this._timers.ackTimer),clearTimeout(this._timers.invite2xxTimer),this._late_sdp){if(!s.body){this.terminate({cause:V.causes.MISSING_SDP,status_code:400});break}var n={originator:"remote",type:"answer",sdp:s.body};P.debug('emit "sdp"'),this.emit("sdp",n);var d=new RTCSessionDescription({type:"answer",sdp:n.sdp});this._connectionPromiseQueue=this._connectionPromiseQueue.then(function(){return u._connection.setRemoteDescription(d)}).then(function(){u._is_confirmed||u._confirmed("remote",s)}).catch(function(c){u.terminate({cause:V.causes.BAD_MEDIA_DESCRIPTION,status_code:488}),P.warn('emit "peerconnection:setremotedescriptionfailed" [error:%o]',c),u.emit("peerconnection:setremotedescriptionfailed",c)})}else this._is_confirmed||this._confirmed("remote",s);break;case V.BYE:this._status===M.STATUS_CONFIRMED||this._status===M.STATUS_WAITING_FOR_ACK?(s.reply(200),this._ended("remote",s,V.causes.BYE)):this._status===M.STATUS_INVITE_RECEIVED||this._status===M.STATUS_WAITING_FOR_ANSWER?(s.reply(200),this._request.reply(487,"BYE Received"),this._ended("remote",s,V.causes.BYE)):s.reply(403,"Wrong Status");break;case V.INVITE:this._status===M.STATUS_CONFIRMED?s.hasHeader("replaces")?this._receiveReplaces(s):this._receiveReinvite(s):s.reply(403,"Wrong Status");break;case V.INFO:if(this._status===M.STATUS_1XX_RECEIVED||this._status===M.STATUS_WAITING_FOR_ANSWER||this._status===M.STATUS_ANSWERED||this._status===M.STATUS_WAITING_FOR_ACK||this._status===M.STATUS_CONFIRMED){var h=s.hasHeader("Content-Type")?s.getHeader("Content-Type").toLowerCase():void 0;h&&h.match(/^application\/dtmf-relay/i)?new St(this).init_incoming(s):h!==void 0?new Hp(this).init_incoming(s):s.reply(415)}else s.reply(403,"Wrong Status");break;case V.UPDATE:this._status===M.STATUS_CONFIRMED?this._receiveUpdate(s):s.reply(403,"Wrong Status");break;case V.REFER:this._status===M.STATUS_CONFIRMED?this._receiveRefer(s):s.reply(403,"Wrong Status");break;case V.NOTIFY:this._status===M.STATUS_CONFIRMED?this._receiveNotify(s):s.reply(403,"Wrong Status");break;default:s.reply(501)}}},{key:"onTransportError",value:function(){P.warn("onTransportError()"),this._status!==M.STATUS_TERMINATED&&this.terminate({status_code:500,reason_phrase:V.causes.CONNECTION_ERROR,cause:V.causes.CONNECTION_ERROR})}},{key:"onRequestTimeout",value:function(){P.warn("onRequestTimeout()"),this._status!==M.STATUS_TERMINATED&&this.terminate({status_code:408,reason_phrase:V.causes.REQUEST_TIMEOUT,cause:V.causes.REQUEST_TIMEOUT})}},{key:"onDialogError",value:function(){P.warn("onDialogError()"),this._status!==M.STATUS_TERMINATED&&this.terminate({status_code:500,reason_phrase:V.causes.DIALOG_ERROR,cause:V.causes.DIALOG_ERROR})}},{key:"newDTMF",value:function(s){P.debug("newDTMF()"),this.emit("newDTMF",s)}},{key:"newInfo",value:function(s){P.debug("newInfo()"),this.emit("newInfo",s)}},{key:"_isReadyToReOffer",value:function(){return this._rtcReady?this._dialog?this._dialog.uac_pending_reply===!0||this._dialog.uas_pending_reply===!0?(P.debug("_isReadyToReOffer() | there is another INVITE/UPDATE transaction in progress"),!1):!0:(P.debug("_isReadyToReOffer() | session not established yet"),!1):(P.debug("_isReadyToReOffer() | internal WebRTC status not ready"),!1)}},{key:"_close",value:function(){if(P.debug("close()"),this._localMediaStream&&this._localMediaStreamLocallyGenerated&&(P.debug("close() | closing local MediaStream"),Ce.closeMediaStream(this._localMediaStream)),this._status!==M.STATUS_TERMINATED){if(this._status=M.STATUS_TERMINATED,this._connection)try{this._connection.close()}catch(d){P.warn("close() | error closing the RTCPeerConnection: %o",d)}for(var s in this._timers)Object.prototype.hasOwnProperty.call(this._timers,s)&&clearTimeout(this._timers[s]);clearTimeout(this._sessionTimers.timer),this._dialog&&(this._dialog.terminate(),delete this._dialog);for(var u in this._earlyDialogs)Object.prototype.hasOwnProperty.call(this._earlyDialogs,u)&&(this._earlyDialogs[u].terminate(),delete this._earlyDialogs[u]);for(var n in this._referSubscribers)Object.prototype.hasOwnProperty.call(this._referSubscribers,n)&&delete this._referSubscribers[n];this._ua.destroyRTCSession(this)}}},{key:"_setInvite2xxTimer",value:function(s,u){var n=El.T1;function d(){this._status===M.STATUS_WAITING_FOR_ACK&&(s.reply(200,null,["Contact: ".concat(this._contact)],u),n<El.T2&&(n=n*2,n>El.T2&&(n=El.T2)),this._timers.invite2xxTimer=setTimeout(d.bind(this),n))}this._timers.invite2xxTimer=setTimeout(d.bind(this),n)}},{key:"_setACKTimer",value:function(){var s=this;this._timers.ackTimer=setTimeout(function(){s._status===M.STATUS_WAITING_FOR_ACK&&(P.debug("no ACK received, terminating the session"),clearTimeout(s._timers.invite2xxTimer),s.sendRequest(V.BYE),s._ended("remote",null,V.causes.NO_ACK))},El.TIMER_H)}},{key:"_createRTCConnection",value:function(s,u){var n=this;this._connection=new RTCPeerConnection(s,u),this._connection.addEventListener("iceconnectionstatechange",function(){var d=n._connection.iceConnectionState;d==="failed"&&n.terminate({cause:V.causes.RTP_TIMEOUT,status_code:408,reason_phrase:V.causes.RTP_TIMEOUT})}),P.debug('emit "peerconnection"'),this.emit("peerconnection",{peerconnection:this._connection})}},{key:"_createLocalDescription",value:function(s,u){var n=this;if(P.debug("createLocalDescription()"),s!=="offer"&&s!=="answer")throw new Error('createLocalDescription() | invalid type "'.concat(s,'"'));var d=this._connection;return this._rtcReady=!1,Promise.resolve().then(function(){return s==="offer"?d.createOffer(u).catch(function(h){return P.warn('emit "peerconnection:createofferfailed" [error:%o]',h),n.emit("peerconnection:createofferfailed",h),Promise.reject(h)}):d.createAnswer(u).catch(function(h){return P.warn('emit "peerconnection:createanswerfailed" [error:%o]',h),n.emit("peerconnection:createanswerfailed",h),Promise.reject(h)})}).then(function(h){return d.setLocalDescription(h).catch(function(c){return n._rtcReady=!0,P.warn('emit "peerconnection:setlocaldescriptionfailed" [error:%o]',c),n.emit("peerconnection:setlocaldescriptionfailed",c),Promise.reject(c)})}).then(function(){var h=u&&u.iceRestart;if(d.iceGatheringState==="complete"&&!h||d.iceGatheringState==="gathering"&&n._iceReady){n._rtcReady=!0;var c={originator:"local",type:s,sdp:d.localDescription.sdp};return P.debug('emit "sdp"'),n.emit("sdp",c),Promise.resolve(c.sdp)}return new Promise(function(_){var v=!1,g,S;n._iceReady=!1;var E=function(){if(!v){d.removeEventListener("icecandidate",g),d.removeEventListener("icegatheringstatechange",S),v=!0,n._rtcReady=!0,n._iceReady=!0;var F={originator:"local",type:s,sdp:d.localDescription.sdp};P.debug('emit "sdp"'),n.emit("sdp",F),_(F.sdp)}};d.addEventListener("icecandidate",g=function(F){var C=F.candidate;C?n.emit("icecandidate",{candidate:C,ready:E}):E()}),d.addEventListener("icegatheringstatechange",S=function(){d.iceGatheringState==="complete"&&E()})})})}},{key:"_createDialog",value:function(s,u,n){var d=u==="UAS"?s.to_tag:s.from_tag,h=u==="UAS"?s.from_tag:s.to_tag,c=s.call_id+d+h,_=this._earlyDialogs[c];if(n)return _?!0:(_=new rs(this,s,u,rs.C.STATUS_EARLY),_.error?(P.debug(_.error),this._failed("remote",s,V.causes.INTERNAL_ERROR),!1):(this._earlyDialogs[c]=_,!0));if(this._from_tag=s.from_tag,this._to_tag=s.to_tag,_)return _.update(s,u),this._dialog=_,delete this._earlyDialogs[c],!0;var v=new rs(this,s,u);return v.error?(P.debug(v.error),this._failed("remote",s,V.causes.INTERNAL_ERROR),!1):(this._dialog=v,!0)}},{key:"_receiveReinvite",value:function(s){var u=this;P.debug("receiveReinvite()");var n=s.hasHeader("Content-Type")?s.getHeader("Content-Type").toLowerCase():void 0,d={request:s,callback:void 0,reject:c.bind(this)},h=!1;function c(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};h=!0;var g=v.status_code||403,S=v.reason_phrase||"",E=Ce.cloneArray(v.extraHeaders);if(this._status!==M.STATUS_CONFIRMED)return!1;if(g<300||g>=700)throw new TypeError("Invalid status_code: ".concat(g));s.reply(g,S,E)}if(this.emit("reinvite",d),h)return;if(this._late_sdp=!1,!s.body){this._late_sdp=!0,this._remoteHold&&(this._remoteHold=!1,this._onunhold("remote")),this._connectionPromiseQueue=this._connectionPromiseQueue.then(function(){return u._createLocalDescription("offer",u._rtcOfferConstraints)}).then(function(v){_.call(u,v)}).catch(function(){s.reply(500)});return}if(n!=="application/sdp"){P.debug("invalid Content-Type"),s.reply(415);return}this._processInDialogSdpOffer(s).then(function(v){u._status!==M.STATUS_TERMINATED&&_.call(u,v)}).catch(function(v){P.warn(v)});function _(v){var g=this,S=["Contact: ".concat(this._contact)];this._handleSessionTimersInIncomingRequest(s,S),this._late_sdp&&(v=this._mangleOffer(v)),s.reply(200,null,S,v,function(){g._status=M.STATUS_WAITING_FOR_ACK,g._setInvite2xxTimer(s,v),g._setACKTimer()}),typeof d.callback=="function"&&d.callback()}}},{key:"_receiveUpdate",value:function(s){var u=this;P.debug("receiveUpdate()");var n=s.hasHeader("Content-Type")?s.getHeader("Content-Type").toLowerCase():void 0,d={request:s,callback:void 0,reject:c.bind(this)},h=!1;function c(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};h=!0;var g=v.status_code||403,S=v.reason_phrase||"",E=Ce.cloneArray(v.extraHeaders);if(this._status!==M.STATUS_CONFIRMED)return!1;if(g<300||g>=700)throw new TypeError("Invalid status_code: ".concat(g));s.reply(g,S,E)}if(this.emit("update",d),h)return;if(!s.body){_.call(this,null);return}if(n!=="application/sdp"){P.debug("invalid Content-Type"),s.reply(415);return}this._processInDialogSdpOffer(s).then(function(v){u._status!==M.STATUS_TERMINATED&&_.call(u,v)}).catch(function(v){P.warn(v)});function _(v){var g=["Contact: ".concat(this._contact)];this._handleSessionTimersInIncomingRequest(s,g),s.reply(200,null,g,v),typeof d.callback=="function"&&d.callback()}}},{key:"_processInDialogSdpOffer",value:function(s){var u=this;P.debug("_processInDialogSdpOffer()");var n=s.parseSDP(),d=!1,h=sn(n.media),c;try{for(h.s();!(c=h.n()).done;){var _=c.value;if(ls.indexOf(_.type)!==-1){var v=_.direction||n.direction||"sendrecv";if(v==="sendonly"||v==="inactive")d=!0;else{d=!1;break}}}}catch(E){h.e(E)}finally{h.f()}var g={originator:"remote",type:"offer",sdp:s.body};P.debug('emit "sdp"'),this.emit("sdp",g);var S=new RTCSessionDescription({type:"offer",sdp:g.sdp});return this._connectionPromiseQueue=this._connectionPromiseQueue.then(function(){if(u._status===M.STATUS_TERMINATED)throw new Error("terminated");return u._connection.setRemoteDescription(S).catch(function(E){throw s.reply(488),P.warn('emit "peerconnection:setremotedescriptionfailed" [error:%o]',E),u.emit("peerconnection:setremotedescriptionfailed",E),E})}).then(function(){if(u._status===M.STATUS_TERMINATED)throw new Error("terminated");u._remoteHold===!0&&d===!1?(u._remoteHold=!1,u._onunhold("remote")):u._remoteHold===!1&&d===!0&&(u._remoteHold=!0,u._onhold("remote"))}).then(function(){if(u._status===M.STATUS_TERMINATED)throw new Error("terminated");return u._createLocalDescription("answer",u._rtcAnswerConstraints).catch(function(E){throw s.reply(500),P.warn('emit "peerconnection:createtelocaldescriptionfailed" [error:%o]',E),E})}).catch(function(E){P.warn("_processInDialogSdpOffer() failed [error: %o]",E)}),this._connectionPromiseQueue}},{key:"_receiveRefer",value:function(s){var u=this;if(P.debug("receiveRefer()"),!s.refer_to){P.debug("no Refer-To header field present in REFER"),s.reply(400);return}if(s.refer_to.uri.scheme!==V.SIP){P.debug("Refer-To header field points to a non-SIP URI scheme"),s.reply(416);return}s.reply(202);var n=new TC(this,s.cseq);P.debug('emit "refer"'),this.emit("refer",{request:s,accept:function(_,v){d.call(u,_,v)},reject:function(){h.call(u)}});function d(c){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(c=typeof c=="function"?c:null,this._status!==M.STATUS_WAITING_FOR_ACK&&this._status!==M.STATUS_CONFIRMED)return!1;var v=new l(this._ua);if(v.on("progress",function(S){var E=S.response;n.notify(E.status_code,E.reason_phrase)}),v.on("accepted",function(S){var E=S.response;n.notify(E.status_code,E.reason_phrase)}),v.on("_failed",function(S){var E=S.message,R=S.cause;E?n.notify(E.status_code,E.reason_phrase):n.notify(487,R)}),s.refer_to.uri.hasHeader("replaces")){var g=decodeURIComponent(s.refer_to.uri.getHeader("replaces"));_.extraHeaders=Ce.cloneArray(_.extraHeaders),_.extraHeaders.push("Replaces: ".concat(g))}v.connect(s.refer_to.uri.toAor(),_,c)}function h(){n.notify(603)}}},{key:"_receiveNotify",value:function(s){switch(P.debug("receiveNotify()"),s.event||s.reply(400),s.event.event){case"refer":{var u,n;if(s.event.params&&s.event.params.id)u=s.event.params.id,n=this._referSubscribers[u];else if(Object.keys(this._referSubscribers).length===1)n=this._referSubscribers[Object.keys(this._referSubscribers)[0]];else{s.reply(400,"Missing event id parameter");return}if(!n){s.reply(481,"Subscription does not exist");return}n.receiveNotify(s),s.reply(200);break}default:s.reply(489)}}},{key:"_receiveReplaces",value:function(s){var u=this;P.debug("receiveReplaces()");function n(h){var c=this;if(this._status!==M.STATUS_WAITING_FOR_ACK&&this._status!==M.STATUS_CONFIRMED)return!1;var _=new l(this._ua);_.on("confirmed",function(){c.terminate()}),_.init_incoming(s,h)}function d(){P.debug("Replaced INVITE rejected by the user"),s.reply(486)}this.emit("replaces",{request:s,accept:function(c){n.call(u,c)},reject:function(){d.call(u)}})}},{key:"_sendInitialRequest",value:function(s,u,n){var d=this,h=new SC(this._ua,this._request,{onRequestTimeout:function(){d.onRequestTimeout()},onTransportError:function(){d.onTransportError()},onAuthenticated:function(_){d._request=_},onReceiveResponse:function(_){d._receiveInviteResponse(_)}});Promise.resolve().then(function(){if(n)return n;if(s.audio||s.video)return d._localMediaStreamLocallyGenerated=!0,navigator.mediaDevices.getUserMedia(s).catch(function(c){throw d._status===M.STATUS_TERMINATED?new Error("terminated"):(d._failed("local",null,V.causes.USER_DENIED_MEDIA_ACCESS),P.warn('emit "getusermediafailed" [error:%o]',c),d.emit("getusermediafailed",c),c)})}).then(function(c){if(d._status===M.STATUS_TERMINATED)throw new Error("terminated");return d._localMediaStream=c,c&&c.getTracks().forEach(function(_){d._connection.addTrack(_,c)}),d._connecting(d._request),d._createLocalDescription("offer",u).catch(function(_){throw d._failed("local",null,V.causes.WEBRTC_ERROR),_})}).then(function(c){if(d._is_canceled||d._status===M.STATUS_TERMINATED)throw new Error("terminated");d._request.body=c,d._status=M.STATUS_INVITE_SENT,P.debug('emit "sending" [request:%o]',d._request),d.emit("sending",{request:d._request}),h.send()}).catch(function(c){d._status!==M.STATUS_TERMINATED&&P.warn(c)})}},{key:"_getDTMFRTPSender",value:function(){var s=this._connection.getSenders().find(function(u){return u.track&&u.track.kind==="audio"});if(!(s&&s.dtmf)){P.warn("sendDTMF() | no local audio track to send DTMF with");return}return s.dtmf}},{key:"_receiveInviteResponse",value:function(s){var u=this;if(P.debug("receiveInviteResponse()"),this._dialog&&s.status_code>=200&&s.status_code<=299)if(this._dialog.id.call_id===s.call_id&&this._dialog.id.local_tag===s.from_tag&&this._dialog.id.remote_tag===s.to_tag){this.sendRequest(V.ACK);return}else{var n=new rs(this,s,"UAC");if(n.error!==void 0){P.debug(n.error);return}this.sendRequest(V.ACK),this.sendRequest(V.BYE);return}if(this._is_canceled){s.status_code>=100&&s.status_code<200?this._request.cancel(this._cancel_reason):s.status_code>=200&&s.status_code<299&&this._acceptAndTerminate(s);return}if(!(this._status!==M.STATUS_INVITE_SENT&&this._status!==M.STATUS_1XX_RECEIVED))switch(!0){case/^100$/.test(s.status_code):this._status=M.STATUS_1XX_RECEIVED;break;case/^1[0-9]{2}$/.test(s.status_code):{if(!s.to_tag){P.debug("1xx response received without to tag");break}if(s.hasHeader("contact")&&!this._createDialog(s,"UAC",!0))break;if(this._status=M.STATUS_1XX_RECEIVED,!s.body){this._progress("remote",s);break}var d={originator:"remote",type:"answer",sdp:s.body};P.debug('emit "sdp"'),this.emit("sdp",d);var h=new RTCSessionDescription({type:"answer",sdp:d.sdp});this._connectionPromiseQueue=this._connectionPromiseQueue.then(function(){return u._connection.setRemoteDescription(h)}).then(function(){return u._progress("remote",s)}).catch(function(g){P.warn('emit "peerconnection:setremotedescriptionfailed" [error:%o]',g),u.emit("peerconnection:setremotedescriptionfailed",g)});break}case/^2[0-9]{2}$/.test(s.status_code):{if(this._status=M.STATUS_CONFIRMED,!s.body){this._acceptAndTerminate(s,400,V.causes.MISSING_SDP),this._failed("remote",s,V.causes.BAD_MEDIA_DESCRIPTION);break}if(!this._createDialog(s,"UAC"))break;var c={originator:"remote",type:"answer",sdp:s.body};P.debug('emit "sdp"'),this.emit("sdp",c);var _=new RTCSessionDescription({type:"answer",sdp:c.sdp});this._connectionPromiseQueue=this._connectionPromiseQueue.then(function(){if(u._connection.signalingState==="stable")return u._connection.createOffer(u._rtcOfferConstraints).then(function(g){return u._connection.setLocalDescription(g)}).catch(function(g){u._acceptAndTerminate(s,500,g.toString()),u._failed("local",s,V.causes.WEBRTC_ERROR)})}).then(function(){u._connection.setRemoteDescription(_).then(function(){u._handleSessionTimersInIncomingResponse(s),u._accepted("remote",s),u.sendRequest(V.ACK),u._confirmed("local",null)}).catch(function(g){u._acceptAndTerminate(s,488,"Not Acceptable Here"),u._failed("remote",s,V.causes.BAD_MEDIA_DESCRIPTION),P.warn('emit "peerconnection:setremotedescriptionfailed" [error:%o]',g),u.emit("peerconnection:setremotedescriptionfailed",g)})});break}default:{var v=Ce.sipErrorCause(s.status_code);this._failed("remote",s,v)}}}},{key:"_sendReinvite",value:function(){var s=this,u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};P.debug("sendReinvite()");var n=Ce.cloneArray(u.extraHeaders),d=Ce.cloneObject(u.eventHandlers),h=u.rtcOfferConstraints||this._rtcOfferConstraints||null,c=!1;n.push("Contact: ".concat(this._contact)),n.push("Content-Type: application/sdp"),this._sessionTimers.running&&n.push("Session-Expires: ".concat(this._sessionTimers.currentExpires,";refresher=").concat(this._sessionTimers.refresher?"uac":"uas")),this._connectionPromiseQueue=this._connectionPromiseQueue.then(function(){return s._createLocalDescription("offer",h)}).then(function(g){g=s._mangleOffer(g);var S={originator:"local",type:"offer",sdp:g};P.debug('emit "sdp"'),s.emit("sdp",S),s.sendRequest(V.INVITE,{extraHeaders:n,body:g,eventHandlers:{onSuccessResponse:function(R){_.call(s,R),c=!0},onErrorResponse:function(R){v.call(s,R)},onTransportError:function(){s.onTransportError()},onRequestTimeout:function(){s.onRequestTimeout()},onDialogError:function(){s.onDialogError()}}})}).catch(function(){v()});function _(g){var S=this;if(this._status!==M.STATUS_TERMINATED&&(this.sendRequest(V.ACK),!c)){if(this._handleSessionTimersInIncomingResponse(g),g.body){if(!g.hasHeader("Content-Type")||g.getHeader("Content-Type").toLowerCase()!=="application/sdp"){v.call(this);return}}else{v.call(this);return}var E={originator:"remote",type:"answer",sdp:g.body};P.debug('emit "sdp"'),this.emit("sdp",E);var R=new RTCSessionDescription({type:"answer",sdp:E.sdp});this._connectionPromiseQueue=this._connectionPromiseQueue.then(function(){return S._connection.setRemoteDescription(R)}).then(function(){d.succeeded&&d.succeeded(g)}).catch(function(F){v.call(S),P.warn('emit "peerconnection:setremotedescriptionfailed" [error:%o]',F),S.emit("peerconnection:setremotedescriptionfailed",F)})}}function v(g){d.failed&&d.failed(g)}}},{key:"_sendUpdate",value:function(){var s=this,u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};P.debug("sendUpdate()");var n=Ce.cloneArray(u.extraHeaders),d=Ce.cloneObject(u.eventHandlers),h=u.rtcOfferConstraints||this._rtcOfferConstraints||null,c=u.sdpOffer||!1,_=!1;n.push("Contact: ".concat(this._contact)),this._sessionTimers.running&&n.push("Session-Expires: ".concat(this._sessionTimers.currentExpires,";refresher=").concat(this._sessionTimers.refresher?"uac":"uas")),c?(n.push("Content-Type: application/sdp"),this._connectionPromiseQueue=this._connectionPromiseQueue.then(function(){return s._createLocalDescription("offer",h)}).then(function(S){S=s._mangleOffer(S);var E={originator:"local",type:"offer",sdp:S};P.debug('emit "sdp"'),s.emit("sdp",E),s.sendRequest(V.UPDATE,{extraHeaders:n,body:S,eventHandlers:{onSuccessResponse:function(F){v.call(s,F),_=!0},onErrorResponse:function(F){g.call(s,F)},onTransportError:function(){s.onTransportError()},onRequestTimeout:function(){s.onRequestTimeout()},onDialogError:function(){s.onDialogError()}}})}).catch(function(){g.call(s)})):this.sendRequest(V.UPDATE,{extraHeaders:n,eventHandlers:{onSuccessResponse:function(E){v.call(s,E)},onErrorResponse:function(E){g.call(s,E)},onTransportError:function(){s.onTransportError()},onRequestTimeout:function(){s.onRequestTimeout()},onDialogError:function(){s.onDialogError()}}});function v(S){var E=this;if(this._status!==M.STATUS_TERMINATED&&!_)if(this._handleSessionTimersInIncomingResponse(S),c){if(S.body){if(!S.hasHeader("Content-Type")||S.getHeader("Content-Type").toLowerCase()!=="application/sdp"){g.call(this);return}}else{g.call(this);return}var R={originator:"remote",type:"answer",sdp:S.body};P.debug('emit "sdp"'),this.emit("sdp",R);var F=new RTCSessionDescription({type:"answer",sdp:R.sdp});this._connectionPromiseQueue=this._connectionPromiseQueue.then(function(){return E._connection.setRemoteDescription(F)}).then(function(){d.succeeded&&d.succeeded(S)}).catch(function(C){g.call(E),P.warn('emit "peerconnection:setremotedescriptionfailed" [error:%o]',C),E.emit("peerconnection:setremotedescriptionfailed",C)})}else d.succeeded&&d.succeeded(S)}function g(S){d.failed&&d.failed(S)}}},{key:"_acceptAndTerminate",value:function(s,u,n){P.debug("acceptAndTerminate()");var d=[];u&&(n=n||V.REASON_PHRASE[u]||"",d.push("Reason: SIP ;cause=".concat(u,'; text="').concat(n,'"'))),(this._dialog||this._createDialog(s,"UAC"))&&(this.sendRequest(V.ACK),this.sendRequest(V.BYE,{extraHeaders:d})),this._status=M.STATUS_TERMINATED}},{key:"_mangleOffer",value:function(s){if(!this._localHold&&!this._remoteHold)return s;if(s=Mp.parse(s),this._localHold&&!this._remoteHold){P.debug("mangleOffer() | me on hold, mangling offer");var u=sn(s.media),n;try{for(u.s();!(n=u.n()).done;){var d=n.value;ls.indexOf(d.type)!==-1&&(d.direction?d.direction==="sendrecv"?d.direction="sendonly":d.direction==="recvonly"&&(d.direction="inactive"):d.direction="sendonly")}}catch(E){u.e(E)}finally{u.f()}}else if(this._localHold&&this._remoteHold){P.debug("mangleOffer() | both on hold, mangling offer");var h=sn(s.media),c;try{for(h.s();!(c=h.n()).done;){var _=c.value;ls.indexOf(_.type)!==-1&&(_.direction="inactive")}}catch(E){h.e(E)}finally{h.f()}}else if(this._remoteHold){P.debug("mangleOffer() | remote on hold, mangling offer");var v=sn(s.media),g;try{for(v.s();!(g=v.n()).done;){var S=g.value;ls.indexOf(S.type)!==-1&&(S.direction?S.direction==="sendrecv"?S.direction="recvonly":S.direction==="recvonly"&&(S.direction="inactive"):S.direction="recvonly")}}catch(E){v.e(E)}finally{v.f()}}return Mp.write(s)}},{key:"_setLocalMediaStatus",value:function(){var s=!0,u=!0;(this._localHold||this._remoteHold)&&(s=!1,u=!1),this._audioMuted&&(s=!1),this._videoMuted&&(u=!1),this._toggleMuteAudio(!s),this._toggleMuteVideo(!u)}},{key:"_handleSessionTimersInIncomingRequest",value:function(s,u){if(this._sessionTimers.enabled){var n;s.session_expires&&s.session_expires>=V.MIN_SESSION_EXPIRES?(this._sessionTimers.currentExpires=s.session_expires,n=s.session_expires_refresher||"uas"):(this._sessionTimers.currentExpires=this._sessionTimers.defaultExpires,n="uas"),u.push("Session-Expires: ".concat(this._sessionTimers.currentExpires,";refresher=").concat(n)),this._sessionTimers.refresher=n==="uas",this._runSessionTimer()}}},{key:"_handleSessionTimersInIncomingResponse",value:function(s){if(this._sessionTimers.enabled){var u;s.session_expires&&s.session_expires>=V.MIN_SESSION_EXPIRES?(this._sessionTimers.currentExpires=s.session_expires,u=s.session_expires_refresher||"uac"):(this._sessionTimers.currentExpires=this._sessionTimers.defaultExpires,u="uac"),this._sessionTimers.refresher=u==="uac",this._runSessionTimer()}}},{key:"_runSessionTimer",value:function(){var s=this,u=this._sessionTimers.currentExpires;this._sessionTimers.running=!0,clearTimeout(this._sessionTimers.timer),this._sessionTimers.refresher?this._sessionTimers.timer=setTimeout(function(){s._status!==M.STATUS_TERMINATED&&s._isReadyToReOffer()&&(P.debug("runSessionTimer() | sending session refresh request"),s._sessionTimers.refreshMethod===V.UPDATE?s._sendUpdate():s._sendReinvite())},u*500):this._sessionTimers.timer=setTimeout(function(){s._status!==M.STATUS_TERMINATED&&(P.warn("runSessionTimer() | timer expired, terminating the session"),s.terminate({cause:V.causes.REQUEST_TIMEOUT,status_code:408,reason_phrase:"Session Timer Expired"}))},u*1100)}},{key:"_toggleMuteAudio",value:function(s){var u=this._connection.getSenders().filter(function(c){return c.track&&c.track.kind==="audio"}),n=sn(u),d;try{for(n.s();!(d=n.n()).done;){var h=d.value;h.track.enabled=!s}}catch(c){n.e(c)}finally{n.f()}}},{key:"_toggleMuteVideo",value:function(s){var u=this._connection.getSenders().filter(function(c){return c.track&&c.track.kind==="video"}),n=sn(u),d;try{for(n.s();!(d=n.n()).done;){var h=d.value;h.track.enabled=!s}}catch(c){n.e(c)}finally{n.f()}}},{key:"_newRTCSession",value:function(s,u){P.debug("newRTCSession()"),this._ua.newRTCSession(this,{originator:s,session:this,request:u})}},{key:"_connecting",value:function(s){P.debug("session connecting"),P.debug('emit "connecting"'),this.emit("connecting",{request:s})}},{key:"_progress",value:function(s,u){P.debug("session progress"),P.debug('emit "progress"'),this.emit("progress",{originator:s,response:u||null})}},{key:"_accepted",value:function(s,u){P.debug("session accepted"),this._start_time=new Date,P.debug('emit "accepted"'),this.emit("accepted",{originator:s,response:u||null})}},{key:"_confirmed",value:function(s,u){P.debug("session confirmed"),this._is_confirmed=!0,P.debug('emit "confirmed"'),this.emit("confirmed",{originator:s,ack:u||null})}},{key:"_ended",value:function(s,u,n){P.debug("session ended"),this._end_time=new Date,this._close(),P.debug('emit "ended"'),this.emit("ended",{originator:s,message:u||null,cause:n})}},{key:"_failed",value:function(s,u,n){P.debug("session failed"),P.debug('emit "_failed"'),this.emit("_failed",{originator:s,message:u||null,cause:n}),this._close(),P.debug('emit "failed"'),this.emit("failed",{originator:s,message:u||null,cause:n})}},{key:"_onhold",value:function(s){P.debug("session onhold"),this._setLocalMediaStatus(),P.debug('emit "hold"'),this.emit("hold",{originator:s})}},{key:"_onunhold",value:function(s){P.debug("session onunhold"),this._setLocalMediaStatus(),P.debug('emit "unhold"'),this.emit("unhold",{originator:s})}},{key:"_onmute",value:function(s){var u=s.audio,n=s.video;P.debug("session onmute"),this._setLocalMediaStatus(),P.debug('emit "muted"'),this.emit("muted",{audio:u,video:n})}},{key:"_onunmute",value:function(s){var u=s.audio,n=s.video;P.debug("session onunmute"),this._setLocalMediaStatus(),P.debug('emit "unmuted"'),this.emit("unmuted",{audio:u,video:n})}},{key:"C",get:function(){return M}},{key:"causes",get:function(){return V.causes}},{key:"id",get:function(){return this._id}},{key:"connection",get:function(){return this._connection}},{key:"contact",get:function(){return this._contact}},{key:"direction",get:function(){return this._direction}},{key:"local_identity",get:function(){return this._local_identity}},{key:"remote_identity",get:function(){return this._remote_identity}},{key:"start_time",get:function(){return this._start_time}},{key:"end_time",get:function(){return this._end_time}},{key:"data",get:function(){return this._data},set:function(s){this._data=s}},{key:"status",get:function(){return this._status}}]),l}(mC);function Ns(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ns=function(l){return typeof l}:Ns=function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},Ns(e)}function wC(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function RC(e,t){for(var l=0;l<t.length;l++){var i=t[l];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function AC(e,t,l){return t&&RC(e.prototype,t),e}function IC(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&rc(e,t)}function rc(e,t){return rc=Object.setPrototypeOf||function(i,s){return i.__proto__=s,i},rc(e,t)}function kC(e){var t=NC();return function(){var i=fo(e),s;if(t){var u=fo(this).constructor;s=Reflect.construct(i,arguments,u)}else s=i.apply(this,arguments);return xC(this,s)}}function xC(e,t){return t&&(Ns(t)==="object"||typeof t=="function")?t:OC(e)}function OC(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function NC(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function fo(e){return fo=Object.setPrototypeOf?Object.getPrototypeOf:function(l){return l.__proto__||Object.getPrototypeOf(l)},fo(e)}var bC=Gn.EventEmitter,PC=Ve,Ku=Me,DC=mn,wl=lt(),UC=Si,jp=Vn,LC=Wn(),is=new PC("Message"),MC=function(e){IC(l,e);var t=kC(l);function l(i){var s;return wC(this,l),s=t.call(this),s._ua=i,s._request=null,s._closed=!1,s._direction=null,s._local_identity=null,s._remote_identity=null,s._is_replied=!1,s._data={},s}return AC(l,[{key:"send",value:function(s,u){var n=this,d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},h=s;if(s===void 0||u===void 0)throw new TypeError("Not enough arguments");if(s=this._ua.normalizeTarget(s),!s)throw new TypeError("Invalid target: ".concat(h));var c=wl.cloneArray(d.extraHeaders),_=wl.cloneObject(d.eventHandlers),v=d.contentType||"text/plain",g={};d.fromUserName&&(g.from_uri=new LC("sip",d.fromUserName,this._ua.configuration.uri.host),c.push("P-Preferred-Identity: ".concat(this._ua.configuration.uri.toString()))),d.fromDisplayName&&(g.from_display_name=d.fromDisplayName);for(var S in _)Object.prototype.hasOwnProperty.call(_,S)&&this.on(S,_[S]);c.push("Content-Type: ".concat(v)),this._request=new DC.OutgoingRequest(Ku.MESSAGE,s,this._ua,g,c),u&&(this._request.body=u);var E=new UC(this._ua,this._request,{onRequestTimeout:function(){n._onRequestTimeout()},onTransportError:function(){n._onTransportError()},onReceiveResponse:function(F){n._receiveResponse(F)}});this._newMessage("local",this._request),E.send()}},{key:"init_incoming",value:function(s){this._request=s,this._newMessage("remote",s),this._is_replied||(this._is_replied=!0,s.reply(200)),this._close()}},{key:"accept",value:function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},u=wl.cloneArray(s.extraHeaders),n=s.body;if(this._direction!=="incoming")throw new jp.NotSupportedError('"accept" not supported for outgoing Message');if(this._is_replied)throw new Error("incoming Message already replied");this._is_replied=!0,this._request.reply(200,null,u,n)}},{key:"reject",value:function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},u=s.status_code||480,n=s.reason_phrase,d=wl.cloneArray(s.extraHeaders),h=s.body;if(this._direction!=="incoming")throw new jp.NotSupportedError('"reject" not supported for outgoing Message');if(this._is_replied)throw new Error("incoming Message already replied");if(u<300||u>=700)throw new TypeError("Invalid status_code: ".concat(u));this._is_replied=!0,this._request.reply(u,n,d,h)}},{key:"_receiveResponse",value:function(s){if(!this._closed)switch(!0){case/^1[0-9]{2}$/.test(s.status_code):break;case/^2[0-9]{2}$/.test(s.status_code):this._succeeded("remote",s);break;default:{var u=wl.sipErrorCause(s.status_code);this._failed("remote",s,u);break}}}},{key:"_onRequestTimeout",value:function(){this._closed||this._failed("system",null,Ku.causes.REQUEST_TIMEOUT)}},{key:"_onTransportError",value:function(){this._closed||this._failed("system",null,Ku.causes.CONNECTION_ERROR)}},{key:"_close",value:function(){this._closed=!0,this._ua.destroyMessage(this)}},{key:"_newMessage",value:function(s,u){s==="remote"?(this._direction="incoming",this._local_identity=u.to,this._remote_identity=u.from):s==="local"&&(this._direction="outgoing",this._local_identity=u.from,this._remote_identity=u.to),this._ua.newMessage(this,{originator:s,message:this,request:u})}},{key:"_failed",value:function(s,u,n){is.debug("MESSAGE failed"),this._close(),is.debug('emit "failed"'),this.emit("failed",{originator:s,response:u||null,cause:n})}},{key:"_succeeded",value:function(s,u){is.debug("MESSAGE succeeded"),this._close(),is.debug('emit "succeeded"'),this.emit("succeeded",{originator:s,response:u})}},{key:"direction",get:function(){return this._direction}},{key:"local_identity",get:function(){return this._local_identity}},{key:"remote_identity",get:function(){return this._remote_identity}}]),l}(bC);function bs(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?bs=function(l){return typeof l}:bs=function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},bs(e)}function FC(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function HC(e,t){for(var l=0;l<t.length;l++){var i=t[l];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function $C(e,t,l){return t&&HC(e.prototype,t),e}function jC(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&lc(e,t)}function lc(e,t){return lc=Object.setPrototypeOf||function(i,s){return i.__proto__=s,i},lc(e,t)}function zC(e){var t=VC();return function(){var i=ho(e),s;if(t){var u=ho(this).constructor;s=Reflect.construct(i,arguments,u)}else s=i.apply(this,arguments);return BC(this,s)}}function BC(e,t){return t&&(bs(t)==="object"||typeof t=="function")?t:qC(e)}function qC(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function VC(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function ho(e){return ho=Object.setPrototypeOf?Object.getPrototypeOf:function(l){return l.__proto__||Object.getPrototypeOf(l)},ho(e)}var WC=Gn.EventEmitter,GC=Ve,Qu=Me,KC=mn,Rl=lt(),QC=Si,zp=Vn,ss=new GC("Options"),YC=function(e){jC(l,e);var t=zC(l);function l(i){var s;return FC(this,l),s=t.call(this),s._ua=i,s._request=null,s._closed=!1,s._direction=null,s._local_identity=null,s._remote_identity=null,s._is_replied=!1,s._data={},s}return $C(l,[{key:"send",value:function(s,u){var n=this,d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},h=s;if(s===void 0)throw new TypeError("A target is required for OPTIONS");if(s=this._ua.normalizeTarget(s),!s)throw new TypeError("Invalid target: ".concat(h));var c=Rl.cloneArray(d.extraHeaders),_=Rl.cloneObject(d.eventHandlers),v=d.contentType||"application/sdp";for(var g in _)Object.prototype.hasOwnProperty.call(_,g)&&this.on(g,_[g]);c.push("Content-Type: ".concat(v)),this._request=new KC.OutgoingRequest(Qu.OPTIONS,s,this._ua,null,c),u&&(this._request.body=u);var S=new QC(this._ua,this._request,{onRequestTimeout:function(){n._onRequestTimeout()},onTransportError:function(){n._onTransportError()},onReceiveResponse:function(R){n._receiveResponse(R)}});this._newOptions("local",this._request),S.send()}},{key:"init_incoming",value:function(s){this._request=s,this._newOptions("remote",s),this._is_replied||(this._is_replied=!0,s.reply(200)),this._close()}},{key:"accept",value:function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},u=Rl.cloneArray(s.extraHeaders),n=s.body;if(this._direction!=="incoming")throw new zp.NotSupportedError('"accept" not supported for outgoing Options');if(this._is_replied)throw new Error("incoming Options already replied");this._is_replied=!0,this._request.reply(200,null,u,n)}},{key:"reject",value:function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},u=s.status_code||480,n=s.reason_phrase,d=Rl.cloneArray(s.extraHeaders),h=s.body;if(this._direction!=="incoming")throw new zp.NotSupportedError('"reject" not supported for outgoing Options');if(this._is_replied)throw new Error("incoming Options already replied");if(u<300||u>=700)throw new TypeError("Invalid status_code: ".concat(u));this._is_replied=!0,this._request.reply(u,n,d,h)}},{key:"_receiveResponse",value:function(s){if(!this._closed)switch(!0){case/^1[0-9]{2}$/.test(s.status_code):break;case/^2[0-9]{2}$/.test(s.status_code):this._succeeded("remote",s);break;default:{var u=Rl.sipErrorCause(s.status_code);this._failed("remote",s,u);break}}}},{key:"_onRequestTimeout",value:function(){this._closed||this._failed("system",null,Qu.causes.REQUEST_TIMEOUT)}},{key:"_onTransportError",value:function(){this._closed||this._failed("system",null,Qu.causes.CONNECTION_ERROR)}},{key:"_close",value:function(){this._closed=!0,this._ua.destroyMessage(this)}},{key:"_newOptions",value:function(s,u){s==="remote"?(this._direction="incoming",this._local_identity=u.to,this._remote_identity=u.from):s==="local"&&(this._direction="outgoing",this._local_identity=u.from,this._remote_identity=u.to),this._ua.newOptions(this,{originator:s,message:this,request:u})}},{key:"_failed",value:function(s,u,n){ss.debug("OPTIONS failed"),this._close(),ss.debug('emit "failed"'),this.emit("failed",{originator:s,response:u||null,cause:n})}},{key:"_succeeded",value:function(s,u){ss.debug("OPTIONS succeeded"),this._close(),ss.debug('emit "succeeded"'),this.emit("succeeded",{originator:s,response:u})}},{key:"direction",get:function(){return this._direction}},{key:"local_identity",get:function(){return this._local_identity}},{key:"remote_identity",get:function(){return this._remote_identity}}]),l}(WC),df={},XC=Ve,Yu=lt(),JC=tn(),Al=new XC("Socket");df.isSocket=function(e){if(Array.isArray(e))return!1;if(typeof e>"u")return Al.warn("undefined JsSIP.Socket instance"),!1;try{if(!Yu.isString(e.url))throw Al.warn("missing or invalid JsSIP.Socket url property"),new Error("Missing or invalid JsSIP.Socket url property");if(!Yu.isString(e.via_transport))throw Al.warn("missing or invalid JsSIP.Socket via_transport property"),new Error("Missing or invalid JsSIP.Socket via_transport property");if(JC.parse(e.sip_uri,"SIP_URI")===-1)throw Al.warn("missing or invalid JsSIP.Socket sip_uri property"),new Error("missing or invalid JsSIP.Socket sip_uri property")}catch{return!1}try{["connect","disconnect","send"].forEach(function(t){if(!Yu.isFunction(e[t]))throw Al.warn("missing or invalid JsSIP.Socket method: ".concat(t)),new Error("Missing or invalid JsSIP.Socket method: ".concat(t))})}catch{return!1}return!0};function ZC(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function eE(e,t){for(var l=0;l<t.length;l++){var i=t[l];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function tE(e,t,l){return t&&eE(e.prototype,t),e}var nE=Ve,rE=df,Bp=Me,tt=new nE("Transport"),xt={STATUS_CONNECTED:0,STATUS_CONNECTING:1,STATUS_DISCONNECTED:2,SOCKET_STATUS_READY:0,SOCKET_STATUS_ERROR:1,recovery_options:{min_interval:Bp.CONNECTION_RECOVERY_MIN_INTERVAL,max_interval:Bp.CONNECTION_RECOVERY_MAX_INTERVAL}},lE=function(){function e(t){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:xt.recovery_options;ZC(this,e),tt.debug("new()"),this.status=xt.STATUS_DISCONNECTED,this.socket=null,this.sockets=[],this.recovery_options=l,this.recover_attempts=0,this.recovery_timer=null,this.close_requested=!1;try{this.textDecoder=new TextDecoder("utf8")}catch(i){tt.warn("cannot use TextDecoder: ".concat(i))}if(typeof t>"u")throw new TypeError("Invalid argument. undefined 'sockets' argument");t instanceof Array||(t=[t]),t.forEach(function(i){if(!rE.isSocket(i.socket))throw new TypeError("Invalid argument. invalid 'JsSIP.Socket' instance");if(i.weight&&!Number(i.weight))throw new TypeError("Invalid argument. 'weight' attribute is not a number");this.sockets.push({socket:i.socket,weight:i.weight||0,status:xt.SOCKET_STATUS_READY})},this),this._getSocket()}return tE(e,[{key:"connect",value:function(){if(tt.debug("connect()"),this.isConnected()){tt.debug("Transport is already connected");return}else if(this.isConnecting()){tt.debug("Transport is connecting");return}this.close_requested=!1,this.status=xt.STATUS_CONNECTING,this.onconnecting({socket:this.socket,attempts:this.recover_attempts}),this.close_requested||(this.socket.onconnect=this._onConnect.bind(this),this.socket.ondisconnect=this._onDisconnect.bind(this),this.socket.ondata=this._onData.bind(this),this.socket.connect())}},{key:"disconnect",value:function(){tt.debug("close()"),this.close_requested=!0,this.recover_attempts=0,this.status=xt.STATUS_DISCONNECTED,this.recovery_timer!==null&&(clearTimeout(this.recovery_timer),this.recovery_timer=null),this.socket.onconnect=function(){},this.socket.ondisconnect=function(){},this.socket.ondata=function(){},this.socket.disconnect(),this.ondisconnect({socket:this.socket,error:!1})}},{key:"send",value:function(l){if(tt.debug("send()"),!this.isConnected())return tt.warn("unable to send message, transport is not connected"),!1;var i=l.toString();return tt.debug(`sending message:

`.concat(i,`
`)),this.socket.send(i)}},{key:"isConnected",value:function(){return this.status===xt.STATUS_CONNECTED}},{key:"isConnecting",value:function(){return this.status===xt.STATUS_CONNECTING}},{key:"_reconnect",value:function(){var l=this;this.recover_attempts+=1;var i=Math.floor(Math.random()*Math.pow(2,this.recover_attempts)+1);i<this.recovery_options.min_interval?i=this.recovery_options.min_interval:i>this.recovery_options.max_interval&&(i=this.recovery_options.max_interval),tt.debug("reconnection attempt: ".concat(this.recover_attempts,". next connection attempt in ").concat(i," seconds")),this.recovery_timer=setTimeout(function(){!l.close_requested&&!(l.isConnected()||l.isConnecting())&&(l._getSocket(),l.connect())},i*1e3)}},{key:"_getSocket",value:function(){var l=[];if(this.sockets.forEach(function(s){s.status!==xt.SOCKET_STATUS_ERROR&&(l.length===0?l.push(s):s.weight>l[0].weight?l=[s]:s.weight===l[0].weight&&l.push(s))}),l.length===0){this.sockets.forEach(function(s){s.status=xt.SOCKET_STATUS_READY}),this._getSocket();return}var i=Math.floor(Math.random()*l.length);this.socket=l[i].socket}},{key:"_onConnect",value:function(){this.recover_attempts=0,this.status=xt.STATUS_CONNECTED,this.recovery_timer!==null&&(clearTimeout(this.recovery_timer),this.recovery_timer=null),this.onconnect({socket:this})}},{key:"_onDisconnect",value:function(l,i,s){this.status=xt.STATUS_DISCONNECTED,this.ondisconnect({socket:this.socket,error:l,code:i,reason:s}),!this.close_requested&&(this.sockets.forEach(function(u){this.socket===u.socket&&(u.status=xt.SOCKET_STATUS_ERROR)},this),this._reconnect(l))}},{key:"_onData",value:function(l){if(l===`\r
\r
`){tt.debug("received message with double-CRLF Keep Alive request");try{this.socket.send(`\r
`)}catch(i){tt.warn("error sending Keep Alive response: ".concat(i))}return}if(l===`\r
`){tt.debug("received message with CRLF Keep Alive response");return}else if(typeof l!="string"){try{this.textDecoder?l=this.textDecoder.decode(l):l=String.fromCharCode.apply(null,new Uint8Array(l))}catch{tt.debug("received binary message failed to be converted into string, message discarded");return}tt.debug(`received binary message:

`.concat(l,`
`))}else tt.debug(`received text message:

`.concat(l,`
`));this.ondata({transport:this,message:l})}},{key:"via_transport",get:function(){return this.socket.via_transport}},{key:"url",get:function(){return this.socket.url}},{key:"sip_uri",get:function(){return this.socket.sip_uri}}]),e}(),Dm={};function qp(e,t){var l;if(typeof Symbol>"u"||e[Symbol.iterator]==null){if(Array.isArray(e)||(l=iE(e))||t){l&&(e=l);var i=0,s=function(){};return{s,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(c){throw c},f:s}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var u=!0,n=!1,d;return{s:function(){l=e[Symbol.iterator]()},n:function(){var c=l.next();return u=c.done,c},e:function(c){n=!0,d=c},f:function(){try{!u&&l.return!=null&&l.return()}finally{if(n)throw d}}}}function iE(e,t){if(e){if(typeof e=="string")return Vp(e,t);var l=Object.prototype.toString.call(e).slice(8,-1);if(l==="Object"&&e.constructor&&(l=e.constructor.name),l==="Map"||l==="Set")return Array.from(e);if(l==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(l))return Vp(e,t)}}function Vp(e,t){(t==null||t>e.length)&&(t=e.length);for(var l=0,i=new Array(t);l<t;l++)i[l]=e[l];return i}var sE=Ve,ic=tn(),sc=mn,os=new sE("Parser");Dm.parseMessage=function(e,t){var l,i,s=e.indexOf(`\r
`);if(s===-1){os.warn("parseMessage() | no CRLF found, not a SIP message");return}var u=e.substring(0,s),n=ic.parse(u,"Request_Response");if(n===-1){os.warn('parseMessage() | error parsing first line of SIP message: "'.concat(u,'"'));return}else n.status_code?(l=new sc.IncomingResponse,l.status_code=n.status_code,l.reason_phrase=n.reason_phrase):(l=new sc.IncomingRequest(t),l.method=n.method,l.ruri=n.uri);l.data=e;for(var d=s+2;;){if(s=oE(e,d),s===-2){i=d+2;break}else if(s===-1){os.warn("parseMessage() | malformed message");return}if(n=uE(l,e,d,s),n!==!0){os.warn("parseMessage() |",n.error);return}d=s+2}if(l.hasHeader("content-length")){var h=l.getHeader("content-length");l.body=e.substr(i,h)}else l.body=e.substring(i);return l};function oE(e,t){var l=t,i=0,s=0;if(e.substring(l,l+2).match(/(^\r\n)/))return-2;for(;i===0;){if(s=e.indexOf(`\r
`,l),s===-1)return s;!e.substring(s+2,s+4).match(/(^\r\n)/)&&e.charAt(s+2).match(/(^\s+)/)?l=s+2:i=s}return i}function uE(e,t,l,i){var s,u=t.indexOf(":",l),n=t.substring(l,u).trim(),d=t.substring(u+1,i).trim();switch(n.toLowerCase()){case"via":case"v":e.addHeader("via",d),e.getHeaders("via").length===1?(s=e.parseHeader("Via"),s&&(e.via=s,e.via_branch=s.branch)):s=0;break;case"from":case"f":e.setHeader("from",d),s=e.parseHeader("from"),s&&(e.from=s,e.from_tag=s.getParam("tag"));break;case"to":case"t":e.setHeader("to",d),s=e.parseHeader("to"),s&&(e.to=s,e.to_tag=s.getParam("tag"));break;case"record-route":if(s=ic.parse(d,"Record_Route"),s===-1)s=void 0;else{var h=qp(s),c;try{for(h.s();!(c=h.n()).done;){var _=c.value;e.addHeader("record-route",d.substring(_.possition,_.offset)),e.headers["Record-Route"][e.getHeaders("record-route").length-1].parsed=_.parsed}}catch(E){h.e(E)}finally{h.f()}}break;case"call-id":case"i":e.setHeader("call-id",d),s=e.parseHeader("call-id"),s&&(e.call_id=d);break;case"contact":case"m":if(s=ic.parse(d,"Contact"),s===-1)s=void 0;else{var v=qp(s),g;try{for(v.s();!(g=v.n()).done;){var S=g.value;e.addHeader("contact",d.substring(S.possition,S.offset)),e.headers.Contact[e.getHeaders("contact").length-1].parsed=S.parsed}}catch(E){v.e(E)}finally{v.f()}}break;case"content-length":case"l":e.setHeader("content-length",d),s=e.parseHeader("content-length");break;case"content-type":case"c":e.setHeader("content-type",d),s=e.parseHeader("content-type");break;case"cseq":e.setHeader("cseq",d),s=e.parseHeader("cseq"),s&&(e.cseq=s.value),e instanceof sc.IncomingResponse&&(e.method=s.method);break;case"max-forwards":e.setHeader("max-forwards",d),s=e.parseHeader("max-forwards");break;case"www-authenticate":e.setHeader("www-authenticate",d),s=e.parseHeader("www-authenticate");break;case"proxy-authenticate":e.setHeader("proxy-authenticate",d),s=e.parseHeader("proxy-authenticate");break;case"session-expires":case"x":e.setHeader("session-expires",d),s=e.parseHeader("session-expires"),s&&(e.session_expires=s.expires,e.session_expires_refresher=s.refresher);break;case"refer-to":case"r":e.setHeader("refer-to",d),s=e.parseHeader("refer-to"),s&&(e.refer_to=s);break;case"replaces":e.setHeader("replaces",d),s=e.parseHeader("replaces"),s&&(e.replaces=s);break;case"event":case"o":e.setHeader("event",d),s=e.parseHeader("event"),s&&(e.event=s);break;default:e.addHeader(n,d),s=0}return s===void 0?{error:'error parsing header "'.concat(n,'"')}:!0}function Ps(e,t){var l;if(typeof Symbol>"u"||e[Symbol.iterator]==null){if(Array.isArray(e)||(l=aE(e))||t){l&&(e=l);var i=0,s=function(){};return{s,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(c){throw c},f:s}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var u=!0,n=!1,d;return{s:function(){l=e[Symbol.iterator]()},n:function(){var c=l.next();return u=c.done,c},e:function(c){n=!0,d=c},f:function(){try{!u&&l.return!=null&&l.return()}finally{if(n)throw d}}}}function aE(e,t){if(e){if(typeof e=="string")return Wp(e,t);var l=Object.prototype.toString.call(e).slice(8,-1);if(l==="Object"&&e.constructor&&(l=e.constructor.name),l==="Map"||l==="Set")return Array.from(e);if(l==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(l))return Wp(e,t)}}function Wp(e,t){(t==null||t>e.length)&&(t=e.length);for(var l=0,i=new Array(t);l<t;l++)i[l]=e[l];return i}var cE=Ve,Um=Me,Gp=mn,hf=lt(),pf=new cE("sanityCheck"),fE=[TE],dE=[_E,vE,mE,gE],hE=[yE,SE],_e,Yt,Lm,pE=function(e,t,l){_e=e,Yt=t,Lm=l;var i=Ps(fE),s;try{for(i.s();!(s=i.n()).done;){var u=s.value;if(u()===!1)return!1}}catch(g){i.e(g)}finally{i.f()}if(_e instanceof Gp.IncomingRequest){var n=Ps(dE),d;try{for(n.s();!(d=n.n()).done;){var h=d.value;if(h()===!1)return!1}}catch(g){n.e(g)}finally{n.f()}}else if(_e instanceof Gp.IncomingResponse){var c=Ps(hE),_;try{for(c.s();!(_=c.n()).done;){var v=_.value;if(v()===!1)return!1}}catch(g){c.e(g)}finally{c.f()}}return!0};function _E(){if(_e.s("to").uri.scheme!=="sip")return si(416),!1}function vE(){if(!_e.to_tag&&_e.call_id.substr(0,5)===Yt.configuration.jssip_id)return si(482),!1}function mE(){var e=hf.str_utf8_length(_e.body),t=_e.getHeader("content-length");if(e<t)return si(400),!1}function gE(){var e=_e.from_tag,t=_e.call_id,l=_e.cseq,i;if(!_e.to_tag)if(_e.method===Um.INVITE){if(Yt._transactions.ist[_e.via_branch])return!1;for(var s in Yt._transactions.ist)if(Object.prototype.hasOwnProperty.call(Yt._transactions.ist,s)&&(i=Yt._transactions.ist[s],i.request.from_tag===e&&i.request.call_id===t&&i.request.cseq===l))return si(482),!1}else{if(Yt._transactions.nist[_e.via_branch])return!1;for(var u in Yt._transactions.nist)if(Object.prototype.hasOwnProperty.call(Yt._transactions.nist,u)&&(i=Yt._transactions.nist[u],i.request.from_tag===e&&i.request.call_id===t&&i.request.cseq===l))return si(482),!1}}function yE(){if(_e.getHeaders("via").length>1)return pf.debug("more than one Via header field present in the response, dropping the response"),!1}function SE(){var e=hf.str_utf8_length(_e.body),t=_e.getHeader("content-length");if(e<t)return pf.debug("message body length is lower than the value in Content-Length header field, dropping the response"),!1}function TE(){for(var e=["from","to","call_id","cseq","via"],t=0,l=e;t<l.length;t++){var i=l[t];if(!_e.hasHeader(i))return pf.debug("missing mandatory header field : ".concat(i,", dropping the response")),!1}}function si(e){var t=_e.getHeaders("via"),l,i="SIP/2.0 ".concat(e," ").concat(Um.REASON_PHRASE[e],`\r
`),s=Ps(t),u;try{for(s.s();!(u=s.n()).done;){var n=u.value;i+="Via: ".concat(n,`\r
`)}}catch(d){s.e(d)}finally{s.f()}l=_e.getHeader("To"),_e.to_tag||(l+=";tag=".concat(hf.newTag())),i+="To: ".concat(l,`\r
`),i+="From: ".concat(_e.getHeader("From"),`\r
`),i+="Call-ID: ".concat(_e.call_id,`\r
`),i+="CSeq: ".concat(_e.cseq," ").concat(_e.method,`\r
`),i+=`\r
`,Lm.send(i)}var _f={};function Kp(e,t){var l;if(typeof Symbol>"u"||e[Symbol.iterator]==null){if(Array.isArray(e)||(l=CE(e))||t){l&&(e=l);var i=0,s=function(){};return{s,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(c){throw c},f:s}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var u=!0,n=!1,d;return{s:function(){l=e[Symbol.iterator]()},n:function(){var c=l.next();return u=c.done,c},e:function(c){n=!0,d=c},f:function(){try{!u&&l.return!=null&&l.return()}finally{if(n)throw d}}}}function CE(e,t){if(e){if(typeof e=="string")return Qp(e,t);var l=Object.prototype.toString.call(e).slice(8,-1);if(l==="Object"&&e.constructor&&(l=e.constructor.name),l==="Map"||l==="Set")return Array.from(e);if(l==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(l))return Qp(e,t)}}function Qp(e,t){(t==null||t>e.length)&&(t=e.length);for(var l=0,i=new Array(t);l<t;l++)i[l]=e[l];return i}var Mr=lt(),ur=Me,Xu=tn(),Yp=Wn(),Ju=df,Zu=Vn;_f.settings={authorization_user:null,password:null,realm:null,ha1:null,authorization_jwt:null,display_name:null,uri:null,contact_uri:null,instance_id:null,use_preloaded_route:!1,session_timers:!0,session_timers_refresh_method:ur.UPDATE,session_timers_force_refresher:!1,no_answer_timeout:60,register:!0,register_expires:600,registrar_server:null,sockets:null,connection_recovery_max_interval:ur.CONNECTION_RECOVERY_MAX_INTERVAL,connection_recovery_min_interval:ur.CONNECTION_RECOVERY_MIN_INTERVAL,extra_headers:null,via_host:"".concat(Mr.createRandomToken(12),".invalid")};var us={mandatory:{sockets:function(t){var l=[];if(Ju.isSocket(t))l.push({socket:t});else if(Array.isArray(t)&&t.length){var i=Kp(t),s;try{for(i.s();!(s=i.n()).done;){var u=s.value;Object.prototype.hasOwnProperty.call(u,"socket")&&Ju.isSocket(u.socket)?l.push(u):Ju.isSocket(u)&&l.push({socket:u})}}catch(n){i.e(n)}finally{i.f()}}else return;return l},uri:function(t){/^sip:/i.test(t)||(t="".concat(ur.SIP,":").concat(t));var l=Yp.parse(t);if(l)return l.user?l:void 0}},optional:{authorization_user:function(t){if(Xu.parse('"'.concat(t,'"'),"quoted_string")!==-1)return t},authorization_jwt:function(t){if(typeof t=="string")return t},user_agent:function(t){if(typeof t=="string")return t},connection_recovery_max_interval:function(t){if(Mr.isDecimal(t)){var l=Number(t);if(l>0)return l}},connection_recovery_min_interval:function(t){if(Mr.isDecimal(t)){var l=Number(t);if(l>0)return l}},contact_uri:function(t){if(typeof t=="string"){var l=Xu.parse(t,"SIP_URI");if(l!==-1)return l}},display_name:function(t){return t},instance_id:function(t){if(/^uuid:/i.test(t)&&(t=t.substr(5)),Xu.parse(t,"uuid")!==-1)return t},no_answer_timeout:function(t){if(Mr.isDecimal(t)){var l=Number(t);if(l>0)return l}},session_timers:function(t){if(typeof t=="boolean")return t},session_timers_refresh_method:function(t){if(typeof t=="string"&&(t=t.toUpperCase(),t===ur.INVITE||t===ur.UPDATE))return t},session_timers_force_refresher:function(t){if(typeof t=="boolean")return t},password:function(t){return String(t)},realm:function(t){return String(t)},ha1:function(t){return String(t)},register:function(t){if(typeof t=="boolean")return t},register_expires:function(t){if(Mr.isDecimal(t)){var l=Number(t);if(l>0)return l}},registrar_server:function(t){/^sip:/i.test(t)||(t="".concat(ur.SIP,":").concat(t));var l=Yp.parse(t);if(l)return l.user?void 0:l},use_preloaded_route:function(t){if(typeof t=="boolean")return t},extra_headers:function(t){var l=[];if(Array.isArray(t)&&t.length){var i=Kp(t),s;try{for(i.s();!(s=i.n()).done;){var u=s.value;typeof u=="string"&&l.push(u)}}catch(n){i.e(n)}finally{i.f()}}else return;return l}}};_f.load=function(e,t){for(var l in us.mandatory)if(t.hasOwnProperty(l)){var i=t[l],s=us.mandatory[l](i);if(s!==void 0)e[l]=s;else throw new Zu.ConfigurationError(l,i)}else throw new Zu.ConfigurationError(l);for(var u in us.optional)if(t.hasOwnProperty(u)){var n=t[u];if(Mr.isEmpty(n))continue;var d=us.optional[u](n);if(d!==void 0)e[u]=d;else throw new Zu.ConfigurationError(u,n)}};function Ds(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ds=function(l){return typeof l}:Ds=function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},Ds(e)}function EE(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Xp(e,t){for(var l=0;l<t.length;l++){var i=t[l];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Jp(e,t,l){return t&&Xp(e.prototype,t),l&&Xp(e,l),e}function wE(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&oc(e,t)}function oc(e,t){return oc=Object.setPrototypeOf||function(i,s){return i.__proto__=s,i},oc(e,t)}function RE(e){var t=IE();return function(){var i=po(e),s;if(t){var u=po(this).constructor;s=Reflect.construct(i,arguments,u)}else s=i.apply(this,arguments);return AE(this,s)}}function AE(e,t){return t&&(Ds(t)==="object"||typeof t=="function")?t:Mm(e)}function Mm(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function IE(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function po(e){return po=Object.setPrototypeOf?Object.getPrototypeOf:function(l){return l.__proto__||Object.getPrototypeOf(l)},po(e)}var kE=Gn.EventEmitter,xE=Ve,We=Me,OE=aT,Zp=EC,e_=MC,t_=YC,ea=yi,NE=lE,as=lt(),bE=Vn,PE=Wn(),DE=Dm,ta=mn,UE=pE,na=_f,ge=new xE("UA"),Ke={STATUS_INIT:0,STATUS_READY:1,STATUS_USER_CLOSED:2,STATUS_NOT_READY:3,CONFIGURATION_ERROR:1,NETWORK_ERROR:2},LE=function(e){wE(l,e);var t=RE(l);Jp(l,null,[{key:"C",get:function(){return Ke}}]);function l(i){var s;if(EE(this,l),ge.debug("new() [configuration:%o]",i),s=t.call(this),s._cache={credentials:{}},s._configuration=Object.assign({},na.settings),s._dynConfiguration={},s._dialogs={},s._applicants={},s._sessions={},s._transport=null,s._contact=null,s._status=Ke.STATUS_INIT,s._error=null,s._transactions={nist:{},nict:{},ist:{},ict:{}},s._data={},s._closeTimer=null,i===void 0)throw new TypeError("Not enough arguments");try{s._loadConfig(i)}catch(u){throw s._status=Ke.STATUS_NOT_READY,s._error=Ke.CONFIGURATION_ERROR,u}return s._registrator=new OE(Mm(s)),s}return Jp(l,[{key:"start",value:function(){ge.debug("start()"),this._status===Ke.STATUS_INIT?this._transport.connect():this._status===Ke.STATUS_USER_CLOSED?(ge.debug("restarting UA"),this._closeTimer!==null&&(clearTimeout(this._closeTimer),this._closeTimer=null,this._transport.disconnect()),this._status=Ke.STATUS_INIT,this._transport.connect()):this._status===Ke.STATUS_READY?ge.debug("UA is in READY status, not restarted"):ge.debug("ERROR: connection is down, Auto-Recovery system is trying to reconnect"),this._dynConfiguration.register=this._configuration.register}},{key:"register",value:function(){ge.debug("register()"),this._dynConfiguration.register=!0,this._registrator.register()}},{key:"unregister",value:function(s){ge.debug("unregister()"),this._dynConfiguration.register=!1,this._registrator.unregister(s)}},{key:"registrator",value:function(){return this._registrator}},{key:"isRegistered",value:function(){return this._registrator.registered}},{key:"isConnected",value:function(){return this._transport.isConnected()}},{key:"call",value:function(s,u){ge.debug("call()");var n=new Zp(this);return n.connect(s,u),n}},{key:"sendMessage",value:function(s,u,n){ge.debug("sendMessage()");var d=new e_(this);return d.send(s,u,n),d}},{key:"sendOptions",value:function(s,u,n){ge.debug("sendOptions()");var d=new t_(this);return d.send(s,u,n),d}},{key:"terminateSessions",value:function(s){ge.debug("terminateSessions()");for(var u in this._sessions)this._sessions[u].isEnded()||this._sessions[u].terminate(s)}},{key:"stop",value:function(){var s=this;if(ge.debug("stop()"),this._dynConfiguration={},this._status===Ke.STATUS_USER_CLOSED){ge.debug("UA already closed");return}this._registrator.close();var u=Object.keys(this._sessions).length;for(var n in this._sessions)if(Object.prototype.hasOwnProperty.call(this._sessions,n)){ge.debug("closing session ".concat(n));try{this._sessions[n].terminate()}catch{}}for(var d in this._applicants)if(Object.prototype.hasOwnProperty.call(this._applicants,d))try{this._applicants[d].close()}catch{}this._status=Ke.STATUS_USER_CLOSED;var h=Object.keys(this._transactions.nict).length+Object.keys(this._transactions.nist).length+Object.keys(this._transactions.ict).length+Object.keys(this._transactions.ist).length;h===0&&u===0?this._transport.disconnect():this._closeTimer=setTimeout(function(){s._closeTimer=null,s._transport.disconnect()},2e3)}},{key:"normalizeTarget",value:function(s){return as.normalizeTarget(s,this._configuration.hostport_params)}},{key:"get",value:function(s){switch(s){case"authorization_user":return this._configuration.authorization_user;case"realm":return this._configuration.realm;case"ha1":return this._configuration.ha1;case"authorization_jwt":return this._configuration.authorization_jwt;default:ge.warn('get() | cannot get "%s" parameter in runtime',s);return}}},{key:"set",value:function(s,u){switch(s){case"authorization_user":{this._configuration.authorization_user=String(u);break}case"password":{this._configuration.password=String(u);break}case"realm":{this._configuration.realm=String(u);break}case"ha1":{this._configuration.ha1=String(u),this._configuration.password=null;break}case"authorization_jwt":{this._configuration.authorization_jwt=String(u);break}case"display_name":{this._configuration.display_name=u;break}case"extra_headers":{this._configuration.extra_headers=u;break}default:return ge.warn('set() | cannot set "%s" parameter in runtime',s),!1}return!0}},{key:"newTransaction",value:function(s){this._transactions[s.type][s.id]=s,this.emit("newTransaction",{transaction:s})}},{key:"destroyTransaction",value:function(s){delete this._transactions[s.type][s.id],this.emit("transactionDestroyed",{transaction:s})}},{key:"newDialog",value:function(s){this._dialogs[s.id]=s}},{key:"destroyDialog",value:function(s){delete this._dialogs[s.id]}},{key:"newMessage",value:function(s,u){this._applicants[s]=s,this.emit("newMessage",u)}},{key:"newOptions",value:function(s,u){this._applicants[s]=s,this.emit("newOptions",u)}},{key:"destroyMessage",value:function(s){delete this._applicants[s]}},{key:"newRTCSession",value:function(s,u){this._sessions[s.id]=s,this.emit("newRTCSession",u)}},{key:"destroyRTCSession",value:function(s){delete this._sessions[s.id]}},{key:"registered",value:function(s){this.emit("registered",s)}},{key:"unregistered",value:function(s){this.emit("unregistered",s)}},{key:"registrationFailed",value:function(s){this.emit("registrationFailed",s)}},{key:"receiveRequest",value:function(s){var u=s.method;if(s.ruri.user!==this._configuration.uri.user&&s.ruri.user!==this._contact.uri.user){ge.debug("Request-URI does not point to us"),s.method!==We.ACK&&s.reply_sl(404);return}if(s.ruri.scheme===We.SIPS){s.reply_sl(416);return}if(!ea.checkTransaction(this,s)){if(u===We.INVITE?new ea.InviteServerTransaction(this,this._transport,s):u!==We.ACK&&u!==We.CANCEL&&new ea.NonInviteServerTransaction(this,this._transport,s),u===We.OPTIONS){if(this.listeners("newOptions").length===0){s.reply(200);return}var n=new t_(this);n.init_incoming(s)}else if(u===We.MESSAGE){if(this.listeners("newMessage").length===0){s.reply(405);return}var d=new e_(this);d.init_incoming(s)}else if(u===We.INVITE&&!s.to_tag&&this.listeners("newRTCSession").length===0){s.reply(405);return}var h,c;if(s.to_tag)h=this._findDialog(s.call_id,s.from_tag,s.to_tag),h?h.receiveRequest(s):u===We.NOTIFY?(c=this._findSession(s),c?c.receiveRequest(s):(ge.debug("received NOTIFY request for a non existent subscription"),s.reply(481,"Subscription does not exist"))):u!==We.ACK&&s.reply(481);else switch(u){case We.INVITE:if(window.RTCPeerConnection)if(s.hasHeader("replaces")){var _=s.replaces;h=this._findDialog(_.call_id,_.from_tag,_.to_tag),h?(c=h.owner,c.isEnded()?s.reply(603):c.receiveRequest(s)):s.reply(481)}else c=new Zp(this),c.init_incoming(s);else ge.warn("INVITE received but WebRTC is not supported"),s.reply(488);break;case We.BYE:s.reply(481);break;case We.CANCEL:c=this._findSession(s),c?c.receiveRequest(s):ge.debug("received CANCEL request for a non existent session");break;case We.ACK:break;case We.NOTIFY:this.emit("sipEvent",{event:s.event,request:s}),s.reply(200);break;default:s.reply(405);break}}}},{key:"_findSession",value:function(s){var u=s.call_id,n=s.from_tag,d=s.to_tag,h=u+n,c=this._sessions[h],_=u+d,v=this._sessions[_];return c||v||null}},{key:"_findDialog",value:function(s,u,n){var d=s+u+n,h=this._dialogs[d];return h||(d=s+n+u,h=this._dialogs[d],h||null)}},{key:"_loadConfig",value:function(s){try{na.load(this._configuration,s)}catch(_){throw _}this._configuration.display_name===0&&(this._configuration.display_name="0"),this._configuration.instance_id||(this._configuration.instance_id=as.newUUID()),this._configuration.jssip_id=as.createRandomToken(5);var u=this._configuration.uri.clone();u.user=null,this._configuration.hostport_params=u.toString().replace(/^sip:/i,"");try{this._transport=new NE(this._configuration.sockets,{max_interval:this._configuration.connection_recovery_max_interval,min_interval:this._configuration.connection_recovery_min_interval}),this._transport.onconnecting=ME.bind(this),this._transport.onconnect=FE.bind(this),this._transport.ondisconnect=HE.bind(this),this._transport.ondata=$E.bind(this)}catch(_){throw ge.warn(_),new bE.ConfigurationError("sockets",this._configuration.sockets)}if(delete this._configuration.sockets,this._configuration.authorization_user||(this._configuration.authorization_user=this._configuration.uri.user),!this._configuration.registrar_server){var n=this._configuration.uri.clone();n.user=null,n.clearParams(),n.clearHeaders(),this._configuration.registrar_server=n}this._configuration.no_answer_timeout*=1e3,this._configuration.contact_uri?this._configuration.via_host=this._configuration.contact_uri.host:this._configuration.contact_uri=new PE("sip",as.createRandomToken(8),this._configuration.via_host,null,{transport:"ws"}),this._contact={pub_gruu:null,temp_gruu:null,uri:this._configuration.contact_uri,toString:function(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},g=v.anonymous||null,S=v.outbound||null,E="<";return g?E+=this.temp_gruu||"sip:anonymous@anonymous.invalid;transport=ws":E+=this.pub_gruu||this.uri.toString(),S&&(g?!this.temp_gruu:!this.pub_gruu)&&(E+=";ob"),E+=">",E}};var d=["authorization_user","password","realm","ha1","authorization_jwt","display_name","register","extra_headers"];for(var h in this._configuration)Object.prototype.hasOwnProperty.call(this._configuration,h)&&(d.indexOf(h)!==-1?Object.defineProperty(this._configuration,h,{writable:!0,configurable:!1}):Object.defineProperty(this._configuration,h,{writable:!1,configurable:!1}));ge.debug("configuration parameters after validation:");for(var c in this._configuration)if(Object.prototype.hasOwnProperty.call(na.settings,c))switch(c){case"uri":case"registrar_server":ge.debug("- ".concat(c,": ").concat(this._configuration[c]));break;case"password":case"ha1":case"authorization_jwt":ge.debug("- ".concat(c,": NOT SHOWN"));break;default:ge.debug("- ".concat(c,": ").concat(JSON.stringify(this._configuration[c])))}}},{key:"C",get:function(){return Ke}},{key:"status",get:function(){return this._status}},{key:"contact",get:function(){return this._contact}},{key:"configuration",get:function(){return this._configuration}},{key:"transport",get:function(){return this._transport}}]),l}(kE);function ME(e){this.emit("connecting",e)}function FE(e){this._status!==Ke.STATUS_USER_CLOSED&&(this._status=Ke.STATUS_READY,this._error=null,this.emit("connected",e),this._dynConfiguration.register&&this._registrator.register())}function HE(e){for(var t=["nict","ict","nist","ist"],l=0,i=t;l<i.length;l++){var s=i[l];for(var u in this._transactions[s])Object.prototype.hasOwnProperty.call(this._transactions[s],u)&&this._transactions[s][u].onTransportError()}this.emit("disconnected",e),this._registrator.onTransportClosed(),this._status!==Ke.STATUS_USER_CLOSED&&(this._status=Ke.STATUS_NOT_READY,this._error=Ke.NETWORK_ERROR)}function $E(e){var t=e.transport,l=e.message;if(l=DE.parseMessage(l,this),!!l&&!(this._status===Ke.STATUS_USER_CLOSED&&l instanceof ta.IncomingRequest)&&UE(l,this,t)){if(l instanceof ta.IncomingRequest)l.transport=t,this.receiveRequest(l);else if(l instanceof ta.IncomingResponse){var i;switch(l.method){case We.INVITE:i=this._transactions.ict[l.via_branch],i&&i.receiveResponse(l);break;case We.ACK:break;default:i=this._transactions.nict[l.via_branch],i&&i.receiveResponse(l);break}}}}function jE(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zE(e,t){for(var l=0;l<t.length;l++){var i=t[l];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function BE(e,t,l){return t&&zE(e.prototype,t),e}var qE=Ve,VE=tn(),st=new qE("WebSocketInterface"),WE=function(){function e(t){jE(this,e),st.debug('new() [url:"%s"]',t),this._url=t,this._sip_uri=null,this._via_transport=null,this._ws=null;var l=VE.parse(t,"absoluteURI");if(l===-1)throw st.warn("invalid WebSocket URI: ".concat(t)),new TypeError("Invalid argument: ".concat(t));if(l.scheme!=="wss"&&l.scheme!=="ws")throw st.warn("invalid WebSocket URI scheme: ".concat(l.scheme)),new TypeError("Invalid argument: ".concat(t));this._sip_uri="sip:".concat(l.host).concat(l.port?":".concat(l.port):"",";transport=ws"),this._via_transport=l.scheme.toUpperCase()}return BE(e,[{key:"connect",value:function(){if(st.debug("connect()"),this.isConnected()){st.debug("WebSocket ".concat(this._url," is already connected"));return}else if(this.isConnecting()){st.debug("WebSocket ".concat(this._url," is connecting"));return}this._ws&&this.disconnect(),st.debug("connecting to WebSocket ".concat(this._url));try{this._ws=new WebSocket(this._url,"sip"),this._ws.binaryType="arraybuffer",this._ws.onopen=this._onOpen.bind(this),this._ws.onclose=this._onClose.bind(this),this._ws.onmessage=this._onMessage.bind(this),this._ws.onerror=this._onError.bind(this)}catch(l){this._onError(l)}}},{key:"disconnect",value:function(){st.debug("disconnect()"),this._ws&&(this._ws.onopen=function(){},this._ws.onclose=function(){},this._ws.onmessage=function(){},this._ws.onerror=function(){},this._ws.close(),this._ws=null)}},{key:"send",value:function(l){return st.debug("send()"),this.isConnected()?(this._ws.send(l),!0):(st.warn("unable to send message, WebSocket is not open"),!1)}},{key:"isConnected",value:function(){return this._ws&&this._ws.readyState===this._ws.OPEN}},{key:"isConnecting",value:function(){return this._ws&&this._ws.readyState===this._ws.CONNECTING}},{key:"_onOpen",value:function(){st.debug("WebSocket ".concat(this._url," connected")),this.onconnect()}},{key:"_onClose",value:function(l){var i=l.wasClean,s=l.code,u=l.reason;st.debug("WebSocket ".concat(this._url," closed")),i===!1&&st.debug("WebSocket abrupt disconnection"),this.ondisconnect(!i,s,u)}},{key:"_onMessage",value:function(l){var i=l.data;st.debug("received WebSocket message"),this.ondata(i)}},{key:"_onError",value:function(l){st.warn("WebSocket ".concat(this._url," error: "),l)}},{key:"via_transport",get:function(){return this._via_transport},set:function(l){this._via_transport=l.toUpperCase()}},{key:"sip_uri",get:function(){return this._sip_uri}},{key:"url",get:function(){return this._url}}]),e}(),uc=mm,GE=Me,KE=Vn,QE=lt(),YE=LE,XE=Wn(),JE=lf(),ZE=tn(),e1=WE,t1=of("JsSIP");t1("version %s",uc.version);var n1={C:GE,Exceptions:KE,Utils:QE,UA:YE,URI:XE,NameAddrHeader:JE,WebSocketInterface:e1,Grammar:ZE,debug:of,get name(){return uc.title},get version(){return uc.version}};const n_=l_(n1),lr=class lr{constructor(){Tr(this,"ua");Tr(this,"contacts",[]);Tr(this,"callHistory",[]);Tr(this,"callCallbacks",{})}static getInstance(){return lr.instance||(lr.instance=new lr),lr.instance}setCallCallbacks(t){this.callCallbacks=t}connect(t){const l=new n_.WebSocketInterface(t.websocketUrl),i=new n_.UA({uri:`sip:${t.username}@${t.domain}`,password:t.password,sockets:[l]});i.on("connected",()=>console.log("SIP Connected")),i.on("disconnected",()=>console.log("SIP Disconnected")),i.on("registered",()=>console.log("SIP Registered")),i.on("newRTCSession",({session:s})=>this.handleSession(s)),i.start(),this.ua=i}handleSession(t){var s,u;const l=t.direction,i=t.remote_identity.uri.toString();if(console.log("session",t),this.callHistory.push({id:Date.now(),remote:i,direction:l,time:new Date().toISOString()}),l==="incoming"){t.on("accepted",()=>{var d,h;console.log("Call accepted"),(h=(d=this.callCallbacks).onCallAccepted)==null||h.call(d,t)}),t.on("failed",()=>{var d,h;console.log("Call failed/rejected"),(h=(d=this.callCallbacks).onCallRejected)==null||h.call(d,t)}),t.on("ended",()=>{var d,h;console.log("Call ended"),(h=(d=this.callCallbacks).onCallEnded)==null||h.call(d,t)});const n=this.extractNumberFromUri(i);(u=(s=this.callCallbacks).onIncomingCall)==null||u.call(s,t,n)}}extractNumberFromUri(t){const l=t.match(/sip:([^@]+)@/);return l?l[1]:t}getContacts(){return this.contacts}searchContacts(t){return this.contacts.filter(l=>l.name.toLowerCase().includes(t.toLowerCase()))}addContact(t){this.contacts.push(t)}getCallHistory(){return this.callHistory}makeCall(t){if(!this.ua)throw new Error("SIP UA not initialized");return this.ua.call(t,{mediaConstraints:{audio:!0,video:!1}})}acceptCall(t){t&&t.answer({mediaConstraints:{audio:!0,video:!1}})}rejectCall(t){t&&t.terminate()}terminateCall(t){t&&t.status!==8&&t.terminate()}makeMute(t){t&&t.mute()}makeUnmute(t){t&&t.unmute()}};Tr(lr,"instance");let ac=lr;const Ne=ac.getInstance(),Fm=de.createContext(null),r1=({children:e})=>{const[t,l]=de.useState(Ne.getContacts()),[i,s]=de.useState(Ne.getCallHistory()),[u,n]=de.useState({session:null,callerNumber:"",isIncoming:!1});de.useEffect(()=>{Ne.setCallCallbacks({onIncomingCall:(v,g)=>{console.log("Incoming call from:",g),n({session:v,callerNumber:g,isIncoming:!0})},onCallAccepted:v=>{console.log("Call accepted"),n(g=>({...g,isIncoming:!1}))},onCallRejected:v=>{console.log("Call rejected"),n({session:null,callerNumber:"",isIncoming:!1})},onCallEnded:v=>{console.log("Call ended"),n({session:null,callerNumber:"",isIncoming:!1})}})},[]);const d=v=>{Ne.addContact(v),l(Ne.getContacts())},h=v=>Ne.searchContacts(v),c=()=>{u.session&&Ne.acceptCall(u.session)},_=()=>{u.session&&Ne.rejectCall(u.session)};return U.jsx(Fm.Provider,{value:{contacts:t,callHistory:i,addContact:d,search:h,incomingCall:u,acceptIncomingCall:c,rejectIncomingCall:_},children:e})},Mo=()=>{const e=de.useContext(Fm);if(!e)throw new Error("useSipContext must be used within SipProvider");return e},_o=({isOpen:e,onClose:t,contactName:l,phoneNumber:i,onEndCall:s,onMute:u,onChat:n,onFullscreen:d,isMuted:h,isIncoming:c=!1,onAcceptCall:_,onRejectCall:v,domain:g})=>e?U.jsx("div",{style:De.overlay,children:U.jsxs("div",{style:De.dialog,children:[U.jsx("div",{style:De.header,children:U.jsxs("div",{style:De.callInfo,children:[U.jsx("span",{style:De.phoneIcon,children:"📞"}),U.jsxs("div",{style:De.textContainer,children:[U.jsx("div",{style:De.callText,children:c?`تماس از کاربر ${i}`:`در حال تماس با ${l||i}`}),c&&g&&U.jsx("div",{style:De.domainText,children:g}),!c&&U.jsx("div",{style:De.phoneNumber,children:i})]})]})}),U.jsx("div",{style:De.buttonContainer,children:c?U.jsxs(U.Fragment,{children:[U.jsx("button",{style:De.acceptCallBtn,onClick:_,title:"پذیرش تماس",children:"📞"}),U.jsx("button",{style:De.rejectCallBtn,onClick:v,title:"رد تماس",children:"🚫"}),U.jsx("button",{style:De.actionBtn,onClick:u,title:"بی‌صدا",children:"🎤"}),U.jsx("button",{style:De.actionBtn,onClick:n,title:"چت",children:"💬"}),U.jsx("button",{style:De.actionBtn,onClick:d,title:"تمام صفحه",children:"⬜"})]}):U.jsxs(U.Fragment,{children:[U.jsx("button",{style:De.endCallBtn,onClick:s,title:"پایان تماس",children:"📞"}),h?U.jsx("button",{style:De.actionBtn,onClick:u,title:"با صدا",children:"🔇"}):U.jsx("button",{style:De.actionMuteBtn,onClick:u,title:"بی‌صدا",children:"🎤"}),U.jsx("button",{style:De.actionBtn,onClick:n,title:"چت",children:"💬"}),U.jsx("button",{style:De.actionBtn,onClick:d,title:"تمام صفحه",children:"⬜"})]})})]})}):null,De={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},dialog:{backgroundColor:"#fff",borderRadius:8,padding:20,minWidth:300,maxWidth:400,boxShadow:"0 4px 20px rgba(0, 0, 0, 0.3)",textAlign:"center",fontFamily:"sans-serif"},header:{marginBottom:20},callInfo:{display:"flex",alignItems:"center",justifyContent:"center",gap:10},phoneIcon:{fontSize:"1.5rem"},textContainer:{textAlign:"right",direction:"rtl"},callText:{fontSize:"1rem",fontWeight:"bold",color:"#000",marginBottom:4},domainText:{fontSize:"0.9rem",color:"#666"},phoneNumber:{fontSize:"0.9rem",color:"#666"},buttonContainer:{display:"flex",justifyContent:"center",gap:15},endCallBtn:{backgroundColor:"#ff4444",color:"white",border:"none",borderRadius:"50%",width:50,height:50,fontSize:"1.2rem",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},acceptCallBtn:{backgroundColor:"#4caf50",color:"white",border:"none",borderRadius:"50%",width:50,height:50,fontSize:"1.2rem",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},rejectCallBtn:{backgroundColor:"#ff4444",color:"white",border:"none",borderRadius:"50%",width:50,height:50,fontSize:"1.2rem",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},actionBtn:{backgroundColor:"#f0f0f0",color:"#333",border:"none",borderRadius:"50%",width:50,height:50,fontSize:"1.2rem",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},actionMuteBtn:{backgroundColor:"#f0f0f0",color:"#333",border:"none",borderRadius:"50%",width:50,height:50,fontSize:"1.2rem",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"}},l1=()=>{const[e,t]=de.useState(""),[l,i]=de.useState(!1),[s,u]=de.useState(!1),[n,d]=de.useState(!1),[h,c]=de.useState(!1),[_,v]=de.useState(null),{incomingCall:g,acceptIncomingCall:S,rejectIncomingCall:E}=Mo(),R=X=>{t(Ie=>Ie+X)},F=()=>{if(e){const X=Ne.makeCall(e);v(X),i(!0)}},C=()=>{_&&(Ne.terminateCall(_),v(null),i(!1))},T=()=>{_&&(s?Ne.makeUnmute(_):Ne.makeMute(_),u(!s))},w=()=>{},I=()=>{_&&c(!h)},L=()=>{S(),v(g.session),i(!0)},q=()=>{E()},B=["1","2","3","4","5","6","7","8","9","*","0","#"],k=g.isIncoming&&g.session,b=l&&_;return U.jsxs(U.Fragment,{children:[U.jsxs("div",{style:tr.container,dir:"rtl",children:[U.jsxs("div",{style:tr.inputContainerStyle,children:[U.jsx("input",{type:"text",value:e,onChange:X=>t(X.target.value),style:tr.inputStyle,placeholder:"شماره گیری ... "}),e&&U.jsx("button",{onClick:()=>t(""),style:tr.clearButtonStyle,"aria-label":"Clear input",children:"❌"})]}),U.jsx("div",{style:tr.grid,children:B.map(X=>U.jsx("button",{style:tr.key,onClick:()=>R(X),children:X},X))}),U.jsx("button",{style:tr.callBtn,onClick:F,children:"تماس"})]}),k&&U.jsx(_o,{isOpen:!0,onClose:()=>{},phoneNumber:g.callerNumber,onEndCall:C,onMute:T,onChat:w,onFullscreen:I,isMuted:s,isIncoming:!0,onAcceptCall:L,onRejectCall:q,domain:"mozhganahmadi.ir"}),b&&U.jsx(_o,{isOpen:!0,onClose:()=>i(!1),phoneNumber:e,onEndCall:C,onMute:T,onChat:w,onFullscreen:I,isMuted:s,isIncoming:!1})]})},tr={container:{width:300,margin:"0 auto",padding:16,borderRadius:8,backgroundColor:"#fff",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",fontFamily:"sans-serif",textAlign:"center"},grid:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:10,marginBottom:16},key:{padding:16,fontSize:18,borderRadius:8,border:"1px solid #ddd",cursor:"pointer",background:"#f9f9f9"},callBtn:{backgroundColor:"#4caf50",color:"white",padding:"10px 20px",border:"none",borderRadius:4,fontSize:16,cursor:"pointer"},inputContainerStyle:{display:"flex",alignItems:"center",border:"1px solid #e0e0e0",borderRadius:"6px",padding:"8px 12px",width:"280px",backgroundColor:"#fff"},inputStyle:{flex:1,border:"none",outline:"none",fontSize:"14px",backgroundColor:"transparent"},clearButtonStyle:{border:"none",background:"none",cursor:"pointer",fontSize:"12px",padding:"4px"}},i1=()=>{const{contacts:e}=Mo(),[t,l]=de.useState(!1),[i,s]=de.useState(!1),[u,n]=de.useState(null),[d,h]=de.useState(null),[c,_]=de.useState(""),g=[{id:"101",name:"سحر یاری"},{id:"102",name:"مهدی رضایی"},{id:"103",name:"ملیحه ضیایی"},{id:"104",name:"آراز مروتی"},{id:"105",name:"منصور ثریایی"}].filter(I=>I.name.includes(c)||I.id.includes(c)),S=I=>{console.log("Calling contact:",I.name);try{const L=Ne.makeCall(I.id);n(L),h(I),l(!0)}catch(L){console.error("Failed to make call:",L)}},E=I=>{console.log("Video calling contact:",I.name)},R=I=>{console.log("Chat with contact:",I.name)},F=()=>{u&&(Ne.terminateCall(u),n(null),l(!1),h(null))},C=()=>{u&&(i?Ne.makeUnmute(u):Ne.makeMute(u),s(!i))},T=()=>{u&&console.log("Chat opened")},w=()=>{u&&console.log("Fullscreen toggled")};return U.jsxs(U.Fragment,{children:[U.jsx("div",{style:ht.searchContainer,children:U.jsx("input",{style:ht.searchInput,placeholder:"جستجو...",value:c,onChange:I=>_(I.target.value)})}),U.jsxs("div",{style:ht.container,children:[g.map(I=>U.jsxs("div",{style:ht.contactItem,children:[U.jsx("div",{style:ht.contactInfo,children:U.jsxs("div",{style:ht.contactHeader,children:[U.jsx("span",{style:ht.contactName,children:I.name}),U.jsx("span",{style:ht.contactId,children:I.id})]})}),U.jsxs("div",{style:ht.actionButtons,children:[U.jsx("button",{style:ht.actionButton,onClick:()=>R(I),title:"چت",children:"💬"}),U.jsx("button",{style:ht.actionButton,onClick:()=>E(I),title:"تماس تصویری",children:"📹"}),U.jsx("button",{style:ht.actionButton,onClick:()=>S(I),title:"تماس صوتی",children:"📞"})]})]},I.id)),g.length===0&&U.jsx("div",{style:ht.emptyState,children:U.jsx("span",{style:ht.emptyText,children:"هیچ مخاطبی وجود ندارد"})})]}),t&&d&&U.jsx(_o,{isOpen:!0,onClose:()=>l(!1),contactName:d.name,phoneNumber:d.id,onEndCall:F,onMute:C,onChat:T,onFullscreen:w,isMuted:i,isIncoming:!1})]})},ht={searchContainer:{padding:"10px 20px",backgroundColor:"#f0f0f0",borderBottom:"1px solid #ccc"},searchInput:{width:"100%",padding:"8px 12px",borderRadius:8,border:"1px solid #ccc",fontSize:"0.9rem",boxSizing:"border-box"},container:{display:"flex",flexDirection:"column",gap:12},contactItem:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px",backgroundColor:"#f9f9f9",borderRadius:8,border:"1px solid #eee"},contactInfo:{display:"flex",flexDirection:"column",gap:4,flex:1},contactHeader:{display:"flex",alignItems:"center",gap:8},contactName:{fontSize:"0.9rem",fontWeight:"bold",color:"#333",flex:1},contactId:{fontSize:"0.8rem",color:"#666",backgroundColor:"#e0e0e0",padding:"2px 6px",borderRadius:4},actionButtons:{display:"flex",gap:8},actionButton:{background:"none",border:"none",fontSize:"1rem",cursor:"pointer",padding:"4px",borderRadius:4,transition:"background-color 0.2s"},emptyState:{display:"flex",justifyContent:"center",alignItems:"center",padding:"40px 20px"},emptyText:{color:"#666",fontSize:"0.9rem"}},r_=()=>{const{callHistory:e}=Mo(),[t,l]=de.useState(""),s=e.filter(S=>S.remote&&S.remote.includes(t)||S.direction&&S.direction.includes(t)||S.time&&new Date(S.time).toLocaleDateString("fa-IR").includes(t)),n=(()=>{const S={};return s.forEach(E=>{const R=new Date(E.time),F=new Date,C=new Date(F);C.setDate(C.getDate()-1);let T="";R.toDateString()===F.toDateString()?T="امروز":R.toDateString()===C.toDateString()?T="دیروز":T=R.toLocaleDateString("fa-IR",{weekday:"long",month:"long",day:"numeric"}),S[T]||(S[T]=[]),S[T].push(E)}),S})(),d=S=>{switch(S){case"incoming":return"📥";case"outgoing":return"📤";default:return"📞"}},h=S=>{switch(S){case"incoming":return"تماس ورودی";case"outgoing":return"تماس خروجی";default:return"تماس"}},c=S=>new Date(S).toLocaleTimeString("fa-IR",{hour:"2-digit",minute:"2-digit"}),_=S=>{console.log("Calling:",S)},v=S=>{console.log("Video calling:",S)},g=S=>{console.log("Chat with:",S)};return U.jsxs(U.Fragment,{children:[U.jsx("div",{style:ze.searchContainer,children:U.jsx("input",{style:ze.searchInput,placeholder:"جستجو...",value:t,onChange:S=>l(S.target.value)})}),U.jsxs("div",{style:ze.container,children:[Object.entries(n).map(([S,E])=>U.jsxs("div",{style:ze.dateSection,children:[U.jsx("h3",{style:ze.dateHeader,children:S}),E.map(R=>U.jsxs("div",{style:ze.callItem,children:[U.jsxs("div",{style:ze.callInfo,children:[U.jsxs("div",{style:ze.callHeader,children:[U.jsx("span",{style:ze.callIcon,children:d(R.direction)}),U.jsx("span",{style:ze.callName,children:R.remote||"بدون عنوان"}),U.jsx("span",{style:ze.callTime,children:c(R.time)})]}),U.jsx("div",{style:ze.callStatus,children:h(R.direction)})]}),U.jsxs("div",{style:ze.actionButtons,children:[U.jsx("button",{style:ze.actionButton,onClick:()=>g(R.remote),title:"چت",children:"💬"}),U.jsx("button",{style:ze.actionButton,onClick:()=>v(R.remote),title:"تماس تصویری",children:"📹"}),U.jsx("button",{style:ze.actionButton,onClick:()=>_(R.remote),title:"تماس صوتی",children:"📞"})]})]},R.id))]},S)),Object.keys(n).length===0&&U.jsx("div",{style:ze.emptyState,children:U.jsx("span",{style:ze.emptyText,children:"هیچ تماسی در تاریخچه وجود ندارد"})})]})]})},ze={searchContainer:{padding:"10px 20px",backgroundColor:"#f0f0f0",borderBottom:"1px solid #ccc"},searchInput:{width:"100%",padding:"8px 12px",borderRadius:8,border:"1px solid #ccc",fontSize:"0.9rem",color:"#333"},container:{display:"flex",flexDirection:"column",gap:16},dateSection:{display:"flex",flexDirection:"column",gap:8},dateHeader:{fontSize:"0.9rem",fontWeight:"bold",color:"#6a1b9a",margin:"8px 0",textAlign:"right"},callItem:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px",backgroundColor:"#f9f9f9",borderRadius:8,border:"1px solid #eee"},callInfo:{display:"flex",flexDirection:"column",gap:4,flex:1},callHeader:{display:"flex",alignItems:"center",gap:8},callIcon:{fontSize:"1rem"},callName:{fontSize:"0.9rem",fontWeight:"bold",color:"#333",flex:1},callTime:{fontSize:"0.8rem",color:"#666"},callStatus:{fontSize:"0.8rem",color:"#666",textAlign:"right"},actionButtons:{display:"flex",gap:8},actionButton:{background:"none",border:"none",fontSize:"1rem",cursor:"pointer",padding:"4px",borderRadius:4,transition:"background-color 0.2s"},emptyState:{display:"flex",justifyContent:"center",alignItems:"center",padding:"40px 20px"},emptyText:{color:"#666",fontSize:"0.9rem"}},s1=()=>{const{contacts:e}=Mo(),[t,l]=de.useState(!1),[i,s]=de.useState(!1),[u,n]=de.useState(null),[d,h]=de.useState(null),[c,_]=de.useState(""),g=[{id:"101",name:"سحر یاری",domain:"mozhganahmadi.ir",isOnline:!0},{id:"102",name:"مهدی رضایی",domain:"daftareshoma.com",isOnline:!1},{id:"103",name:"ملیحه ضیایی",domain:"daftareshoma.com",isOnline:!0},{id:"104",name:"آراز مروتی",domain:"daftareshoma.com",isOnline:!1},{id:"105",name:"منصور ثریایی",domain:"mozhganahmadi.ir",isOnline:!0}].filter(I=>I.name.includes(c)||I.domain.includes(c)||I.id.includes(c)),S=I=>{try{const L=Ne.makeCall(I.id);n(L),h(I),l(!0)}catch(L){console.error("Failed to make call:",L)}},E=I=>{},R=I=>{},F=()=>{u&&(Ne.terminateCall(u),n(null),l(!1),h(null))},C=()=>{u&&(i?Ne.makeUnmute(u):Ne.makeMute(u),s(!i))},T=()=>{},w=()=>{};return U.jsxs(U.Fragment,{children:[U.jsx("div",{style:ot.searchContainer,children:U.jsx("input",{style:ot.searchInput,placeholder:"جستجو...",value:c,onChange:I=>_(I.target.value)})}),U.jsxs("div",{style:ot.container,children:[g.map(I=>U.jsxs("div",{style:ot.contactItem,children:[U.jsxs("div",{style:ot.contactInfo,children:[U.jsxs("div",{style:ot.nameContainer,children:[U.jsx("span",{style:ot.name,children:I.name}),U.jsx("span",{style:{...ot.statusDot,backgroundColor:I.isOnline?"#4caf50":"#ccc"}})]}),U.jsx("span",{style:ot.domain,children:I.domain})]}),U.jsxs("div",{style:ot.actionButtons,children:[U.jsx("button",{style:ot.actionButton,onClick:()=>R(),title:"چت",children:"💬"}),U.jsx("button",{style:ot.actionButton,onClick:()=>E(),title:"تماس تصویری",children:"📹"}),U.jsx("button",{style:ot.actionButton,onClick:()=>S(I),title:"تماس صوتی",children:"📞"})]})]},I.id)),g.length===0&&U.jsx("div",{style:ot.emptyState,children:U.jsx("span",{style:ot.emptyText,children:"هیچ مخاطبی وجود ندارد"})})]}),t&&d&&U.jsx(_o,{isOpen:!0,onClose:()=>l(!1),contactName:d.name,phoneNumber:d.id,domain:d.domain,onEndCall:F,onMute:C,onChat:T,onFullscreen:w,isMuted:i,isIncoming:!1})]})},ot={searchContainer:{padding:"10px 20px",backgroundColor:"#f0f0f0",borderBottom:"1px solid #eee"},searchInput:{width:"100%",padding:"8px 12px",borderRadius:8,border:"1px solid #ccc",fontSize:"0.9rem"},container:{display:"flex",flexDirection:"column",gap:12},contactItem:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px",backgroundColor:"#f9f9f9",borderRadius:8,border:"1px solid #eee"},contactInfo:{display:"flex",flexDirection:"column",gap:4},nameContainer:{display:"flex",alignItems:"center",gap:8},name:{fontSize:"0.9rem",fontWeight:"bold",color:"#333"},statusDot:{width:8,height:8,borderRadius:"50%"},domain:{fontSize:"0.8rem",color:"#666"},actionButtons:{display:"flex",gap:8},actionButton:{background:"none",border:"none",fontSize:"1rem",cursor:"pointer",padding:"4px",borderRadius:4,transition:"background-color 0.2s"},emptyState:{display:"flex",justifyContent:"center",alignItems:"center",padding:"40px 20px"},emptyText:{color:"#666",fontSize:"0.9rem"}},o1=()=>{var n;const[e,t]=de.useState("recent-calls"),[l,i]=de.useState(""),s=[{id:"recent-calls",label:"آخرین تماسها",icon:"📞"},{id:"colleagues",label:"همکاران",icon:"👥"},{id:"contacts",label:"مخاطب ها",icon:"👤"},{id:"dial-pad",label:"باز کردن شماره گیر",icon:"🔢"}],u=()=>{switch(e){case"recent-calls":return U.jsx(r_,{});case"colleagues":return U.jsx(s1,{});case"contacts":return U.jsx(i1,{});case"dial-pad":return U.jsx(l1,{});default:return U.jsx(r_,{})}};return U.jsxs("div",{style:Ot.container,children:[U.jsxs("div",{style:Ot.header,children:[U.jsx("div",{style:Ot.headerLeft,children:U.jsx("span",{style:Ot.title,children:(n=s.find(d=>d.id===e))==null?void 0:n.label})}),U.jsx("div",{style:Ot.headerRight,children:U.jsx("button",{style:Ot.closeButton,children:"✕"})})]}),U.jsx("div",{style:Ot.content,children:u()}),U.jsx("div",{style:Ot.bottomNav,children:s.map(d=>U.jsxs("button",{style:{...Ot.tabButton,...e===d.id?Ot.activeTab:{}},onClick:()=>t(d.id),children:[U.jsx("span",{style:Ot.tabIcon,children:d.icon}),U.jsx("span",{style:Ot.tabLabel,children:d.label})]},d.id))})]})},Ot={container:{width:"100%",maxWidth:400,margin:"0 auto",backgroundColor:"#fff",borderRadius:8,boxShadow:"0 2px 8px rgba(0,0,0,0.1)",fontFamily:"sans-serif",direction:"rtl"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"10px",borderBottom:"1px solid #eee",backgroundColor:"lightgray"},headerLeft:{flex:1},headerRight:{flex:1,display:"flex",justifyContent:"flex-end"},title:{fontSize:"1rem",fontWeight:"bold",color:"#333"},closeButton:{background:"none",border:"none",fontSize:"1.2rem",cursor:"pointer",color:"#666"},content:{padding:"16px",minHeight:400,maxHeight:500,overflowY:"auto"},bottomNav:{display:"flex",borderTop:"1px solid #eee",backgroundColor:"#f9f9f9"},tabButton:{flex:1,display:"flex",flexDirection:"column",alignItems:"center",padding:"12px 8px",border:"none",backgroundColor:"transparent",cursor:"pointer",fontSize:"0.8rem",color:"#666"},activeTab:{backgroundColor:"#6a1b9a",color:"white"},tabIcon:{fontSize:"1.2rem",marginBottom:4},tabLabel:{fontSize:"0.7rem"}},u1=()=>(de.useEffect(()=>{Ne.connect({websocketUrl:"wss://webrtcdev.daftareshoma.com:4443",username:"112233105",password:"105",domain:"webrtcdev.daftareshoma.com"})},[]),U.jsx(r1,{children:U.jsx("div",{style:a1.container,children:U.jsx(o1,{})})})),a1={container:{minHeight:"100vh",backgroundColor:"#f5f5f5",padding:"20px",display:"flex",justifyContent:"center",alignItems:"flex-start"}};ra.createRoot(document.getElementById("root")).render(U.jsx($g.StrictMode,{children:U.jsx(u1,{})}));
